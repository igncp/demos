(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[201],{3643:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(7294),a=n(4275),o=n(8634),u=n(2656),i=n.n(u),c=n(2084),l="trend-line-module--axis--2pFpS",d="chart",s=function(){var e=(0,o.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.pvA)("/demos/data/d3js/trend-line/data.tsv");case 2:return t=e.sent,n=(0,c.Z1g)("%Y-%m-%d"),e.abrupt("return",t.map((function(e){return{arbitraryValue:+e.value,occurred:n(e.occurred)}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=50,m=50,f=50,v=50,h=500-v-p,y=2e3,g=function(e){var t=e.line,n=e.lineData;return function(){var e=(0,c.FTZ)().domain([0,1]).range((0,c.w6H)(1,n.length+1));return function(r){var a=n.slice(0,e(r));return t(a)}}},x=function(e){var t=e.initialZoomed,n=e.lineData,r=e.rootElId,a=document.getElementById(r);a.classList.add("trend-line-module--trendLineChart--32KJ2");var o=a.getBoundingClientRect().width-m-f,u=function(e){var t=(0,c.Ys)("#"+r).text("").append("svg").attr("height",h+v+p).attr("width",o+m+f).append("g").attr("transform","translate("+m+","+f+")"),a=(0,c.Xf)().range([0,o]),u=(0,c.BYU)().range([h,0]),i=(0,c.LLu)(a),d=(0,c.y4O)(u),s=(0,c.jvg)().x((function(e){return a(e.occurred)})).y((function(e){return u(e.arbitraryValue)}));a.domain((0,c.Wem)(n,(function(e){return e.occurred}))),u.domain([e?(0,c.VV$)(n,(function(e){return e.arbitraryValue})):0,(0,c.Fp7)(n,(function(e){return e.arbitraryValue}))]),t.append("g").attr("class","x "+l).attr("transform","translate(0,"+h+")").call(i),t.append("g").attr("class","y "+l).call(d),t.append("path").datum(n).transition().duration(y).attrTween("d",g({line:s,lineData:n})).attr("class","trend-line-module--line--1IGBC");var x=function(e){var t={},n=e.length,r=0,a=0,o=0,u=0,i=0;return e.forEach((function(e){a+=e.arbitraryValue,i+=e.arbitraryValue*e.arbitraryValue,o+=e.occurred.getTime()*e.arbitraryValue,r+=e.occurred.getTime(),u+=e.occurred.getTime()*e.occurred.getTime()})),t.slope=(n*o-r*a)/(n*u-r*r),t.intercept=(a-t.slope*r)/n,t.r2=Math.pow((n*o-r*a)/Math.sqrt((n*u-r*r)*(n*i-a*a)),2),t}(n),w=(0,c.jvg)().x((function(e){return a(e.occurred)})).y((function(e){return u(x.intercept+x.slope*+e.occurred)}));t.append("path").datum(n).transition().delay(y).duration(y).attrTween("d",g({line:w,lineData:n})).attr("class","trend-line-module--rline--3Goq9"),t.append("text").attr("transform","translate("+.7*o+","+.7*h+")").style("opacity",0).transition().delay(4e3).text("Slope: "+x.slope.toExponential(3)).style("opacity",1)};return u(t),{renderContent:u}},w=function(){var e=(0,o.Z)(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d,e.next=3,s();case 3:n=e.sent,a=x({initialZoomed:(r=function(){return document.querySelector('input[value="zoom"]').checked})(),lineData:n,rootElId:t}),o=a.renderContent,(0,c.td_)('input[name="mode"]').on("change",(function(){var e=r();o(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=w,E=function(e){var t=e.pageContext;return r.createElement(a.Z,{main:b,pageContext:t},r.createElement("form",null,r.createElement("label",null,r.createElement("input",{defaultChecked:!0,name:"mode",type:"radio",value:"zoom"})," Zoom"),r.createElement("label",null,r.createElement("input",{name:"mode",type:"radio",value:"normal"})," Normal")),r.createElement("div",{id:d}))}},2656:function(e,t,n){e.exports=n(3076)},8634:function(e,t,n){"use strict";function r(e,t,n,r,a,o,u){try{var i=e[o](u),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var u=e.apply(t,n);function i(e){r(u,a,o,i,c,"next",e)}function c(e){r(u,a,o,i,c,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-trend-line-tsx-8076a88be3dcbb41e7bd.js.map