(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[5],{2137:function(t,e,r){"use strict";function n(t,e,r,n,a,o,i){try{var u=t[o](i),l=u.value}catch(p){return void r(p)}u.done?e(l):Promise.resolve(l).then(n,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function u(t){n(i,a,o,u,l,"next",t)}function l(t){n(i,a,o,u,l,"throw",t)}u(void 0)}))}}r.d(e,{Z:function(){return a}})},1616:function(t,e,r){"use strict";var n=r(9165),a=r(2492),o=r.n(a),i={colorsScale:function(){},filterBlackOpacity:function(t,e,r,n){var a=e.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+t).attr("width","500%").attr("x","-200%").attr("y","-200%");a.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",r),a.append("feOffset").attr("dx",1).attr("dy",1),a.append("feComponentTransfer").append("feFuncA").attr("slope",n).attr("type","linear");var o=a.append("feMerge");return o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},filterColor:function(t,e,r,n,a){null==a&&(a=!1);var o=e.append("defs").append("filter").attr("id","drop-shadow-"+t);return a&&o.attr("height","500%").attr("width","500%").attr("x","-200%").attr("y","-200%"),o.append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),o.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",r),o.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),o.append("feComponentTransfer").append("feFuncA").attr("slope",n).attr("type","linear")},middleTitle:function(t,e,r,n){null==n&&(n=-15),t.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+String(e/2)+","+n+")").text(r).style("font-weight","bold")},svg:function(t,e,r,a){return n.Ys(t).text("").append("svg").attr("height",r+a.top+a.bottom).attr("width",e+a.left+a.right).append("g").attr("transform","translate("+a.left+","+a.top+")")},tooltip:function(t,e){null==e&&(e={});var r=o()({elementSelector:"",followElement:!1,followMouse:!1,leftOffst:60,tOpts:{container:"body",viewport:{selector:"#chart svg"}},topOffst:40},e);$(t).tooltip(r.tOpts),r.followMouse?$(t).hover((function(t){return $(".tooltip").css({left:String(t.pageX-r.leftOffst)+"px",top:String(t.pageY-r.topOffst)+"px"})})):r.followElement&&$(t).hover((function(){return $(".tooltip").css({left:String($(r.elementSelector).position().left-r.leftOffst)+"px",top:String($(r.elementSelector).position().top-r.topOffst)+"px"})}))}};e.Z=i},1887:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return w}});var n=r(7294),a=r(7538),o=r(2137),i=r(7757),u=r.n(i),l=r(9165),p=r(1616),s=["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],f=["Mo","Tu","We","Th","Fr","Sa","Su"],c=["1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12 am","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm","12 pm"],d=function(){var t=(0,o.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t){return{day:+t.day,hour:+t.hour,value:+t.value}},t.next=3,l.pvA("/demos/data/d3js/weekly-heatmap/data.tsv");case 3:return r=t.sent,t.abrupt("return",r.map(e));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=100,h=50,v=50,x=50,y=function(){var t=(0,o.Z)(u().mark((function t(e){var r,n,a,o,i,d,y,g,w,b,O;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.data,n=e.rootElId,a=document.getElementById(n).getBoundingClientRect().width-h-v,o=Math.ceil(10*a/24)-x-m+60,i=Math.floor(a/24),d=2*i,y=l.Fp7(r,(function(t){return t.value})),g=l.FTZ().domain([0,8,y]).range(s),(w=l.Ys("#"+n).append("svg").attr("height",o+x+m).attr("width",a+h+v).append("g").attr("transform","translate("+h+","+x+")")).selectAll(".dayLabel").data(f).enter().append("text").text((function(t){return t})).attr("class",(function(t,e){return e>=0&&e<=4?"dayLabel mono axis axis-workweek":"dayLabel mono axis"})).attr("transform","translate(-6,"+i/1.5+")").attr("x",0).attr("y",(function(t,e){return e*i})).style("text-anchor","end"),w.selectAll(".timeLabel").data(c).enter().append("text").text((function(t){return t})).attr("class",(function(t,e){return e>=7&&e<=16?"timeLabel mono axis axis-worktime":"timeLabel mono axis"})).attr("transform","translate("+i/2+", -6)").attr("x",(function(t,e){return e*i})).attr("y",0).style("text-anchor","middle"),(b=w.selectAll(".hour").data(r).enter().append("rect").attr("class","hour bordered").attr("height",i).attr("rx",4).attr("ry",4).attr("width",i).attr("x",(function(t){return(t.hour-1)*i})).attr("y",(function(t){return(t.day-1)*i})).style("fill",s[0])).transition().duration(6e3).style("fill",(function(t){return g(t.value)})),b.attr("data-title",(function(t){return"Value: "+t.value})),p.Z.tooltip(".hour",{tOpts:{delay:{hide:0,show:500}}}),(O=w.selectAll(".legend").data([0].concat(g.quantiles()),(function(t){return t})).enter().append("g").attr("class","legend")).append("rect").attr("x",(function(t,e){return d*e})).attr("y",o).attr("width",d).attr("height",i/2).style("fill",(function(t,e){return s[e]})).style("stroke","#CCC"),O.append("text").attr("class","mono").text((function(t){return"â‰¥ "+t.toFixed(2)})).attr("x",(function(t,e){return d*e})).attr("y",o+i);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,o.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:e=t.sent,y({data:e,rootElId:"chart"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){var e=t.pageContext.demoInfo;return n.createElement(a.Z,{demoInfo:e,main:g},n.createElement("div",{className:"weekly-heatmap-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-weekly-heatmap-js-c1cf8502732b026ec672.js.map