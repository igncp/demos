(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[3],{9646:function(e,t,r){"use strict";var n;r.d(t,{Z:function(){return h}});var a=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&o.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l,d,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},p=0,v=0;var h=function(e,t,r){var n=t&&r||0,a=t||new Array(16),o=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:d;if(null==o||null==s){var c=e.random||(e.rng||i)();null==o&&(o=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=d=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:v+1,g=u-p+(h-v)/1e4;if(g<0&&void 0===e.clockseq&&(s=s+1&16383),(g<0||u>p)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,v=h,d=s;var m=(1e4*(268435455&(u+=122192928e5))+h)%4294967296;a[n++]=m>>>24&255,a[n++]=m>>>16&255,a[n++]=m>>>8&255,a[n++]=255&m;var y=u/4294967296*1e4&268435455;a[n++]=y>>>8&255,a[n++]=255&y,a[n++]=y>>>24&15|16,a[n++]=y>>>16&255,a[n++]=s>>>8|128,a[n++]=255&s;for(var w=0;w<6;++w)a[n+w]=o[w];return t||f(a)}},6126:function(e,t,r){"use strict";var n;r.d(t,{H:function(){return a},d:function(){return n}}),function(e){e.STORYBOOK="storybook",e.TESTING="testing"}(n||(n={}));var a={SCRIPT:"/vendors/jquery-ui/jquery-ui.min.js",STYLE:"/vendors/jquery-ui/themes/base/jquery-ui.min.css"}},8839:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(7294),a=r(6126),i=r(4275),o=r(8634),s=r(2656),c=r.n(s),u=r(2094),l=r(9646),d=["#7c7cc9","#52d552","#337233","#323247"],f=20,p=20,v=function(){function e(e){var t=this;this.handleResize=function(){t.render()},this.config=e;var r=(0,u.Ys)("#"+e.rootElId).append("svg"),n=r.append("g"),a=n.append("text").attr("text-anchor","middle").attr("width","20px");this.circleClass="name-circle-"+(0,l.Z)().slice(0,6),this.elements={descriptionSel:a,gSel:n,svgSel:r},function(e){var t=e.append("defs").append("filter");t.attr("id","drop-shadow"),t.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",9),t.append("feOffset").attr("dx",5).attr("dy",5),t.append("feComponentTransfer").append("feFuncA").attr("slope",".3").attr("type","linear");var r=t.append("feMerge");r.append("feMergeNode"),r.append("feMergeNode").attr("in","SourceGraphic")}(n),this.render(),window.addEventListener("resize",this.handleResize)}e.renderChart=function(t){return new e(t)};var t=e.prototype;return t.teardown=function(){window.removeEventListener("resize",this.handleResize)},t.refresh=function(){this.render()},t.render=function(){var e=this.config,t=e.chartDescription,r=e.getCircleId,n=e.getCircleTitle,a=e.getCircleValue,i=e.getCirclesData,o=e.rootElId,s=this.elements,c=i(),l=(0,u.BYU)().domain((0,u.Wem)(c,a)).range([0,1]),v=(0,u.BYU)().domain((0,u.w6H)(0,1,1/d.length)).range(d),h=function(e){var t=a(e),r=l(t);return v(r)},g=(0,u.Fp7)(c,a),m=document.getElementById(o).getBoundingClientRect().width-f-p,y=2.5*(0,u.Fp7)(c,a);s.svgSel.attr("width",m+f+p).attr("height",y+f+p);var w=s.gSel.selectAll(".circle-group").data(c,r);w.enter().append("g").attr("class","circle-group").append("circle").attr("class",this.circleClass),w.exit().remove(),s.gSel.selectAll("."+this.circleClass).attr("cx",m/2).attr("cy",y/2).attr("title",n).style("fill","none").style("stroke",h).style("stroke-width","2px").style("filter",(function(e){return a(e)>g/2.5?"url(#drop-shadow)":""})).on("mouseenter",(function(){(0,u.Ys)(this).style("stroke","#D88021").style("stroke-width","10px")})).on("mouseleave",(function(){(0,u.Ys)(this).style("stroke",h).style("stroke-width","2px")})).attr("r",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[1];return n/5+"px"})),$("."+this.circleClass).tooltip({track:!0}),s.descriptionSel.text(t).attr("transform","translate("+m/2+","+(y-10)+")")},e}(),h="chart",g="year-slider",m=function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.gyn)("/demos/data/d3js/concentric-circles/data.csv");case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return Object.assign({},e,{count:+e.count})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return e.count},w=function(e){return e.name},C=function(e){return e.name+": "+e.count},x=function(e){var t=e.namesMetrics,r=e.state;return{chartDescription:"Circles radius are proportional to order in the ranking",getCircleId:w,getCircleTitle:C,getCircleValue:y,getCirclesData:function(){var e=new Set;return t.sort((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1];return a.count-n.count})).filter((function(t){return!e.has(t.name)&&(e.add(t.name),!0)})).filter((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[1],i=t[2];return 100*a/i.length<=r.percentage})).reverse()},rootElId:h}},k=function(){var e=(0,o.Z)(c().mark((function e(){var t,r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,100,n=x({namesMetrics:t,state:r={percentage:100}}),a=v.renderChart(n),$("#year-slider").slider({change:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[1].value;r.percentage=i,a.refresh()},max:100,min:0,value:100});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=k,E=function(e){var t=e.pageContext;return n.createElement(i.Z,{links:[a.H.STYLE],main:S,pageContext:t,scripts:[a.H.SCRIPT]},n.createElement("div",{style:{marginBottom:20}},n.createElement("p",null,"Values"),n.createElement("div",{id:g})),n.createElement("div",{id:h}))}},2656:function(e,t,r){e.exports=r(3076)},8634:function(e,t,r){"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-concentric-circles-tsx-78f82786b8cb0f429360.js.map