(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[957],{2137:function(t,e,n){"use strict";function r(t,e,n,r,a,i,s){try{var c=t[i](s),o=c.value}catch(h){return void n(h)}c.done?e(o):Promise.resolve(o).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function c(t){r(s,a,i,c,o,"next",t)}function o(t){r(s,a,i,c,o,"throw",t)}c(void 0)}))}}n.d(e,{Z:function(){return a}})},409:function(t,e,n){"use strict";var r="undefined"==typeof window?null:n(3793);e.Z=r},9361:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(7294),a=n(1335),i=n(2137),s=n(7757),c=n.n(s),o=n(409),h=function(){var t=(0,i.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/demos/data/raphael/bars-3dimensional/data.json");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.results);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){function t(t){var e=t.data,n=t.rootElId;this.rootElId=n,this.setCg(),this.setDom(),this.setData(e)}var e=t.prototype;return e.render=function(){var t=this;this.drawAxis(),this.data.keys.forEach((function(e){t.dom.els[e].el=t.dom.paper.set()})),this.createCountries(this.data.seriesDisplayed)},e.displayNextSeries=function(){var t=this.data;t.seriesDisplayed=t.seriesDisplayed+1===t.seriesLength?0:t.seriesDisplayed+1,this.animateCountries(t.seriesDisplayed)},e.setCg=function(){var t=document.getElementById(this.rootElId).getBoundingClientRect().width;this.cg={colorScheme:["#C1252D","#5F3A5F","#51A8D0"],deep:5,easing:"bounce",heightOffset:100,ratio:.6,speed:800,width:t}},e.setDom=function(){this.dom={els:{},paper:(0,o.Z)(this.rootElId,this.cg.width,245)},document.getElementById(this.rootElId).classList.add("bars-3dimensional-module--bars3DimensionalChart--2Z5ce")},e.setData=function(t){var e=this;t.keys=Object.keys(t),t.seriesDisplayed=0,t.seriesLength=t[t.keys[0]].length,t.keysLength=t.keys.length,this.data=t,t.keys.forEach((function(t){e.dom.els[t]={}}))},e.animateCountries=function(t){var e=this;this.data.keys.forEach((function(n){return e.dom.els[n].inner.animate({path:e.calcInnerPath(n,t)},e.cg.speed,e.cg.easing),e.dom.els[n].outer.animate({path:e.calcOuterPath(n,t)},e.cg.speed,e.cg.easing),e.dom.els[n].el.animate({fill:e.cg.colorScheme[t]},e.cg.speed)}))},e.drawAxis=function(){for(var t=this.dom.paper,e=this.cg.deep,n=0,r=0;r<=3;n=++r){var a="M5,"+25*n+" "+this.cg.width+","+(this.cg.heightOffset+25*n);t.path(a).attr("stroke-dasharray",". ")}return t.path("M0,"+(e+100)+" "+e+",100 "+this.cg.width+","+(100+this.cg.heightOffset)+" "+(this.cg.width-e)+","+(100+this.cg.heightOffset+e)+"Z").attr("fill","#999").attr("stroke","none")},e.calcH0=function(t,e){return 100-this.data[t][e]},e.calcH5=function(t,e){return 100-this.data[t][e]+5*this.cg.ratio},e.calcH10=function(t,e){return 100-this.data[t][e]+10*this.cg.ratio},e.calcInnerPath=function(t,e){return"M0,"+this.calcH5(t,e)+" 15,"+this.calcH10(t,e)+" 15,"+(100+10*this.cg.ratio)+" 0,"+(100+5*this.cg.ratio)+"Z"},e.calcOuterPath=function(t,e){return"M0,"+this.calcH5(t,e)+" 5,"+this.calcH0(t,e)+" 20,"+this.calcH5(t,e)+" 20,"+(100+5*this.cg.ratio)+" 15,"+(100+10*this.cg.ratio)+" 0,"+(100+5*this.cg.ratio)+"Z"},e.createCountries=function(t){var e=this,n=this.data,r=this.dom.paper;return n.keys.forEach((function(a,i){return e.dom.els[a].inner=r.path(e.calcInnerPath(a,t)),e.dom.els[a].outer=r.path(e.calcOuterPath(a,t)).attr("opacity",.5),e.dom.els[a].el.push(e.dom.els[a].inner,e.dom.els[a].outer),e.dom.els[a].el.transform("T "+e.cg.width/n.keysLength*i+","+e.cg.heightOffset/n.keysLength*i),e.dom.els[a].el.attr("fill","#C1252D").attr("stroke","none").attr("title",a+": "+n[a][t])}))},t}(),d=function(){var t=(0,i.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:e=t.sent,(n=new u({data:e,rootElId:"chart"})).render(),document.querySelector(".animate-bars").addEventListener("click",(function(t){t.preventDefault(),n.displayNextSeries()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(t){var e=t.pageContext;return r.createElement(a.Z,{main:d,pageContext:e},r.createElement("div",{style:{marginBottom:20,textAlign:"center"}},r.createElement("a",{className:"btn btn-info animate-bars",href:""},"Change Series")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-raphael-bars-3-dimensional-tsx-c2ba04626499e2baf5e7.js.map