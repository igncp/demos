{"version":3,"sources":["webpack://demos/./src/demos/bubbles/bubbles.js","webpack://demos/./src/pages/d3js/bubbles.js"],"names":["width","$","innerWidth","color","d3","scale","category20b","json","ROOT_PATH","_error","jsonData","data","forEach","d","i","arr","str","distance","metricSummary","pace","duration","split","push","size","x","length","y","chartData","key","values","chart","nv","models","scatterChart","margin","bottom","left","right","top","xAxis","axisLabelDistance","tickFormat","format","yAxis","utils","windowResize","update","forceY","forceX","defaultScatterPlot","tooltipContent","_key","_x","_y","obj","point","toFixed","axisLabel","select","append","attr","datum","call","showChart","demoInfo","pageContext","links","main","scripts","className","id","style","height"],"mappings":"uKAuEA,EAvEa,WACX,IAAMA,EAAQC,EAAE,UAAUC,aACpBC,EAAQC,GAAGC,MAAMC,cAkCvBF,GAAGG,KAAQC,sCAAwC,SAACC,EAAQC,GAC1D,IAAMC,EAAO,GAEbD,EAASC,KAAKC,SAAQ,SAACC,EAAGC,EAAGC,GAC3B,IApC2BC,EAoCrBC,GAAYJ,EAAEK,cAAcD,SAE5BE,GAnCD,IAFPH,GAD6BA,EAqCDH,EAAEK,cAAcE,UApClCC,MAAM,MAEA,GAAK,EAAIL,EAAI,GAAKA,EAAI,GAAK,IAmCrBC,EAEpBN,EAAKW,KAAK,CACRnB,MAAOA,EAAMc,GACbM,KAAMN,EACNO,EAAGT,EAAIU,OAASX,EAChBY,EAAGP,OAIP,IAAMQ,EAAY,CAChB,CACEC,IAAK,OACLC,OAAQlB,IAINmB,EAjDmB,WACzB,IAAMA,EAAQC,GAAGC,OAAOC,eAYxB,OAVAH,EAAMI,OAAO,CACXC,OAAQ,IACRC,KAAM,IACNC,MAAO,IACPC,IAAK,MAEPR,EAAMS,MAAMC,kBAAkB,IAAIC,WAAWrC,GAAGsC,OAAO,QACvDZ,EAAMa,MAAMH,kBAAkB,IAAIC,WAAWrC,GAAGsC,OAAO,QACvDX,GAAGa,MAAMC,aAAaf,EAAMgB,QAErBhB,EAAMiB,OAAO,CAAC,IAAK,MAAMC,OAAO,CAAC,EAAG,MAoC7BC,GAEdnB,EAAMoB,gBACJ,SAACC,EAAMC,EAAIC,EAAIC,GAAf,OAA0BA,EAAIC,MAAMhC,KAAKiC,QAAQ,GAAjD,SAEF1B,EAAMS,MAAME,WAAWrC,GAAGsC,OAAO,MAAMe,UAAU,iBACjD3B,EAAMa,MAAMH,kBAAkB,IAAIiB,UAAU,iBAvC5B,SAAU3B,EAAOnB,GACjCP,GAAGsD,OAAO,UACPC,OAAO,OACPC,KAAK,CACJ5D,UAED6D,MAAMlD,GACNmD,KAAKhC,GAkCRiC,CAAUjC,EAAOH,OChDrB,EAXgB,SAAC,GAAD,IAAkBqC,EAAlB,EAAGC,YAAeD,SAAlB,OACd,gBAAC,IAAD,CACEA,SAAUA,EACVE,MAAO,CAAC,+BACRC,KAAMA,EACNC,QAAS,CAAC,wBAAyB,+BAEnC,uBAAKC,UAAU,gBAAgBC,GAAG,QAAQC,MAAO,CAAEC,OAAQ","file":"component---src-pages-d-3-js-bubbles-js-ba826a27a9ea925ad17a.js","sourcesContent":["const main = function () {\n  const width = $(\"#chart\").innerWidth()\n  const color = d3.scale.category20b()\n\n  const strToMinutes = function (str) {\n    str = str.split(\":\")\n\n    return 60 * str[0] + 1 * str[1] + str[2] / 60\n  }\n\n  const defaultScatterPlot = function () {\n    const chart = nv.models.scatterChart()\n\n    chart.margin({\n      bottom: 100,\n      left: 100,\n      right: 100,\n      top: 100,\n    })\n    chart.xAxis.axisLabelDistance(45).tickFormat(d3.format(\".1f\"))\n    chart.yAxis.axisLabelDistance(45).tickFormat(d3.format(\".2f\"))\n    nv.utils.windowResize(chart.update)\n\n    return chart.forceY([4.5, 6.5]).forceX([0, 135])\n  }\n\n  const showChart = function (chart, data) {\n    d3.select(\"#chart\")\n      .append(\"svg\")\n      .attr({\n        width,\n      })\n      .datum(data)\n      .call(chart)\n  }\n\n  d3.json(`${ROOT_PATH}data/d3js/bubbles/data.json`, (_error, jsonData) => {\n    const data = []\n\n    jsonData.data.forEach((d, i, arr) => {\n      const distance = +d.metricSummary.distance\n      const time = strToMinutes(d.metricSummary.duration)\n      const pace = time / distance\n\n      data.push({\n        color: color(distance),\n        size: distance,\n        x: arr.length - i,\n        y: pace,\n      })\n    })\n\n    const chartData = [\n      {\n        key: \"Data\",\n        values: data,\n      },\n    ]\n\n    const chart = defaultScatterPlot()\n\n    chart.tooltipContent(\n      (_key, _x, _y, obj) => `${obj.point.size.toFixed(1)} km`\n    )\n    chart.xAxis.tickFormat(d3.format(\"f\")).axisLabel(\"Person Number\")\n    chart.yAxis.axisLabelDistance(10).axisLabel(\"Pace (min/km)\")\n\n    showChart(chart, chartData, \"Pace Trend\")\n  })\n}\n\nexport default main\n","import React from \"react\"\n\nimport Demo from \"@/components/demo\"\n\nimport main from \"@/demos/bubbles/bubbles\"\n\nimport \"../../demos/bubbles/bubbles.styl\"\n\nconst Bubbles = ({ pageContext: { demoInfo } }) => (\n  <Demo\n    demoInfo={demoInfo}\n    links={[\"/vendors/nvd3/nv.d3.min.css\"]}\n    main={main}\n    scripts={[\"/vendors/d3/d3.min.js\", \"/vendors/nvd3/nv.d3.min.js\"]}\n  >\n    <div className=\"bubbles-chart\" id=\"chart\" style={{ height: 600 }} />\n  </Demo>\n)\n\nexport default Bubbles\n"],"sourceRoot":""}