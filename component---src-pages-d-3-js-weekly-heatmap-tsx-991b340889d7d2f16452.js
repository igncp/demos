(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[730],{2137:function(t,e,n){"use strict";function r(t,e,n,r,a,o,u){try{var c=t[o](u),i=c.value}catch(s){return void n(s)}c.done?e(i):Promise.resolve(i).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var u=t.apply(e,n);function c(t){r(u,a,o,c,i,"next",t)}function i(t){r(u,a,o,c,i,"throw",t)}c(void 0)}))}}n.d(e,{Z:function(){return a}})},2846:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var r=n(7294),a=n(2247),o=n(2137),u=n(7757),c=n.n(u),i=n(8314),s=["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],l=s.length,d=["Mo","Tu","We","Th","Fr","Sa","Su"],f=["1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12 am","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm","12 pm"],p=function(){var t=(0,o.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.pvA)("/demos/data/d3js/weekly-heatmap/data.tsv");case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return{day:+t.day,hour:+t.hour,value:+t.value}})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=100,h=50,v=50,x=50,y=function(){var t=(0,o.Z)(c().mark((function t(e){var n,r,a,o,u,p,y,b,g,k,L,Z;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.data,r=e.rootElId,(a=document.getElementById(r)).classList.add("weekly-heatmap-chart"),o=a.getBoundingClientRect().width-h-v,u=Math.ceil(10*o/24)-x-m+60,p=Math.floor(o/24),y=2*p,b=(0,i.Fp7)(n,(function(t){return t.value})),g=(0,i.FTZ)().domain([0,l-1,b]).range(s),(k=(0,i.Ys)("#"+r).append("svg").attr("height",u+x+m).attr("width",o+h+v).append("g").attr("transform","translate("+h+","+x+")")).selectAll(".dayLabel").data(d).enter().append("text").text((function(t){return t})).attr("class",(function(t,e){return e>=0&&e<=4?"dayLabel mono axis axis-workweek":"dayLabel mono axis"})).attr("transform","translate(-6,"+p/1.5+")").attr("x",0).attr("y",(function(t,e){return e*p})).style("text-anchor","end"),k.selectAll(".timeLabel").data(f).enter().append("text").text((function(t){return t})).attr("class",(function(t,e){return e>=7&&e<=16?"timeLabel mono axis axis-worktime":"timeLabel mono axis"})).attr("transform","translate("+p/2+", "+"-6)").attr("x",(function(t,e){return e*p})).attr("y",0).style("text-anchor","middle"),(L=k.selectAll(".hour").data(n).enter().append("rect").attr("class","hour bordered").attr("height",p).attr("rx",100).attr("ry",100).attr("width",p).attr("x",(function(t){return(t.hour-1)*p})).attr("y",(function(t){return(t.day-1)*p})).style("fill",s[0])).transition().duration(6e3).style("fill",(function(t){return g(t.value)})),L.attr("data-title",(function(t){return"Value: "+t.value})),w(".hour"),(Z=k.selectAll(".legend").data([0].concat(g.quantiles()),(function(t){return t})).enter().append("g").attr("class","legend")).append("rect").attr("x",(function(t,e){return y*e})).attr("y",u).attr("width",y).attr("height",p/2).style("fill",(function(t,e){return s[e]})).style("stroke","#ccc"),Z.append("text").attr("class","mono").text((function(t){return"â‰¥ "+t.toFixed(2)})).attr("x",(function(t,e){return y*e})).attr("y",u+p);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(t){$(t).tooltip({container:"body",delay:{hide:0,show:500},viewport:{selector:"#chart svg"}})},b=function(){var t=(0,o.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:e=t.sent,y({data:e,rootElId:"chart"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(t){var e=t.pageContext.demoInfo;return r.createElement(a.Z,{demoInfo:e,main:b},r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-weekly-heatmap-tsx-991b340889d7d2f16452.js.map