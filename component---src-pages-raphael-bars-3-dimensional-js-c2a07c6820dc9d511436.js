(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[77],{4227:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var n=a(7294),r=a(7538),i="undefined"==typeof window?null:a(3793),c={getData:function(e){return $.ajax("/demos/data/raphael/bars-3dimensional/data.json").done((function(t){return c.data=t.results,c.setData(),e()}))},setData:function(){var e=c.data;e.keys=Object.keys(e),e.seriesDisplayed=0,e.seriesLength=e[e.keys[0]].length,e.keysLength=e.keys.length,e.keys.forEach((function(e){c.dom.els[e]={}}))},setCg:function(e){null==e&&(e={}),c.cg=_.extend({colorScheme:["#C1252D","#5F3A5F","#51A8D0"],deep:5,easing:"bounce",heightOffset:100,ratio:.6,speed:800,width:$("#chart").width()},e)},setDom:function(){c.dom={els:{},paper:i("chart",c.cg.width,245)}},drawAxis:function(){for(var e=c.dom.paper,t=c.cg.deep,a=0,n=0;n<=3;a=++n){var r="M5,"+String(25*a)+" "+c.cg.width+","+String(c.cg.heightOffset+25*a);e.path(r).attr({"stroke-dasharray":". "})}return e.path("M0,"+(t+100)+" "+t+",100 "+c.cg.width+","+(100+c.cg.heightOffset)+" "+(c.cg.width-t)+","+(100+c.cg.heightOffset+t)+"Z").attr({fill:"#999",stroke:"none"})},calcH0:function(e,t){return 100-c.data[e][t]},calcH5:function(e,t){return 100-c.data[e][t]+5*c.cg.ratio},calcH10:function(e,t){return 100-c.data[e][t]+10*c.cg.ratio},calcInnerPath:function(e,t){return"M0,"+c.calcH5(e,t)+" 15,"+c.calcH10(e,t)+" 15,"+(100+10*c.cg.ratio)+" 0,"+(100+5*c.cg.ratio)+"Z"},calcOuterPath:function(e,t){return"M0,"+c.calcH5(e,t)+" 5,"+c.calcH0(e,t)+" 20,"+c.calcH5(e,t)+" 20,"+(100+5*c.cg.ratio)+" 15,"+(100+10*c.cg.ratio)+" 0,"+(100+5*c.cg.ratio)+"Z"},createCountries:function(e){var t=c.data,a=c.dom.paper;return t.keys.forEach((function(n,r){return c.dom.els[n].inner=a.path(c.calcInnerPath(n,e)),c.dom.els[n].outer=a.path(c.calcOuterPath(n,e)).attr({opacity:".5"}),c.dom.els[n].el.push(c.dom.els[n].inner,c.dom.els[n].outer),c.dom.els[n].el.transform("T "+String(c.cg.width/t.keysLength*r)+","+String(c.cg.heightOffset/t.keysLength*r)),c.dom.els[n].el.attr({fill:"#C1252D",stroke:"none",title:n+": "+t[n][e]})}))},animateCountries:function(e){c.data.keys.forEach((function(t){return c.dom.els[t].inner.animate({path:c.calcInnerPath(t,e)},c.cg.speed,c.cg.easing),c.dom.els[t].outer.animate({path:c.calcOuterPath(t,e)},c.cg.speed,c.cg.easing),c.dom.els[t].el.animate({fill:c.cg.colorScheme[e]},c.cg.speed)}))},bindClickEvent:function(){var e=c.data;return $(".animate-bars").bind("click",(function(t){return t.preventDefault(),e.seriesDisplayed+1===e.seriesLength?e.seriesDisplayed=0:e.seriesDisplayed=e.seriesDisplayed+1,c.animateCountries(e.seriesDisplayed)}))},render:function(){return c.drawAxis(),c.data.keys.forEach((function(e){c.dom.els[e].el=c.dom.paper.set()})),c.bindClickEvent(),c.createCountries(c.data.seriesDisplayed)},ready:function(){return c.setCg(),c.setDom(),c.getData(c.render)}},s=function(){c.ready()},o=function(e){var t=e.pageContext.demoInfo;return n.createElement(r.Z,{demoInfo:t,main:s},n.createElement("div",{style:{marginBottom:20,textAalign:"center"}},n.createElement("a",{className:"btn btn-info animate-bars",href:""},"Change Series")),n.createElement("div",{className:"bars-3dimensional-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-raphael-bars-3-dimensional-js-c2a07c6820dc9d511436.js.map