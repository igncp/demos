(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[640],{2137:function(t,e,n){"use strict";function a(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,u,"next",t)}function u(t){a(i,r,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return r}})},2395:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var a,r=n(7294),o=n(1335),i=n(2137),s=n(7757),u=n.n(s),c=n(3241),l=20,d=200,p=40,f=90,m=750-f-l,h=["#7C7CC9","#429742","#63BD28","#D14141"],v="Comparison of 41 map projections by four different types of distortion. Lower is better.";!function(t){t.Acc40="Acc. 40ยบ 150%",t.Scale="Scale",t.Areal="Areal",t.Angular="Angular"}(a||(a={}));var g=function(t){var e=[a.Acc40,a.Scale,a.Areal,a.Angular].map((function(e){return Number(t[e]).toFixed(2)+" ("+e+")"}));return t.name+": "+e.join(", ")},y=function(t){var e=t.data,n=t.rootElId,r=document.getElementById(n);r.classList.add("map-distorsions-chart");var o=r.getBoundingClientRect().width-d-p,i=[{name:"name",scale:(0,c.q2y)().range([0,m]),type:String},{name:a.Acc40,scale:(0,c.BYU)().range([0,m]),type:Number},{name:a.Scale,scale:(0,c.BYU)().range([m,0]),type:Number},{name:a.Areal,scale:(0,c.PUr)().range([m,0]),type:Number},{name:a.Angular,scale:(0,c.BYU)().range([m,0]),type:Number}],s=(0,c.Ys)("#"+n).append("svg").attr("height",m+f+l).attr("width",o+d+p).append("g").attr("transform","translate("+d+","+f+")");s.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+o/2+",-60)").text(v).style("font-weight","bold");var u=(0,c.q2y)().domain(i.map((function(t){return t.name}))).range([0,o]),h=(0,c.jvg)().defined((function(t){return!isNaN(t[1])})),y=s.selectAll(".dimension").data(i).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+u(t.name)+")"}));b("lines",s,2,.4);var x=e.slice(0).sort((function(t,e){var n=t.name,a=e.name;return n===a?0:n<a?-1:1})),w=A([0,x.length-1]);i.forEach((function(t){return t.scale.domain(t.type===Number?(0,c.Wem)(x,(function(e){return+e[t.name]})):x.map((function(e){return e[t.name]})).sort())}));var k=function(t){var e=i.map((function(e){return[u(e.name),e.scale(t[e.name])]}));return h(e)};s.append("g").attr("class","background").selectAll("path").data(x).enter().append("path").attr("d",k).attr("title",g),s.append("g").attr("class","foreground").selectAll("path").data(x).enter().append("path").attr("d",k).attr("data-title",g),y.append("g").attr("class","axis").each((function(t){var e=(0,c.y4O)(t.scale);return(0,c.Ys)(this).call(e)})).append("text").attr("class","title").attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),s.select(".axis").selectAll("text:not(.title)").attr("class","label").data(x,(function(t){return t.name})).style("fill",(function(t,e){return w(e)}));var C=function(){this.parentNode.appendChild(this)};s.selectAll(".foreground path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(t,e){return w(e)}));var B=s.selectAll(".axis text,.background path,.foreground path").on("mouseover",(function(t,e){s.selectAll(".foreground path").style("filter","none"),s.classed("active",!0),B.classed("inactive",(function(t){return t.name!==e.name})),B.filter((function(t){return t.name===e.name})).each(C)})).on("mouseout",(function(){s.selectAll(".foreground path").style("filter","url(#drop-shadow-lines)"),s.classed("active",!1),B.classed("inactive",!1)}));$(".background path, .foreground path").tooltip({track:!0})},A=function(t){var e=(0,c.BYU)().domain(t).range([0,1]),n=(0,c.BYU)().domain((0,c.w6H)(0,1,1/h.length)).range(h);return function(t){return n(e(t))}},b=function(t,e,n,a){var r=e.append("defs").append("filter").attr("id","drop-shadow-"+t);r.append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),r.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",n),r.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),r.append("feComponentTransfer").append("feFuncA").attr("slope",a).attr("type","linear")},x=function(){var t=(0,i.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.pvA)("/demos/data/d3js/map-distorsions/data.tsv");case 2:e=t.sent,"chart",y({data:e,rootElId:"chart"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){var e=t.pageContext;return r.createElement(o.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:x,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-tsx-6dd066587aacf32190dd.js.map