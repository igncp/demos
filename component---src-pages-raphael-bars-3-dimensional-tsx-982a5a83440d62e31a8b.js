(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[957],{3398:function(e,t,n){"use strict";var r="undefined"==typeof window?null:n(3685);t.Z=r},2590:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7294),i=n(4275),s=n(8634),a=n(2656),c=n.n(a),o=n(3398),u="chart",h=function(){var e=(0,s.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/demos/data/raphael/bars-3dimensional/data.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){function e(e){var t=e.countriesMetrics,n=e.rootElId;this.rootElId=n,this.setCg(),this.setDom(),this.setData(t)}var t=e.prototype;return t.render=function(){var e=this;this.drawAxis(),this.countriesMetrics.keys.forEach((function(t){e.dom.elements[t].paperSet=e.dom.paper.set()})),this.createCountries(this.countriesMetrics.seriesDisplayed)},t.displayNextSeries=function(){var e=this.countriesMetrics;e.seriesDisplayed=e.seriesDisplayed+1===e.seriesLength?0:e.seriesDisplayed+1,this.animateCountries(e.seriesDisplayed)},t.setCg=function(){var e=document.getElementById(this.rootElId).getBoundingClientRect().width;this.cg={colorScheme:["#c1252d","#5f3a5f","#51a8d0"],deep:5,easing:"bounce",heightOffset:100,ratio:.6,speed:800,width:e}},t.setDom=function(){this.dom={elements:{},paper:(0,o.Z)(this.rootElId,this.cg.width,245)},document.getElementById(this.rootElId).classList.add("bars-3dimensional-module--bars3DimensionalChart--2Z5ce")},t.setData=function(e){var t=this;e.keys=Object.keys(e),e.seriesDisplayed=0,e.seriesLength=e[e.keys[0]].length,e.keysLength=e.keys.length,this.countriesMetrics=e,e.keys.forEach((function(e){t.dom.elements[e]={}}))},t.animateCountries=function(e){var t=this;this.countriesMetrics.keys.forEach((function(n){return t.dom.elements[n].inner.animate({path:t.calcInnerPath({countryName:n,serieIndex:e})},t.cg.speed,t.cg.easing),t.dom.elements[n].outer.animate({path:t.calcOuterPath({countryName:n,serieIndex:e})},t.cg.speed,t.cg.easing),t.dom.elements[n].paperSet.animate({fill:t.cg.colorScheme[e]},t.cg.speed)}))},t.drawAxis=function(){var e=this,t=this.dom.paper,n=this.cg.deep;return Array.from({length:4}).forEach((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r[1],a=25*s,c="M5,"+a+" "+e.cg.width+","+(e.cg.heightOffset+a);t.path(c).attr("stroke-dasharray",". ")})),t.path("M0,"+(n+100)+" "+n+",100 "+this.cg.width+","+(100+this.cg.heightOffset)+" "+(this.cg.width-n)+","+(100+this.cg.heightOffset+n)+"Z").attr("fill","#999").attr("stroke","none")},t.calcH0=function(e){var t=e.countryName,n=e.serieIndex;return 100-this.countriesMetrics[t][n]},t.calcH5=function(e){var t=e.countryName,n=e.serieIndex;return 100-this.countriesMetrics[t][n]+5*this.cg.ratio},t.calcH10=function(e){var t=e.countryName,n=e.serieIndex;return 100-this.countriesMetrics[t][n]+10*this.cg.ratio},t.calcInnerPath=function(e){var t=e.countryName,n=e.serieIndex;return"M0,"+this.calcH5({countryName:t,serieIndex:n})+" 15,"+this.calcH10({countryName:t,serieIndex:n})+" 15,"+(100+10*this.cg.ratio)+" 0,"+(100+5*this.cg.ratio)+"Z"},t.calcOuterPath=function(e){var t=e.countryName,n=e.serieIndex;return"M0,"+this.calcH5({countryName:t,serieIndex:n})+" 5,"+this.calcH0({countryName:t,serieIndex:n})+" 20,"+this.calcH5({countryName:t,serieIndex:n})+" 20,"+(100+5*this.cg.ratio)+" 15,"+(100+10*this.cg.ratio)+" 0,"+(100+5*this.cg.ratio)+"Z"},t.createCountries=function(e){var t=this,n=this.countriesMetrics,r=this.dom.paper;return n.keys.forEach((function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var c=s[0],o=s[1];return t.dom.elements[c].inner=r.path(t.calcInnerPath({countryName:c,serieIndex:e})),t.dom.elements[c].outer=r.path(t.calcOuterPath({countryName:c,serieIndex:e})).attr("opacity",.5),t.dom.elements[c].paperSet.push(t.dom.elements[c].inner,t.dom.elements[c].outer),t.dom.elements[c].paperSet.transform("T "+t.cg.width/n.keysLength*o+","+t.cg.heightOffset/n.keysLength*o),t.dom.elements[c].paperSet.attr("fill","#c1252d").attr("stroke","none").attr("title",c+": "+n[c][e])}))},e}(),l=function(){var e=(0,s.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,(n=new d({countriesMetrics:t,rootElId:u})).render(),document.querySelector(".animate-bars").addEventListener("click",(function(e){e.preventDefault(),n.displayNextSeries()}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=l,f=function(e){var t=e.pageContext;return r.createElement(i.Z,{main:m,pageContext:t},r.createElement("div",{style:{marginBottom:20,textAlign:"center"}},r.createElement("a",{className:"btn btn-info animate-bars",href:""},"Change Series")),r.createElement("div",{id:u}))}},2656:function(e,t,n){e.exports=n(3076)},8634:function(e,t,n){"use strict";function r(e,t,n,r,i,s,a){try{var c=e[s](a),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var a=e.apply(t,n);function c(e){r(a,i,s,c,o,"next",e)}function o(e){r(a,i,s,c,o,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=component---src-pages-raphael-bars-3-dimensional-tsx-982a5a83440d62e31a8b.js.map