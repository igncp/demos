{"version":3,"file":"component---src-pages-d-3-js-partition-tsx-f47d77d513bb1f179fac.js","mappings":"qKAoCA,EAxBkB,SAAC,GAAD,MAAGA,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,WAAYC,EAA5B,EAA4BA,KAA5B,OAChB,sBAAIC,UAAU,MAAMC,GAAIC,EAAAA,IACtB,wBAAMF,UAAU,2BACd,wBAAMA,UAAWE,EAAAA,IAAkBH,EAAnC,WACA,yBAAOE,GAAIC,EAAAA,GAAmBC,MAAM,eAClC,qBAAGC,KAAMN,GAAT,SAEAD,GACA,yBAAOI,GAAIC,EAAAA,GAAgBC,MAAM,uCAAjC,QAKJ,sCACEH,UAAS,0BAA4BE,EAAAA,MADvC,MCzBmB,kBD2BO,GAF1B,IAIE,qBAAGF,UAAU,eAAeI,KAAMC,UAAWC,KAAK,UAChD,wBAAMN,UAAU,6BADlB,YE7BOO,EAAyB,SAACC,GAAD,mBACvBA,EADuB,UACLA,EADK,WCkBtC,EAd+B,WAC7B,OAAwCC,EAAAA,EAAAA,UAAwB,MAAzDC,EAAP,KAAqBC,EAArB,KAUA,OARAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,ECPc,oBAAXC,OACF,KAGFC,KAAKC,IACVC,SAASC,KAAKC,YACdF,SAASG,gBAAgBD,YACzBF,SAASC,KAAKG,YACdJ,SAASG,gBAAgBC,YACzBJ,SAASG,gBAAgBE,aDAG,OAAxBT,GACFF,EAAgBE,KAEjB,IAEIH,GE0BT,EAjCqB,SAAC,GAAwB,IAAtBa,EAAqB,EAArBA,QACtB,GAAoCd,EAAAA,EAAAA,WAAS,GAAtCe,EAAP,KAAmBC,EAAnB,KACMf,EAAegB,IAErB,OAAqB,OAAjBhB,EACK,MAGJA,GAAiBA,EAAe,OAASc,EAE1C,uBAAKxB,UAAWE,EAAAA,IACd,0BACEF,UAAcE,EAAAA,GAAL,iBACTyB,QAAS,kBAAMF,GAAc,IAC7BG,KAAK,UAHP,cAYJ,2BACE,wBACEC,wBAAyB,CACvBC,OAAQP,OCvBZQ,EAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACf,gCACE,kCACA,qBACE5B,KAAI,4CAA8C4B,EAClDC,IAAI,aACJC,OAAO,UAHT,oBASEC,EAAiB,SAAC,GAAD,IAAGH,EAAH,EAAGA,SAAH,OACrB,gCACE,kCACA,qBACE5B,KAAI,mDAAqD4B,EAArD,QACJC,IAAI,aACJC,OAAO,UAHT,gCA+JJ,EAjJqB,SAAC,GAAyB,IAAvBE,EAAsB,EAAtBA,SACtB,GAAsB,oBAAXtB,OACT,OAAO,KAGT,IAAMuB,EAAY,SAAYD,EAASE,SAArB,IAAiCF,EAASG,IAA1C,IAAiDH,EAASI,MAAMC,KAAKb,KAEvF,OACE,6BACKQ,EAASM,MAAMC,QAChB,uBAAK3C,UAAS,6BAA+BE,EAAAA,IAC3C,yBACE,yCAEF,0BACGkC,EAASM,MAAME,KAAI,uFAAKC,EAAL,KAAWC,EAAX,YAClB,sBAAIjB,wBAAyB,CAAEC,OAAQe,GAAQN,IAAKO,WAKzDV,EAASW,QAAQJ,QAClB,uBAAK3C,UAAS,iCAAmCE,EAAAA,IAC/C,yBACE,0DAEF,0BACGkC,EAASW,QAAQH,KAAI,uFAAKI,EAAL,KAAkBC,EAAlB,YACpB,qBACEpB,wBAAyB,CAAEC,OAAQkB,GACnCT,IAAKU,SAMf,uBAAKjD,UAAU,gCAAgCC,GAAIC,EAAAA,IACjD,yBACE,2CAEF,0BACGkC,EAASc,QAAQN,KAAI,uFAAKO,EAAL,KAAaC,EAAb,YACpB,sBAAIb,IAAKa,GACP,wBAAMpD,UAAWE,EAAAA,IAAjB,IAAwCkD,EAAc,EAAtD,KADF,IACoE,IAClE,qBAAGhD,KAAM+C,GAASA,WAKvBf,EAASiB,KAAKV,QACf,uBAAK3C,UAAU,kCAAkCC,GAAG,QAClD,yBACE,wCAEF,uBAAKD,UAAWE,EAAAA,IACbkC,EAASiB,KAAKT,KAAI,SAACU,GAAD,OACjB,wBAAMtD,UAAWE,EAAAA,GAAYqC,IAAKe,EAAI,IACpC,qBAAGlD,KAAMkD,EAAI,GAAIrB,IAAI,aAAaC,OAAO,UACtCoB,EAAI,YAOdlB,EAASmB,UAAUZ,QACpB,uBAAK3C,UAAU,gCAAgCC,GAAIC,EAAAA,IACjD,yBACE,8CACCkC,EAASmB,UAAUX,KAAI,uFAAKY,EAAL,KAAWC,EAAX,YACtB,qBACErD,KAASC,eAAiB+B,EAASE,SAA/B,IAA2CF,EAASG,IAApD,IAA2DiB,EAC/DjB,IAAKkB,GAEJD,QAMX,uBAAKxD,UAAU,gCAAgCC,GAAG,QAChD,yBACE,wCAEF,0BACGmC,EAASI,MAAMkB,OAAOd,KACrB,8FAAOrB,EAAP,EAAOA,QAASS,EAAhB,EAAgBA,SAAYyB,EAA5B,YACE,sBAAIlB,IAAKP,GACP,yBACE,wBAAMhC,UAAWE,EAAAA,IAAyB8B,GAAiB,IAC3D,gBAACD,EAAD,CAAUC,SAAUA,IAAa,IACjC,gBAACG,EAAD,CAAgBH,SAAUA,IACX,IAAdyB,GACC,gCACE,mCACA,qBACErD,KAAI,4CAA8CG,EAChD6B,EAASG,KAEXN,IAAI,aACJC,OAAO,UALT,eAYN,gBAAC,EAAD,CAAcX,QAASA,IACvB,uBAAKvB,UAAWE,EAAAA,SAItB,0BACE,yBACE,wBAAMF,UAAWE,EAAAA,IAAyBmC,GAAqB,IAC/D,gBAACN,EAAD,CAAUC,SAAUK,IAAiB,IACrC,gBAACF,EAAD,CAAgBH,SAAUK,KAE5B,gBAAC,EAAD,CAAcd,QAASa,EAASI,MAAMC,KAAKlB,YACxCa,EAASI,MAAMmB,QAAQhB,QACxB,uBAAK3C,UAAWE,EAAAA,MAGnBkC,EAASI,MAAMmB,QAAQf,KACtB,8FAAOrB,EAAP,EAAOA,QAASS,EAAhB,EAAgBA,SAAY4B,EAA5B,YACE,sBAAIrB,IAAKP,GACP,yBACE,wBAAMhC,UAAWE,EAAAA,IAAyB8B,GAAiB,IAEzD,gBAACD,EAAD,CAAUC,SAAUA,KAGxB,gBAAC,EAAD,CAAcT,QAASA,IACtBqC,IAAaxB,EAASI,MAAMmB,QAAQhB,OAAS,GAC5C,uBAAK3C,UAAWE,EAAAA,a,UCrK5B2D,EAAY,SAACC,GAAD,MACL,MAAXA,EAAI,GAAazD,UAAYyD,EAAIC,QAAQ,MAAO,IAAMD,GAkExD,EAxDa,SAAC,GAMA,IALZE,EAKW,EALXA,KACAC,EAIW,EAJXA,SAIW,IAHXC,QAAAA,OAGW,MAHD,GAGC,MAFXC,MAAAA,OAEW,MAFH,GAEG,EADXC,EACW,EADXA,YAEQhC,EAAmBgC,EAAnBhC,SAAUiC,EAASD,EAATC,KACVxE,EAA+BuC,EAA/BvC,YAAaE,EAAkBqC,EAAlBrC,KAAMmD,EAAYd,EAAZc,QAa3B,OAXAtC,EAAAA,EAAAA,YAAU,WACc,oBAAXE,QAIXkD,IAAOM,OAAM,SAACC,GAEZC,QAAQC,MAAM,SAAUF,QAEzB,IAGD,gBAAC,IAAD,KACE,gBAACG,EAAA,EAAD,CACEC,KAA+CR,EAAYvB,KACzD,SAACxC,GAAD,MAAW,CACTA,KAAMyD,EAAUzD,GAChB6B,IAAK,aACLL,KAAM,eAGVyC,KAAM,CACJ,CACE9C,QAAS8C,EAAKO,YACd7E,KAAM,gBAGV8E,OAAiDX,EAActB,KAC7D,SAACkC,GAAD,MAAU,CACRA,IAAKjB,EAAUiB,GACflD,KAAM,sBAGVzB,MAAUiC,EAASrC,KAAd,mBAEP,gBAAC,EAAD,CACEF,YAAaA,EACbC,WAAYoD,EAAQ,GACpBnD,KAAMA,IAEPkE,EACD,gBAAC,EAAD,CAAc7B,SAAUA,O,0FC7D9B,EANe,kBACb,0BAAQpC,UAAWE,EAAAA,IACjB,0BAAI,IAAI6E,MAAOC,iBCoCnB,EAtCkB,kBAChB,uBAAKhF,UAAWE,EAAAA,IACd,sBAAIF,UAAU,OACZ,wBAAMA,UAAU,sBACd,qBAAGI,KAAMC,WAAT,SAA8B,IAC9B,yBAAOL,UAAU,eAAjB,4CAIF,wBAAMA,UAAU,qBAAqBC,GAAIC,EAAAA,IACvC,0BACEF,UAAU,cACViF,YAAY,IACZC,OAAO,KACPC,UAAU,IACVL,IAAI,uEACJM,MAAM,QAER,0BACEpF,UAAU,cACViF,YAAY,IACZC,OAAO,KACPC,UAAU,IACVL,IAAI,qEACJM,MAAM,OAER,0BACEH,YAAY,IACZC,OAAO,KACPC,UAAU,IACVL,IAAI,sEACJM,MAAM,WCZhB,EAZe,SAAC,GAAD,IAAGnB,EAAH,EAAGA,SAAH,OACb,gCACE,uBAAKjE,UAAWE,EAAAA,IACd,uBAAKF,UAAU,gBACb,gBAAC,EAAD,MACCiE,IAGL,gBAAC,EAAD,S,mFCKCoB,E,2DCxBCC,EAAe,QACfC,EAAY,YACZC,EAAsB,KDsBvBH,SAAAA,GAAAA,EAAAA,MAAAA,QAAAA,EAAAA,KAAAA,OAAAA,CAAAA,IAAAA,EAAAA,KAKL,IAEMI,EAASC,EAAAA,IAETC,EAAkB,SAAYC,GAAZ,MAAoD,CAC1EC,MAAOD,EAAKC,MACZC,GAAIF,EAAKE,GACTC,GAAIH,EAAKG,GACTC,GAAIJ,EAAKI,GACTC,GAAIL,EAAKK,KAGLC,EACJ,gBACEC,EADF,EACEA,GACAC,EAFF,EAEEA,YAFF,OAOA,WAAwE,IAAD,wEAAlEC,EAAkE,KAAvDC,EAAuD,KAChDC,EAAgBH,EAA5BE,GAEHE,GAAgBC,EAAAA,EAAAA,KACpBd,EAAgBY,GAChBZ,EAAgBU,IAGlB,OAAO,SAACK,GACN,IAAMC,EAAmBH,EAAcE,GAEvC,OAAOP,EAAGQ,MAsBVC,EAAAA,WAUJ,WAAmBC,GAAiC,IAAD,YAkRlCC,aAAe,WAC9B,EAAKC,UAlRLC,KAAKH,OAASA,EAEd,IAAQI,EAA4BJ,EAA5BI,cAAeC,EAAaL,EAAbK,SAEjBC,GAAMC,EAAAA,EAAAA,IAAO,IAAIF,GAAYG,OAAO,OAAOC,KAAK,IAChDC,EAAUJ,EAAIE,OAAO,KACrBG,EAAOD,EAAQF,OAAO,KAE5BL,KAAKS,MAAQ,CACXC,YAAa,GACbC,KAAM,CAAEC,EAAG,EAAGC,EAAG,GACjBZ,cAAAA,GAGFD,KAAKS,MAAMC,YAAcV,KAAKc,mBAE9Bd,KAAKe,SAAW,CACdZ,IAAAA,EACAI,QAAAA,EACAC,KAAAA,GAGFR,KAAKgB,YAELlH,OAAOmH,iBAAiB,SAAUjB,KAAKF,cACxC,kBAsPA,OAtPA,EAEMoB,gBAAP,SAAuBC,GACrBnB,KAAKS,MAAMR,cAAgBkB,EAE3B,IAAMC,EAAiBpB,KAAKc,mBAE5Bd,KAAKS,MAAMC,YAAcU,EAEzBpB,KAAKqB,qBACN,EAEMtB,OAAP,WACE,IAAQ3B,EAAU4B,KAAKsB,gBAAflD,MACR,EAEI4B,KADFe,SAAYZ,EADd,EACcA,IAAKK,EADnB,EACmBA,KAGnBL,EAAIoB,KAAK,QAASnD,GAAOmD,KAAK,SA3GnB,KA4GXf,EAAKe,KAAK,YAAV,aAAoCnD,EAAQ,EAA5C,SAEA4B,KAAKqB,qBACN,EAEOC,cAAR,WACE,IACYpB,EACRF,KADFH,OAAUK,SAEJ9B,EACNnE,SAASuH,eAAetB,GACxBuB,wBAFMrD,MAGFsD,EAAa3H,KAAKC,IAAIoE,EAAO,KAGnC,MAAO,CACLsD,WAAAA,EACAC,OAJa5H,KAAK6H,IAAIF,EAzHb,KAyHmC,EAK5CtD,MAAAA,IAEH,EAEO0C,iBAAR,WACE,MAGId,KAFFH,OAAUgC,EADZ,EACYA,YAAaC,EADzB,EACyBA,SACd7B,EACPD,KADFS,MAASR,cAEH0B,EAAW3B,KAAKsB,gBAAhBK,OACFI,GAAoBC,EAAAA,EAAAA,KAAUF,GAAUG,KAC5C,SAACrD,GAAD,uBAA2BiD,EAAYjD,UAAvC,QAAgD,KAE5CsD,GAAqBF,EAAAA,EAAAA,KAAUF,GAAUG,KAAI,kBAAM,KAOzD,OANkBE,EAAAA,EAAAA,OAA+BC,KAAK,CAAC,EAAIrI,KAAKsI,GAAIV,GAE5CW,CACJ,SAAlBrC,EAA2B8B,EAAoBG,GAG1BxB,eACxB,EAEOM,UAAR,WAAqB,IAAD,OAClB,EAEIhB,KADFe,SAAYZ,EADd,EACcA,IAAKI,EADnB,EACmBA,QAGbgC,EAAU,SACdC,GAEA,EAAK/B,MAAME,KAAKC,GAAK4B,EAAUC,GAC/B,EAAKhC,MAAME,KAAKE,GAAK2B,EAAUE,GAE/BnC,EAAQgB,KACN,YADF,aAEe,EAAKd,MAAME,KAAKC,EAF/B,IAEoC,EAAKH,MAAME,KAAKE,EAFpD,MAMI8B,GAAeC,EAAAA,EAAAA,OAAiCC,GAAG,OAAQN,GAEjEpC,EACG2C,MAAM,SAAU,QAChBC,KAAKJ,GACLE,GAAG,OAAQN,GACXM,GAAG,QAAS,OAChB,EAEOxB,kBAAR,WACE,MAIIrB,KAHFH,OAAUmD,EADZ,EACYA,aAAcC,EAD1B,EAC0BA,aACZzC,EAEVR,KAFFe,SAAYP,KACU0C,EACpBlD,KADFS,MAASC,YAGLyC,GAAaC,EAAAA,EAAAA,KAAaC,EAAAA,KAE1BC,EAAQ,SAAC1E,GAAD,OACZA,EAAK3B,SACDkG,EAAWH,EAAapE,EAAK2E,OAC7BJ,EAAWH,EAAapE,EAAK4E,OAAQD,QAErCE,GAAMC,EAAAA,EAAAA,OACTC,YAAW,SAAC/E,GAAD,OAAUA,EAAKE,MAC1B8E,UAAS,SAAChF,GAAD,OAAUA,EAAKG,MACxB8E,aAAY,SAACjF,GAAD,OAAUA,EAAKI,MAC3B8E,aAAY,SAAClF,GAAD,OAAUA,EAAKK,MAC3B8E,SAAS,KAENC,EAAiB,SAACpF,GACtB,IAAKA,EAAKC,MACR,MAAO,GAGT,IAKQoF,EALFC,EAAWT,EAAIS,SAAJ,iBACZtF,EADY,CAEfE,GAAIF,EAAKE,GAAoC,KAA9BF,EAAKE,GAAK/E,KAAKsI,IAAM,EAAI,MAS1C,MAAO,CAAC,YANA4B,EACJ,GAA4C,KAArCrF,EAAKE,IAAMF,EAAKG,GAAKH,EAAKE,IAAM,GAAY/E,KAAKsI,IAExC,IAAM4B,EAAW,IAAMA,EAAW,IAAMA,GAGrD,IACoBC,EAAS,GAD7B,IACmCA,EAAS,GAD5C,iBAEQA,EAAS,GAFjB,IAEuBA,EAAS,GAFhC,KAGLC,KAAK,MAGHC,EAAU5D,EAAK6D,UAGnB,QACIC,EAAkBF,EAAQb,OAC1BgB,EAAOH,EAAQb,KAAKL,GAE1BqB,EAAKC,OAAOC,SAEZ,IAAMC,EAAYH,EACfI,QACAtE,OAAO,QACPkB,KAAK,WAAW,SAAC3C,GAAD,OAAWA,EAAKC,MAAQ,KAAO,UAC/C0C,KAAK,cAAc,uFAAOjC,EAAP,YAAsBA,KACzCwD,MAAM,SAAU,QAChBA,MAAM,eAAgB,SACtBA,MAAM,mBAAoB,OAC1BA,MAAM,OAAQQ,GACd/B,KAAK,IAAKkC,GAEbc,EACGK,aACAC,SAASrG,GACTsG,KAAKrG,GACLsG,UACC,IACA7F,EAAkB,CAAEC,GAAIsE,EAAKrE,YAAakF,KAG9C,IAAMU,EAAkBxE,EAAK6D,UAG3B,QACIY,EAAmBD,EAAgBzB,OACnC2B,EAAeF,EAAgBzB,KAAKL,GAE1CgC,EAAaV,OAAOC,SAEpB,IAAMU,EAAY,SAACvG,GAIjB,OAHkB7E,KAAKqL,IAAIxG,EAAKE,GAAKF,EAAKG,IAAMH,EAAKK,GAGrC,IAISlF,KAAKqL,KAAKxG,EAAKE,GAAKF,EAAKG,IAAM,EAAIhF,KAAKsI,IAAM,GAH9D,EAKqB,GAG1BgD,EAAaH,EAChBP,QACAtE,OAAO,QACPyC,MAAM,OAAQ,QACdA,MAAM,SAAU,WAChBA,MAAM,OAAQ,mBACdvB,KAAK,cAAe,UACpBjB,MAAK,WAA2B,IAAD,wEAArB1B,EAAqB,KAAfU,EAAe,KAC9B,GAAkB,IAAdA,EACF,MAAO,GAGT,IAAMgG,EAAQtC,EAAapE,EAAK2E,MAC1BgC,EAAQ,EAEd,OAAOD,EAAM3J,OAAS4J,EAAWD,EAAME,MAAM,EAAGD,GAAzC,MAAuDD,KAE/D/D,KAAK,cAAc,uFAAOjC,EAAP,YAAsBA,KACzCiC,KAAK,YAAayC,GAClBlB,MAAM,UAAWqC,GAEpBD,EACGN,WAAW,YACXC,SAASrG,GACTsG,KAAKrG,GACLsG,UACC,YACA7F,EAAkB,CAChBC,GAAI6E,EACJ5E,YAAa6F,KAInBzE,EACG6D,UAAwD,QACxDO,WAAW,WACXC,SAASrG,GACTsG,KAAKW,EAAAA,KACL3C,MAAM,UAAWqC,GAEE,CAACT,EAAWW,GAEpBK,SAAQ,SAACC,GACrBA,EAAI9C,GAAG,aAAa,WAClB,IAAMvD,GAAYc,EAAAA,EAAAA,IAAOJ,MAAMuB,KAAK,eAEpCnB,EAAAA,EAAAA,IAAO,oBAAoBd,EAArB,MAAoCwD,MAAM,OA1TtC,YA2TV1C,EAAAA,EAAAA,IAAO,oBAAoBd,EAArB,MAAoCwD,MAAM,OAAQ,YAG1D6C,EAAI9C,GAAG,YAAY,WACjB,IAAMvD,GAAYc,EAAAA,EAAAA,IAAOJ,MAAMuB,KAAK,eAEpCnB,EAAAA,EAAAA,IAAM,oBACgBd,EADhB,MAEJwD,MAAM,OAAQQ,IAChBlD,EAAAA,EAAAA,IAAO,oBAAoBd,EAArB,MAAoCwD,MAAM,OAAQ,WAG1D6C,EAAItF,OAAO,SAASC,MAAK,SAAC1B,GAAD,OACvBqE,EAAa,CACX2C,SAAUhH,EAAK2E,KACfsC,SAAUjH,EAAKkH,eAItB,EA1RGlG,GEjEAiC,EAAqC,SAACjD,GAAD,OAAUA,EAAKwD,MACpDY,EAAuC,SAACpE,GAAD,OAAUA,EAAK7F,MACtDkK,EAAuC,SAAC,GAAD,IAAG2C,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OACxCD,EAAS7M,KAD+B,KACtB8M,GAEjBE,EAAiB,SAAC,GAAD,IACrB9F,EADqB,EACrBA,cACA6B,EAFqB,EAErBA,SAFqB,MAMhB,CACLkB,aAAAA,EACAnB,YAAAA,EACAoB,aAAAA,EACAhD,cAAAA,EACA6B,SAAAA,EACA5B,SAAU5B,IC1BNtB,EAAI,mCAAG,+GDGXgJ,EAAAA,EAAAA,KACK3M,yCCJM,OACLyI,EADK,OAGLmE,EAAShM,SAASuH,eAAejD,GAUjC0B,GARAiG,EAA0B,WAK9B,OAJsBC,MAAMC,KAC1BH,EAAOlF,UACPsF,MAAK,SAACC,GAAD,OAAmCA,EAAYC,WAEhCT,UAKlBU,EAAcT,EAAe,CACjC9F,cAAAA,EACA6B,SAAAA,KAGI2E,EAAQ,IAAI7G,EAAe4G,IAE3BzG,SAENkG,EAAOhF,iBAAiB,UAAU,WAChC,IAAME,EAAmB+E,IAEzBO,EAAMvF,gBAAgBC,MA3Bb,4CAAH,qDAiCV,ICnBA,EAdkB,SAAC,GAAD,IAAG/D,EAAH,EAAGA,YAAH,OAChB,gBAAC,IAAD,CAAMJ,KAAMA,EAAMI,YAAaA,GAC7B,wBAAMnE,GAAIsF,EAAWuE,MAAO,CAAE4D,aAAc,KAC1C,6BACE,yBAAO3N,KAAK,OAAO6B,KAAK,QAAQkL,MAAM,SADxC,SAGA,6BACE,yBAAOa,gBAAc,EAAC5N,KAAK,OAAO6B,KAAK,QAAQkL,MAAM,UADvD,WAIF,uBAAK7M,GAAIqF,O,qBClBbsI,EAAOC,QAAU,EAAjB,O,kxBCCO,IAAIC,EAAW,iCACXC,EAAS,+BACTC,EAAO,6BACPC,EAAU,gCACVC,EAAY,kCACZC,EAAU,gCACVC,EAAe,qCACfC,EAAqB,2CACrB7N,EAAW,iCACX8N,EAAU,gCACVC,EAAkB,wCAClBC,EAAS,+BACTC,EAAiB,uCACjBC,EAAmB,yCACnBhM,EAAQ,8BACRiM,EAAa,mCACbC,EAAe,qCACfC,EAAa,mCACbC,EAAa,mCACbC,EAAgB,sCAChBC,EAAM,4BACNC,EAAc,oCACdC,EAAa,mCACbC,EAAqB,2CACrBC,EAAmB,yCACnBC,EAAU,gCACVC,EAAY,kCACZxP,EAAa,mCACbyP,EAAW,iCACXC,EAAc,oCACdC,EAAY,mC,kCC/BvB,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQxN,EAAKyN,GACpE,IACE,IAAIC,EAAON,EAAIpN,GAAKyN,GAChBlD,EAAQmD,EAAKnD,MACjB,MAAOrI,GAEP,YADAoL,EAAOpL,GAILwL,EAAKC,KACPN,EAAQ9C,GAERqD,QAAQP,QAAQ9C,GAAOsD,KAAKN,EAAOC,GAIxB,SAASM,EAAkBlK,GACxC,OAAO,WACL,IAAImK,EAAOtJ,KACPuJ,EAAOC,UACX,OAAO,IAAIL,SAAQ,SAAUP,EAASC,GACpC,IAAIF,EAAMxJ,EAAGsK,MAAMH,EAAMC,GAEzB,SAAST,EAAMhD,GACb4C,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQjD,GAGlE,SAASiD,EAAOW,GACdhB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASW,GAGnEZ,OAAMa,O","sources":["webpack://demos/./src/components/demo-title.tsx","webpack://demos/./src/ui-constants.ts","webpack://demos/./src/utils/getDemoE2ETestFilePath.ts","webpack://demos/./src/components/hooks/useBrowserInitialWidth.ts","webpack://demos/./src/utils/getBrowserWidth.ts","webpack://demos/./src/components/code-fragment.tsx","webpack://demos/./src/components/files-details.tsx","webpack://demos/./src/components/demo.tsx","webpack://demos/./src/components/footer.tsx","webpack://demos/./src/components/page-title.tsx","webpack://demos/./src/components/layout.tsx","webpack://demos/./src/demos/partition/partition-chart.ts","webpack://demos/./src/demos/partition/ui-constants.ts","webpack://demos/./src/demos/partition/partition-chart-config.ts","webpack://demos/./src/demos/partition/partition.ts","webpack://demos/./src/pages/d3js/partition.tsx","webpack://demos/./node_modules/gatsby/node_modules/@babel/runtime/regenerator/index.js","webpack://demos/./src/components/styles/styles.module.css","webpack://demos/./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nimport { BACK_HOME_ATTR } from \"@/ui-constants\"\n\ntype Props = {\n  isCompleted: boolean\n  mainSource: string\n  name: string\n}\n\nconst DemoTitle = ({ isCompleted, mainSource, name }: Props) => (\n  <h2 className=\"row\" id={styles.demoTitle}>\n    <span className=\"col-xs-12 col-sm-10 p-0\">\n      <span className={styles.demoName}>{name} Chart </span>\n      <small id={styles.mainSource} title=\"Main Source\">\n        <a href={mainSource}>···</a>\n      </small>\n      {!isCompleted && (\n        <small id={styles.demoWip} title=\"This demo is still work in progress\">\n          WIP\n        </small>\n      )}\n    </span>\n    <span\n      className={`col-sm-2 p-0 d-xs-none ${styles.backHome}`}\n      {...{ [BACK_HOME_ATTR]: \"\" }}\n    >\n      <a className=\"btn btn-info\" href={ROOT_PATH} role=\"button\">\n        <span className=\"glyphicon glyphicon-home\" /> Home\n      </a>\n    </span>\n  </h2>\n)\n\nexport default DemoTitle\n","const BACK_HOME_ATTR = \"data-back-home\"\n\nexport { BACK_HOME_ATTR }\n","export const getDemoE2ETestFilePath = (demoName: string) =>\n  `src/demos/${demoName}/tests/${demoName}.e2e.ts`\n","import { useEffect, useState } from \"react\"\n\nimport { getBrowserWidth } from \"@/utils/getBrowserWidth\"\n\nconst useBrowserInitialWidth = () => {\n  const [browserWidth, setBrowserWidth] = useState<number | null>(null)\n\n  useEffect(() => {\n    const browserWidthInitial = getBrowserWidth()\n\n    if (browserWidthInitial !== null) {\n      setBrowserWidth(browserWidthInitial)\n    }\n  }, [])\n\n  return browserWidth\n}\n\nexport default useBrowserInitialWidth\n","export const getBrowserWidth = () => {\n  if (typeof window === \"undefined\") {\n    return null\n  }\n\n  return Math.max(\n    document.body.scrollWidth,\n    document.documentElement.scrollWidth,\n    document.body.offsetWidth,\n    document.documentElement.offsetWidth,\n    document.documentElement.clientWidth\n  )\n}\n","import React, { useState } from \"react\"\n\nimport useBrowserInitialWidth from \"@/components/hooks/useBrowserInitialWidth\"\n\nimport * as styles from \"./styles/styles.module.css\"\n\ntype Props = { content: string }\n\nconst CodeFragment = ({ content }: Props) => {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const browserWidth = useBrowserInitialWidth()\n\n  if (browserWidth === null) {\n    return null\n  }\n\n  if (!browserWidth || (browserWidth < 1280 && !isExpanded)) {\n    return (\n      <div className={styles.codeFragment}>\n        <button\n          className={`${styles.codeFragmentButton} btn btn-light`}\n          onClick={() => setIsExpanded(true)}\n          type=\"button\"\n        >\n          Show Code\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <pre>\n      <code\n        dangerouslySetInnerHTML={{\n          __html: content,\n        }}\n      />\n    </pre>\n  )\n}\n\nexport default CodeFragment\n","import \"prismjs/themes/prism-coy.css\"\nimport React from \"react\"\n\nimport { DemoInfo } from \"@/common\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nimport { getDemoE2ETestFilePath } from \"@/utils/getDemoE2ETestFilePath\"\n\nimport CodeFragment from \"./code-fragment\"\n\nconst CodeInGH = ({ filePath }: { filePath: string }) => (\n  <>\n    <span>| </span>\n    <a\n      href={`https://github.com/igncp/demos/blob/main/${filePath}`}\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    >\n      Code in Github\n    </a>\n  </>\n)\nconst CoverageReport = ({ filePath }: { filePath: string }) => (\n  <>\n    <span>| </span>\n    <a\n      href={`https://igncp.github.io/demos/coverage-ts/files/${filePath}.html`}\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    >\n      TypeScript coverage report\n    </a>\n  </>\n)\n\ntype Props = {\n  demoInfo: DemoInfo\n}\n\nconst FilesDetails = ({ demoInfo }: Props) => {\n  if (typeof window === \"undefined\") {\n    return null\n  }\n\n  const pageFilePath = `pages/${demoInfo.category}/${demoInfo.key}.${demoInfo.files.page.type}`\n\n  return (\n    <div>\n      {!!demoInfo.notes.length && (\n        <div className={`bs-callout bs-callout-info${styles.notes}`}>\n          <p>\n            <strong>Notes:</strong>\n          </p>\n          <ul>\n            {demoInfo.notes.map((...[note, noteIndex]) => (\n              <li dangerouslySetInnerHTML={{ __html: note }} key={noteIndex} />\n            ))}\n          </ul>\n        </div>\n      )}\n      {!!demoInfo.summary.length && (\n        <div className={`bs-callout bs-callout-summary ${styles.notes}`}>\n          <p>\n            <strong>Implementation Summary:</strong>\n          </p>\n          <ul>\n            {demoInfo.summary.map((...[summaryLine, summaryIndex]) => (\n              <p\n                dangerouslySetInnerHTML={{ __html: summaryLine }}\n                key={summaryIndex}\n              />\n            ))}\n          </ul>\n        </div>\n      )}\n      <div className=\"bs-callout bs-callout-primary\" id={styles.sourcesList}>\n        <p>\n          <strong>Sources:</strong>\n        </p>\n        <ul>\n          {demoInfo.sources.map((...[source, sourceIndex]) => (\n            <li key={sourceIndex}>\n              <span className={styles.sourceNumber}>[{sourceIndex + 1}]</span>:{\" \"}\n              <a href={source}>{source}</a>\n            </li>\n          ))}\n        </ul>\n      </div>\n      {!!demoInfo.docs.length && (\n        <div className=\"bs-callout bs-callout-secondary\" id=\"docs\">\n          <p>\n            <strong>Docs:</strong>\n          </p>\n          <div className={styles.tagCollection}>\n            {demoInfo.docs.map((doc) => (\n              <span className={styles.tag} key={doc[1]}>\n                <a href={doc[1]} rel=\"noreferrer\" target=\"_blank\">\n                  {doc[0]}\n                </a>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n      {!!demoInfo.dataFiles.length && (\n        <div className=\"bs-callout bs-callout-warning\" id={styles.dataList}>\n          <p>\n            <strong>Data files: </strong>\n            {demoInfo.dataFiles.map((...[file, fileIndex]) => (\n              <a\n                href={`${ROOT_PATH}data/${demoInfo.category}/${demoInfo.key}/${file}`}\n                key={fileIndex}\n              >\n                {file}\n              </a>\n            ))}\n          </p>\n        </div>\n      )}\n      <div className=\"bs-callout bs-callout-success\" id=\"code\">\n        <p>\n          <strong>Code:</strong>\n        </p>\n        <ul>\n          {demoInfo.files.demoTS.map(\n            (...[{ content, filePath }, fileIndex]) => (\n              <li key={filePath}>\n                <p>\n                  <span className={styles.fileNameWrapper}>{filePath}</span>{\" \"}\n                  <CodeInGH filePath={filePath} />{\" \"}\n                  <CoverageReport filePath={filePath} />\n                  {fileIndex === 0 && (\n                    <>\n                      <span> | </span>\n                      <a\n                        href={`https://github.com/igncp/demos/blob/main/${getDemoE2ETestFilePath(\n                          demoInfo.key\n                        )}`}\n                        rel=\"noreferrer\"\n                        target=\"_blank\"\n                      >\n                        E2E tests\n                      </a>\n                    </>\n                  )}\n                </p>\n                <CodeFragment content={content} />\n                <div className={styles.divisor} />\n              </li>\n            )\n          )}\n          <li>\n            <p>\n              <span className={styles.fileNameWrapper}>{pageFilePath}</span>{\" \"}\n              <CodeInGH filePath={pageFilePath} />{\" \"}\n              <CoverageReport filePath={pageFilePath} />\n            </p>\n            <CodeFragment content={demoInfo.files.page.content} />\n            {!!demoInfo.files.demoCSS.length && (\n              <div className={styles.divisor} />\n            )}\n          </li>\n          {demoInfo.files.demoCSS.map(\n            (...[{ content, filePath }, cssIndex]) => (\n              <li key={filePath}>\n                <p>\n                  <span className={styles.fileNameWrapper}>{filePath}</span>{\" \"}\n                  {(() => (\n                    <CodeInGH filePath={filePath} />\n                  ))()}\n                </p>\n                <CodeFragment content={content} />\n                {cssIndex !== demoInfo.files.demoCSS.length - 1 && (\n                  <div className={styles.divisor} />\n                )}\n              </li>\n            )\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default FilesDetails\n","import React, { useEffect } from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport DemoTitle from \"./demo-title\"\nimport FilesDetails from \"./files-details\"\nimport Layout from \"./layout\"\n\nconst parsePath = (str: string) =>\n  str[0] === \"/\" ? ROOT_PATH + str.replace(/^\\//, \"\") : str\n\ntype Props = {\n  children: React.ReactNode\n  links?: string[]\n  main: () => Promise<void>\n  pageContext: DemoPageProps[\"pageContext\"]\n  scripts?: string[]\n}\n\nconst Demo = ({\n  main,\n  children,\n  scripts = [],\n  links = [],\n  pageContext,\n}: Props) => {\n  const { demoInfo, meta } = pageContext\n  const { isCompleted, name, sources } = demoInfo\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return\n    }\n\n    main().catch((mainError) => {\n      // eslint-disable-next-line no-console\n      console.error(\"error:\", mainError)\n    })\n  }, [])\n\n  return (\n    <Layout>\n      <Helmet\n        link={(process.env.NODE_ENV === \"production\" ? links : []).map(\n          (href) => ({\n            href: parsePath(href),\n            rel: \"stylesheet\",\n            type: \"text/css\",\n          })\n        )}\n        meta={[\n          {\n            content: meta.description,\n            name: \"description\",\n          },\n        ]}\n        script={(process.env.NODE_ENV === \"production\" ? scripts : []).map(\n          (src) => ({\n            src: parsePath(src),\n            type: \"text/javascript\",\n          })\n        )}\n        title={`${demoInfo.name} | Demos igncp`}\n      />\n      <DemoTitle\n        isCompleted={isCompleted}\n        mainSource={sources[0]}\n        name={name}\n      />\n      {children}\n      <FilesDetails demoInfo={demoInfo} />\n    </Layout>\n  )\n}\n\nexport default Demo\n","import React from \"react\"\n\nimport * as styles from \"./styles/styles.module.css\"\n\nconst Footer = () => (\n  <footer className={styles.footer}>\n    <p>{new Date().getFullYear()}</p>\n  </footer>\n)\n\nexport default Footer\n","import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nconst PageTitle = () => (\n  <div className={styles.pageHeader}>\n    <h1 className=\"row\">\n      <span className=\"col-3 col-md-8 p-0\">\n        <a href={ROOT_PATH}>Demos</a>{\" \"}\n        <small className=\"hide-tablet\">\n          interactive data visualization examples\n        </small>\n      </span>\n      <span className=\"col-9 col-md-4 p-0\" id={styles.ghButtons}>\n        <iframe\n          className=\"hide-mobile\"\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=follow\"\n          width=\"119\"\n        />\n        <iframe\n          className=\"hide-mobile\"\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=fork\"\n          width=\"62\"\n        />\n        <iframe\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=watch\"\n          width=\"52\"\n        />\n      </span>\n    </h1>\n  </div>\n)\n\nexport default PageTitle\n","import React from \"react\"\n\nimport Footer from \"./footer\"\nimport PageTitle from \"./page-title\"\nimport \"./styles/styles.css\"\nimport * as styles from \"./styles/styles.module.css\"\n\ntype Props = {\n  children: React.ReactNode\n}\n\nconst Layout = ({ children }: Props) => (\n  <>\n    <div className={styles.rootLayout}>\n      <div className=\"px-3 px-sm-5\">\n        <PageTitle />\n        {children}\n      </div>\n    </div>\n    <Footer />\n  </>\n)\n\nexport default Layout\n","import {\n  D3DragEvent,\n  HierarchyRectangularNode,\n  Selection,\n  arc as arcD3,\n  drag as dragD3,\n  easeBounce,\n  easeLinear,\n  hierarchy,\n  interpolate,\n  partition as partitionD3,\n  scaleOrdinal,\n  schemePastel2,\n  select,\n} from \"d3\"\n\nimport { TRANSITION_DURATION } from \"./ui-constants\"\n\ntype Node<NodeData> = NodeData & {\n  chidren: Array<Node<NodeData>>\n}\n\ntype HierarchyRectNode<ChartData> = HierarchyRectangularNode<Node<ChartData>>\n\nenum PartitionType {\n  Count = \"count\",\n  Size = \"size\",\n}\n\nconst height = 700\nconst overColor = \"#de7c03\"\nconst easeFn = easeBounce\n\nconst extractTweenObj = <ChartData>(node: HierarchyRectNode<ChartData>) => ({\n  depth: node.depth,\n  x0: node.x0,\n  x1: node.x1,\n  y0: node.y0,\n  y1: node.y1,\n})\n\nconst getInterpolatorFn =\n  <ChartData>({\n    fn,\n    initialData,\n  }: {\n    fn: (node: HierarchyRectNode<ChartData>) => string | null\n    initialData: Array<HierarchyRectNode<ChartData>>\n  }) =>\n  (...[finalNode, nodeIndex]: [HierarchyRectNode<ChartData>, number]) => {\n    const { [nodeIndex]: initialNode } = initialData\n\n    const interpolateFn = interpolate(\n      extractTweenObj(initialNode),\n      extractTweenObj(finalNode)\n    )\n\n    return (t: number) => {\n      const transitientState = interpolateFn(t)\n\n      return fn(transitientState as HierarchyRectNode<ChartData>)!\n    }\n  }\n\ntype ChartConfig<ChartData> = {\n  getNodeLabel: (node: Node<ChartData>) => string\n  getNodeSize: (node: Node<ChartData>) => number | undefined\n  getNodeTitle: (options: {\n    nodeData: Node<ChartData>\n    valueNum?: number\n  }) => string\n  partitionType: PartitionType\n  rootData: Node<ChartData>\n  rootElId: string\n}\n\ntype ChartElements = {\n  svg: Selection<SVGSVGElement, unknown, HTMLElement, unknown>\n  svgDrag: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  svgG: Selection<SVGGElement, unknown, HTMLElement, unknown>\n}\n\nclass PartitionChart<ChartData> {\n  private readonly config: ChartConfig<ChartData>\n  private readonly elements: ChartElements\n\n  private readonly state: {\n    descendants: Array<HierarchyRectangularNode<Node<ChartData>>>\n    drag: { x: number; y: number }\n    partitionType: PartitionType\n  }\n\n  public constructor(config: ChartConfig<ChartData>) {\n    this.config = config\n\n    const { partitionType, rootElId } = config\n\n    const svg = select(`#${rootElId}`).append(\"svg\").text(\"\")\n    const svgDrag = svg.append(\"g\")\n    const svgG = svgDrag.append(\"g\")\n\n    this.state = {\n      descendants: [],\n      drag: { x: 0, y: 0 },\n      partitionType,\n    }\n\n    this.state.descendants = this.getDataHierarchy()\n\n    this.elements = {\n      svg,\n      svgDrag,\n      svgG,\n    }\n\n    this.setupDrag()\n\n    window.addEventListener(\"resize\", this.handleResize)\n  }\n\n  public updatePartition(newPartitionType: PartitionType) {\n    this.state.partitionType = newPartitionType\n\n    const newDescendants = this.getDataHierarchy()\n\n    this.state.descendants = newDescendants\n\n    this.renderDescendants()\n  }\n\n  public render() {\n    const { width } = this.getDimensions()\n    const {\n      elements: { svg, svgG },\n    } = this\n\n    svg.attr(\"width\", width).attr(\"height\", height)\n    svgG.attr(\"transform\", `translate(${width / 2},${height * 0.52})`)\n\n    this.renderDescendants()\n  }\n\n  private getDimensions() {\n    const {\n      config: { rootElId },\n    } = this\n    const { width } = (\n      document.getElementById(rootElId) as HTMLElement\n    ).getBoundingClientRect()\n    const chartWidth = Math.max(width, 700)\n    const radius = Math.min(chartWidth, height) / 2\n\n    return {\n      chartWidth,\n      radius,\n      width,\n    }\n  }\n\n  private getDataHierarchy() {\n    const {\n      config: { getNodeSize, rootData },\n      state: { partitionType },\n    } = this\n    const { radius } = this.getDimensions()\n    const dataHierarchySize = hierarchy(rootData).sum(\n      (node: Node<ChartData>) => getNodeSize(node) ?? 0\n    )\n    const dataHierarchyCount = hierarchy(rootData).sum(() => 1)\n    const partition = partitionD3<Node<ChartData>>().size([2 * Math.PI, radius])\n\n    const hierarchyResult = partition(\n      partitionType === \"size\" ? dataHierarchySize : dataHierarchyCount\n    )\n\n    return hierarchyResult.descendants()\n  }\n\n  private setupDrag() {\n    const {\n      elements: { svg, svgDrag },\n    } = this\n\n    const handler = (\n      dragEvent: D3DragEvent<SVGSVGElement, unknown, unknown>\n    ) => {\n      this.state.drag.x += dragEvent.dx\n      this.state.drag.y += dragEvent.dy\n\n      svgDrag.attr(\n        \"transform\",\n        `translate(${this.state.drag.x},${this.state.drag.y})`\n      )\n    }\n\n    const dragBehavior = dragD3<SVGSVGElement, unknown>().on(\"drag\", handler)\n\n    svg\n      .style(\"cursor\", \"move\")\n      .call(dragBehavior)\n      .on(\"drag\", handler)\n      .on(\"wheel\", null)\n  }\n\n  private renderDescendants() {\n    const {\n      config: { getNodeLabel, getNodeTitle },\n      elements: { svgG },\n      state: { descendants: usedDescendants },\n    } = this\n\n    const colorScale = scaleOrdinal(schemePastel2)\n\n    const color = (node: HierarchyRectNode<ChartData>) =>\n      node.children\n        ? colorScale(getNodeLabel(node.data))\n        : colorScale(getNodeLabel(node.parent!.data))\n\n    const arc = arcD3<HierarchyRectNode<ChartData>>()\n      .startAngle((node) => node.x0)\n      .endAngle((node) => node.x1)\n      .innerRadius((node) => node.y0)\n      .outerRadius((node) => node.y1)\n      .padAngle(0.01)\n\n    const textsTransform = (node: HierarchyRectNode<ChartData>) => {\n      if (!node.depth) {\n        return \"\"\n      }\n\n      const centroid = arc.centroid({\n        ...node,\n        x0: node.x0 + (node.x0 > Math.PI ? -1 : 1) * 0.05,\n      })\n      const rotationDeg = (() => {\n        const rotation =\n          90 + ((node.x0 + (node.x1 - node.x0) / 2) * 180) / Math.PI\n\n        return rotation > 90 && rotation < 270 ? rotation - 180 : rotation\n      })()\n\n      return [\n        `rotate(${rotationDeg},${centroid[0]},${centroid[1]})`,\n        `translate(${centroid[0]},${centroid[1]})`,\n      ].join(\" \")\n    }\n\n    const pathSel = svgG.selectAll<\n      SVGPathElement,\n      HierarchyRectNode<ChartData>\n    >(\"path\")\n    const pathInitialData = pathSel.data()\n    const path = pathSel.data(usedDescendants)\n\n    path.exit().remove()\n\n    const pathEnter = path\n      .enter()\n      .append(\"path\")\n      .attr(\"display\", (node) => (node.depth ? null : \"none\"))\n      .attr(\"data-index\", (...[, nodeIndex]) => nodeIndex)\n      .style(\"stroke\", \"#000\")\n      .style(\"stroke-width\", \"0.5px\")\n      .style(\"stroke-dasharray\", \"1,3\")\n      .style(\"fill\", color)\n      .attr(\"d\", arc)\n\n    path\n      .transition()\n      .duration(TRANSITION_DURATION)\n      .ease(easeFn)\n      .attrTween(\n        \"d\",\n        getInterpolatorFn({ fn: arc, initialData: pathInitialData })\n      )\n\n    const initialTextsSel = svgG.selectAll<\n      SVGTextElement,\n      HierarchyRectNode<ChartData>\n    >(\"text\")\n    const textsInitialData = initialTextsSel.data()\n    const initialTexts = initialTextsSel.data(usedDescendants)\n\n    initialTexts.exit().remove()\n\n    const opacityFn = (node: HierarchyRectangularNode<Node<ChartData>>) => {\n      const arcLength = Math.abs(node.x0 - node.x1) * node.y1\n\n      // this number is obtained empirically\n      if (arcLength < 25) {\n        return 0\n      }\n\n      const isAlmostVertical = Math.abs((node.x0 + node.x1) / 2 - Math.PI) < 0.2\n\n      return isAlmostVertical ? 0 : 1\n    }\n\n    const textsEnter = initialTexts\n      .enter()\n      .append(\"text\")\n      .style(\"fill\", \"#333\")\n      .style(\"cursor\", \"default\")\n      .style(\"font\", \"bold 12px Arial\")\n      .attr(\"text-anchor\", \"middle\")\n      .text((...[node, nodeIndex]) => {\n        if (nodeIndex === 0) {\n          return \"\"\n        }\n\n        const label = getNodeLabel(node.data)\n        const limit = 9\n\n        return label.length > limit ? `${label.slice(0, limit)}...` : label\n      })\n      .attr(\"data-index\", (...[, nodeIndex]) => nodeIndex)\n      .attr(\"transform\", textsTransform)\n      .style(\"opacity\", opacityFn)\n\n    initialTexts\n      .transition(\"movement\")\n      .duration(TRANSITION_DURATION)\n      .ease(easeFn)\n      .attrTween(\n        \"transform\",\n        getInterpolatorFn({\n          fn: textsTransform,\n          initialData: textsInitialData,\n        })\n      )\n\n    svgG\n      .selectAll<SVGTextElement, HierarchyRectNode<ChartData>>(\"text\")\n      .transition(\"opacity\")\n      .duration(TRANSITION_DURATION)\n      .ease(easeLinear)\n      .style(\"opacity\", opacityFn)\n\n    const updatedGroups = [pathEnter, textsEnter]\n\n    updatedGroups.forEach((set) => {\n      set.on(\"mouseover\", function onMouseOver() {\n        const nodeIndex = select(this).attr(\"data-index\")\n\n        select(`path[data-index=\"${nodeIndex}\"]`).style(\"fill\", overColor)\n        select(`text[data-index=\"${nodeIndex}\"]`).style(\"fill\", \"white\")\n      })\n\n      set.on(\"mouseout\", function onMouseOut() {\n        const nodeIndex = select(this).attr(\"data-index\")\n\n        select<SVGPathElement, HierarchyRectNode<ChartData>>(\n          `path[data-index=\"${nodeIndex}\"]`\n        ).style(\"fill\", color)\n        select(`text[data-index=\"${nodeIndex}\"]`).style(\"fill\", \"#000\")\n      })\n\n      set.append(\"title\").text((node) =>\n        getNodeTitle({\n          nodeData: node.data,\n          valueNum: node.value,\n        })\n      )\n    })\n  }\n\n  private readonly handleResize = () => {\n    this.render()\n  }\n}\n\nexport { PartitionChart, PartitionType, Node, ChartConfig }\n","const CONTAINER_ID = \"chart\"\nconst TYPE_FORM = \"type-form\"\nconst TRANSITION_DURATION = 2000\n\nexport { CONTAINER_ID, TYPE_FORM, TRANSITION_DURATION }\n","import { json } from \"d3\"\n\nimport { ChartConfig, Node, PartitionType } from \"./partition-chart\"\nimport { CONTAINER_ID } from \"./ui-constants\"\n\ntype DataNode = Node<{\n  name: string\n  size?: number\n}>\n\nconst fetchData = () =>\n  json(\n    `${ROOT_PATH}data/d3js/partition/flare.json`\n  ) as unknown as Promise<DataNode>\n\ntype Config = ChartConfig<DataNode>\n\nconst getNodeSize: Config[\"getNodeSize\"] = (node) => node.size\nconst getNodeLabel: Config[\"getNodeLabel\"] = (node) => node.name\nconst getNodeTitle: Config[\"getNodeTitle\"] = ({ nodeData, valueNum }) =>\n  `${nodeData.name}\\n${valueNum}`\n\nconst getChartConfig = ({\n  partitionType,\n  rootData,\n}: {\n  partitionType: PartitionType\n  rootData: DataNode\n}) => ({\n  getNodeLabel,\n  getNodeSize,\n  getNodeTitle,\n  partitionType,\n  rootData,\n  rootElId: CONTAINER_ID,\n})\n\nexport { fetchData, getChartConfig, PartitionType }\n","import { PartitionChart } from \"./partition-chart\"\nimport {\n  PartitionType,\n  fetchData,\n  getChartConfig,\n} from \"./partition-chart-config\"\nimport { CONTAINER_ID, TYPE_FORM } from \"./ui-constants\"\n\nconst main = async () => {\n  const rootData = await fetchData()\n\n  const formEl = document.getElementById(TYPE_FORM) as HTMLFormElement\n\n  const getCurrentSelectedRadio = (): PartitionType => {\n    const selectedRadio = Array.from(\n      formEl.elements as unknown as HTMLInputElement[]\n    ).find((formElement: HTMLInputElement) => formElement.checked)\n\n    return selectedRadio!.value as PartitionType\n  }\n\n  const partitionType = getCurrentSelectedRadio()\n\n  const chartConfig = getChartConfig({\n    partitionType,\n    rootData,\n  })\n\n  const chart = new PartitionChart(chartConfig)\n\n  chart.render()\n\n  formEl.addEventListener(\"change\", () => {\n    const newPartitionType = getCurrentSelectedRadio()\n\n    chart.updatePartition(newPartitionType)\n  })\n}\n\nexport { CONTAINER_ID, TYPE_FORM }\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main, { CONTAINER_ID, TYPE_FORM } from \"@/demos/partition/partition\"\n\nconst Partition = ({ pageContext }: DemoPageProps) => (\n  <Demo main={main} pageContext={pageContext}>\n    <form id={TYPE_FORM} style={{ marginBottom: 20 }}>\n      <label>\n        <input name=\"mode\" type=\"radio\" value=\"size\" /> Size\n      </label>\n      <label>\n        <input defaultChecked name=\"mode\" type=\"radio\" value=\"count\" /> Count\n      </label>\n    </form>\n    <div id={CONTAINER_ID} />\n  </Demo>\n)\n\nexport default Partition\n","module.exports = require(\"regenerator-runtime\");\n","// extracted by mini-css-extract-plugin\nexport var backHome = \"styles-module--backHome--b9e05\";\nexport var bullet = \"styles-module--bullet--337e0\";\nexport var d3js = \"styles-module--d3js--ff3aa\";\nexport var raphael = \"styles-module--raphael--40af0\";\nexport var storybook = \"styles-module--storybook--f1bcc\";\nexport var testing = \"styles-module--testing--9f8b3\";\nexport var codeFragment = \"styles-module--codeFragment--8d705\";\nexport var codeFragmentButton = \"styles-module--codeFragmentButton--98bc0\";\nexport var demoName = \"styles-module--demoName--4057d\";\nexport var divisor = \"styles-module--divisor--4c75d\";\nexport var fileNameWrapper = \"styles-module--fileNameWrapper--e0bd4\";\nexport var footer = \"styles-module--footer--a0f96\";\nexport var homeDemoNumber = \"styles-module--homeDemoNumber--755fe\";\nexport var homeDemoNameLink = \"styles-module--homeDemoNameLink--4b57a\";\nexport var notes = \"styles-module--notes--e1c07\";\nexport var rootLayout = \"styles-module--rootLayout--03362\";\nexport var sourceNumber = \"styles-module--sourceNumber--335c1\";\nexport var pageHeader = \"styles-module--pageHeader--06484\";\nexport var rowWrapper = \"styles-module--rowWrapper--9f3a4\";\nexport var tagCollection = \"styles-module--tagCollection--c96c8\";\nexport var tag = \"styles-module--tag--8c674\";\nexport var demosLegend = \"styles-module--demosLegend--16d25\";\nexport var demosLists = \"styles-module--demosLists--52492\";\nexport var highlightStorybook = \"styles-module--highlightStorybook--b465e\";\nexport var highlightTesting = \"styles-module--highlightTesting--b7d3f\";\nexport var demoWip = \"styles-module--demoWip--18449\";\nexport var demoTitle = \"styles-module--demoTitle--7c73a\";\nexport var mainSource = \"styles-module--mainSource--f7ebb\";\nexport var dataList = \"styles-module--dataList--54f77\";\nexport var sourcesList = \"styles-module--sourcesList--27e91\";\nexport var ghButtons = \"styles-module--ghButtons--1d466\";","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["isCompleted","mainSource","name","className","id","styles","title","href","ROOT_PATH","role","getDemoE2ETestFilePath","demoName","useState","browserWidth","setBrowserWidth","useEffect","browserWidthInitial","window","Math","max","document","body","scrollWidth","documentElement","offsetWidth","clientWidth","content","isExpanded","setIsExpanded","useBrowserInitialWidth","onClick","type","dangerouslySetInnerHTML","__html","CodeInGH","filePath","rel","target","CoverageReport","demoInfo","pageFilePath","category","key","files","page","notes","length","map","note","noteIndex","summary","summaryLine","summaryIndex","sources","source","sourceIndex","docs","doc","dataFiles","file","fileIndex","demoTS","demoCSS","cssIndex","parsePath","str","replace","main","children","scripts","links","pageContext","meta","catch","mainError","console","error","Helmet","link","description","script","src","Date","getFullYear","frameBorder","height","scrolling","width","PartitionType","CONTAINER_ID","TYPE_FORM","TRANSITION_DURATION","easeFn","easeBounce","extractTweenObj","node","depth","x0","x1","y0","y1","getInterpolatorFn","fn","initialData","finalNode","nodeIndex","initialNode","interpolateFn","interpolate","t","transitientState","PartitionChart","config","handleResize","render","this","partitionType","rootElId","svg","select","append","text","svgDrag","svgG","state","descendants","drag","x","y","getDataHierarchy","elements","setupDrag","addEventListener","updatePartition","newPartitionType","newDescendants","renderDescendants","getDimensions","attr","getElementById","getBoundingClientRect","chartWidth","radius","min","getNodeSize","rootData","dataHierarchySize","hierarchy","sum","dataHierarchyCount","partitionD3","size","PI","partition","handler","dragEvent","dx","dy","dragBehavior","dragD3","on","style","call","getNodeLabel","getNodeTitle","usedDescendants","colorScale","scaleOrdinal","schemePastel2","color","data","parent","arc","arcD3","startAngle","endAngle","innerRadius","outerRadius","padAngle","textsTransform","rotation","centroid","join","pathSel","selectAll","pathInitialData","path","exit","remove","pathEnter","enter","transition","duration","ease","attrTween","initialTextsSel","textsInitialData","initialTexts","opacityFn","abs","textsEnter","label","limit","slice","easeLinear","forEach","set","nodeData","valueNum","value","getChartConfig","json","formEl","getCurrentSelectedRadio","Array","from","find","formElement","checked","chartConfig","chart","marginBottom","defaultChecked","module","exports","backHome","bullet","d3js","raphael","storybook","testing","codeFragment","codeFragmentButton","divisor","fileNameWrapper","footer","homeDemoNumber","homeDemoNameLink","rootLayout","sourceNumber","pageHeader","rowWrapper","tagCollection","tag","demosLegend","demosLists","highlightStorybook","highlightTesting","demoWip","demoTitle","dataList","sourcesList","ghButtons","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","_asyncToGenerator","self","args","arguments","apply","err","undefined"],"sourceRoot":""}