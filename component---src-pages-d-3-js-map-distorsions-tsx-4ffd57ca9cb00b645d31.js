"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[640],{5052:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var a=n(7294),r=n(4275),o=n(8634),s=n(2656),i=n.n(s),l=n(5221),c=n(8747),d=n.n(c),u=n(2203),p="map-distorsions-module--background--bd031",m="map-distorsions-module--foreground--c78ab",f="map-distorsions-module--axis--cd688",h="map-distorsions-module--title--9d8e9",g="map-distorsions-module--inactive--dc4a0",v="map-distorsions-module--active--8e5d5";"undefined"!=typeof window&&n(5356);var y,A,w="chart",b=function(t){return t.length>20?t.slice(0,20)+"...":t},x=20,C=200,B=40,N=90,k=750-N-x,S=["#7C7CC9","#429742","#63BD28","#D14141"],Y="Comparison of 41 map projections by four different types of distortion. Lower is better.";!function(t){t.Acc40="Acc. 40ยบ 150%",t.Angular="Angular",t.Areal="Areal",t.Scale="Scale"}(y||(y={})),function(t){t.Number="number",t.String="string"}(A||(A={}));var D=function(t){var e=[y.Acc40,y.Scale,y.Areal,y.Angular].map((function(e){return Number(t[e]).toFixed(2)+" ("+e+")"}));return t.name+": "+e.join(", ")},E=function(t){var e=t.mapsDistorsions,n=t.rootElId,a=document.getElementById(n);a.classList.add("map-distorsions-module--mapDistorsionsChart--5416d");var r=a.getBoundingClientRect().width-C-B,o=[{name:"name",scale:(0,l.q2y)().range([0,k]),type:A.String},{name:y.Acc40,scale:(0,l.BYU)().range([0,k]),type:A.Number},{name:y.Scale,scale:(0,l.BYU)().range([k,0]),type:A.Number},{name:y.Areal,scale:(0,l.PUr)().range([k,0]),type:A.Number},{name:y.Angular,scale:(0,l.BYU)().range([k,0]),type:A.Number}],s=(0,l.Ys)("#"+n).append("svg").attr("height",k+N+x).attr("width",r+C+B).append("g").attr("transform","translate("+C+","+N+")");s.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+r/2+",-60)").text(Y).style("font-weight","bold");var i,c,w,E,O,U=(0,l.q2y)().domain(o.map((function(t){return t.name}))).range([0,r]),j=(0,l.jvg)().defined((function(t){return!isNaN(t[1])})),q=s.selectAll(".dimension").data(o).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+U(t.name)+")"}));c=(i={deviation:2,id:"lines",slope:.4,svg:s}).deviation,w=i.id,E=i.slope,(O=i.svg.append("defs").append("filter").attr("id","drop-shadow-"+w)).append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),O.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",c),O.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),O.append("feComponentTransfer").append("feFuncA").attr("slope",E).attr("type","linear");var G,I,F,L=e.slice(0).sort((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0].name,r=e[1].name;return a===r?0:a<r?-1:1})),Z=(G=[0,L.length-1],I=(0,l.BYU)().domain(G).range([0,1]),F=(0,l.BYU)().domain((0,l.w6H)(0,1,1/S.length)).range(S),function(t){return F(I(t))});o.forEach((function(t){return t.scale.domain(t.type===A.Number?(0,l.Wem)(L,(function(e){return+e[t.name]})):L.map((function(e){var n=e[t.name];return b(n)})).sort())}));var H=function(t){var e=o.map((function(e){var n=t[e.name];return[U(e.name),e.scale("string"==typeof n?b(n):n)]}));return j(e)};s.append("g").attr("class",p).selectAll("path").data(L).enter().append("path").attr("d",H).style("cursor","pointer").attr("title",D).on("click",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];window.open("https://www.google.com/search?"+u.stringify({q:a.name+" map projection",tbm:"isch"}))})),s.append("g").attr("class",m).selectAll("path").data(L).enter().append("path").attr("d",H).attr("data-title",D),q.append("g").attr("class",f).each((function(t){var e=(0,l.y4O)(t.scale);return(0,l.Ys)(this).call(e)})).append("text").attr("class",h).attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),s.select("."+f).selectAll("text:not(."+h+")").attr("class","map-distorsions-module--label--b1604").data(L,(function(t){return t.name})).style("fill",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return Z(a)}));var P=function(){this.parentNode.appendChild(this)},R=s.selectAll("."+f+" text,."+p+" path,."+m+" path");s.selectAll("."+m+" path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return Z(a)})),R.on("mouseover",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];s.selectAll("."+m+" path").style("filter","none"),s.classed(v,!0),R.classed(g,(function(t){return t.name!==a.name})),R.filter((function(t){return t.name===a.name})).each(P)})).on("mouseout",(function(){s.selectAll("."+m+" path").style("filter","url(#drop-shadow-lines)"),s.classed(v,!1),R.classed(g,!1)})),d()("."+p+" path, ."+m+" path").tooltip({track:!0})},O=function(){var t=(0,o.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.pvA)("/demos/data/d3js/map-distorsions/data.tsv");case 2:e=t.sent,w,E({mapsDistorsions:e,rootElId:"chart"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=O,j=function(t){var e=t.pageContext;return a.createElement(r.Z,{main:U,pageContext:e},a.createElement("div",{id:w}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-tsx-4ffd57ca9cb00b645d31.js.map