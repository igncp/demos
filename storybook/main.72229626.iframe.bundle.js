(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1e3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(57),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var src=__webpack_require__(39),debounce=__webpack_require__(492),debounce_default=__webpack_require__.n(debounce),react=__webpack_require__(0),react_default=__webpack_require__.n(react),three_module=__webpack_require__(1),OrbitControls=__webpack_require__(41),common=__webpack_require__(5),OimoPhysics=(__webpack_require__(331),__webpack_require__(975),__webpack_require__(48)),compose=function compose(_ref){var arrayBaseIndex=_ref.arrayBaseIndex,matrixArray=_ref.matrixArray,position=_ref.position,quaternion=_ref.quaternion,x=quaternion.x,y=quaternion.y,z=quaternion.z,w=quaternion.w,x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;matrixArray[arrayBaseIndex+0]=1-(yy+zz),matrixArray[arrayBaseIndex+1]=xy+wz,matrixArray[arrayBaseIndex+2]=xz-wy,matrixArray[arrayBaseIndex+3]=0,matrixArray[arrayBaseIndex+4]=xy-wz,matrixArray[arrayBaseIndex+5]=1-(xx+zz),matrixArray[arrayBaseIndex+6]=yz+wx,matrixArray[arrayBaseIndex+7]=0,matrixArray[arrayBaseIndex+8]=xz+wy,matrixArray[arrayBaseIndex+9]=yz-wx,matrixArray[arrayBaseIndex+10]=1-(xx+yy),matrixArray[arrayBaseIndex+11]=0,matrixArray[arrayBaseIndex+12]=position.x,matrixArray[arrayBaseIndex+13]=position.y,matrixArray[arrayBaseIndex+14]=position.z,matrixArray[arrayBaseIndex+15]=1},jsx_runtime=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ThreeJSPhysicsFalls_stories_createPhysics=function createPhysics(previousSimulation){return null!=previousSimulation&&previousSimulation.physics?previousSimulation.physics:function createOimoPhysics(){var _ref2$frameRate=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).frameRate,frameRate=void 0===_ref2$frameRate?90:_ref2$frameRate,world=new OimoPhysics.i(2,new OimoPhysics.h(0,-9.8,0)),meshes=[],meshMap=new WeakMap,handleMesh=function handleMesh(_ref3){var mass=_ref3.mass,objectMesh=_ref3.objectMesh,oimoGeometry=_ref3.oimoGeometry,shapeConfig=new OimoPhysics.g;shapeConfig.geometry=oimoGeometry;var bodyConfig=new OimoPhysics.d;bodyConfig.type=0===mass?OimoPhysics.e.STATIC:OimoPhysics.e.DYNAMIC,bodyConfig.position=new OimoPhysics.h(objectMesh.position.x,objectMesh.position.y,objectMesh.position.z);var body=new OimoPhysics.c(bodyConfig);body.addShape(new OimoPhysics.f(shapeConfig)),world.addRigidBody(body),mass>0&&(meshes.push(objectMesh),meshMap.set(objectMesh,body))},handleInstancedMesh=function handleInstancedMesh(_ref4){var mass=_ref4.mass,objectMesh=_ref4.objectMesh,oimoGeometry=_ref4.oimoGeometry,matrixArray=objectMesh.instanceMatrix.array,bodies=[];Array.from({length:objectMesh.count}).forEach((function(){for(var _len=arguments.length,forEachArgs=new Array(_len),_key=0;_key<_len;_key++)forEachArgs[_key]=arguments[_key];var arrayIndex=16*forEachArgs[1],shapeConfig=new OimoPhysics.g;shapeConfig.geometry=oimoGeometry;var bodyConfig=new OimoPhysics.d;bodyConfig.type=0===mass?OimoPhysics.e.STATIC:OimoPhysics.e.DYNAMIC,bodyConfig.position=new OimoPhysics.h(matrixArray[arrayIndex+12],matrixArray[arrayIndex+13],matrixArray[arrayIndex+14]);var body=new OimoPhysics.c(bodyConfig);body.addShape(new OimoPhysics.f(shapeConfig)),world.addRigidBody(body),bodies.push(body)})),mass>0&&(meshes.push(objectMesh),meshMap.set(objectMesh,bodies))},getOIMOGeometry=function getOIMOGeometry(threeGeometry){var parameters=threeGeometry.parameters;if("BoxGeometry"===threeGeometry.type){var sx=void 0!==parameters.width?parameters.width/2:.5,sy=void 0!==parameters.height?parameters.height/2:.5,sz=void 0!==parameters.depth?parameters.depth/2:.5;return new OimoPhysics.a(new OimoPhysics.h(sx,sy,sz))}var radius=void 0!==parameters.radius?parameters.radius:1;return new OimoPhysics.b(radius)},addMesh=function addMesh(_ref5){var _ref5$mass=_ref5.mass,mass=void 0===_ref5$mass?0:_ref5$mass,objectMesh=_ref5.objectMesh,oimoGeometry=getOIMOGeometry(objectMesh.geometry);null!==oimoGeometry&&("isInstancedMesh"in objectMesh?handleInstancedMesh({mass:mass,objectMesh:objectMesh,oimoGeometry:oimoGeometry}):"isMesh"in objectMesh&&handleMesh({mass:mass,objectMesh:objectMesh,oimoGeometry:oimoGeometry}))},setMeshPosition=function setMeshPosition(_ref6){var _ref6$bodyIndex=_ref6.bodyIndex,bodyIndex=void 0===_ref6$bodyIndex?0:_ref6$bodyIndex,objectMesh=_ref6.objectMesh,position=_ref6.position;"isInstancedMesh"in objectMesh?meshMap.get(objectMesh)[bodyIndex].setPosition(new OimoPhysics.h(position.x,position.y,position.z)):"isMesh"in objectMesh&&meshMap.get(objectMesh).setPosition(new OimoPhysics.h(position.x,position.y,position.z))},lastTime=0,step=function step(){var time=performance.now();lastTime>0&&world.step(1/frameRate),lastTime=time,meshes.forEach((function(objectMesh){if("isInstancedMesh"in objectMesh){var matrixArray=objectMesh.instanceMatrix.array;meshMap.get(objectMesh).forEach((function(){for(var _len2=arguments.length,forEachArgs=new Array(_len2),_key2=0;_key2<_len2;_key2++)forEachArgs[_key2]=arguments[_key2];var body=forEachArgs[0],bodyIndex=forEachArgs[1];compose({arrayBaseIndex:16*bodyIndex,matrixArray:matrixArray,position:body.getPosition(),quaternion:body.getOrientation()})})),objectMesh.instanceMatrix.needsUpdate=!0}else if("isMesh"in objectMesh){var body=meshMap.get(objectMesh);objectMesh.position.copy(body.getPosition()),objectMesh.quaternion.copy(body.getOrientation())}}))},intervalId=setInterval((function(){requestAnimationFrame(step)}),1e3/frameRate);return{addMesh:addMesh,setMeshPosition:setMeshPosition,stop:function stop(){clearInterval(intervalId)}}}()},speedScale=Object(src.a)().domain([0,200]).range([200,1]),ThreeJSPhysicsFalls_stories_createDemo=function createDemo(_ref){var _previousSimulation$s,physics=_ref.physics,previousSimulation=_ref.previousSimulation,props=_ref.props,state=Object.assign({timeCounter:0},null!==(_previousSimulation$s=null==previousSimulation?void 0:previousSimulation.state)&&void 0!==_previousSimulation$s?_previousSimulation$s:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,elements=function(){if(previousSimulation)return previousSimulation.elements;var floor=new three_module.P(new three_module.f(1e3,5,1e3),new three_module.sb({color:7829367})),objectsMaterial=new three_module.S,geometryBox=new three_module.f(.1,.1,.1),geometrySphere=new three_module.A(.075,3);return{boxes:new three_module.D(geometryBox,objectsMaterial,Math.ceil(props.itemsNumber/2)),camera:new three_module.db(50,width/500,.1,100),floor:floor,hemiLight:new three_module.z,position:new three_module.Gb,renderer:new three_module.Jb({antialias:!0}),scene:new three_module.qb,spheres:new three_module.D(geometrySphere,objectsMaterial,Math.ceil(props.itemsNumber/2))}}(),boxes=elements.boxes,camera=elements.camera,floor=elements.floor,hemiLight=elements.hemiLight,position=elements.position,renderer=elements.renderer,scene=elements.scene,createSimulation=function createSimulation(){return{elements:elements,physics:physics,props:props,state:state,stop:function stop(){state.isStopped=!0}}},meshList=[boxes,elements.spheres],animate=function animate(){if(!state.isStopped&&(requestAnimationFrame(animate),renderer.render(scene,camera),state.timeCounter+=1,props.speed)){var realSpeed=speedScale(props.speed);0===Math.floor(state.timeCounter%realSpeed)&&meshList.filter((function(){return Math.random()>.5})).forEach((function(objectMesh){var bodyIndex=Math.floor(Math.random()*objectMesh.count);position.set(0,Math.random()+1,0),physics.setMeshPosition({bodyIndex:bodyIndex,objectMesh:objectMesh,position:position})}))}};return previousSimulation?(animate(),createSimulation()):(function setupInitialSimulation(){camera.position.set(-1,1.5,2),camera.lookAt(0,.5,0),scene.background=new three_module.n(16777215),hemiLight.intensity=.35,scene.add(hemiLight);var dirLight=new three_module.p;dirLight.position.set(5,5,5),dirLight.castShadow=!0,dirLight.shadow.camera.zoom=2,scene.add(dirLight),floor.position.y=-2.5,floor.receiveShadow=!0,scene.add(floor),physics.addMesh({objectMesh:floor}),meshList.forEach((function(objectMesh){objectMesh.instanceMatrix.setUsage(three_module.r),objectMesh.castShadow=!0,objectMesh.receiveShadow=!0,scene.add(objectMesh);var matrix=new three_module.O,color=new three_module.n;Array.from({length:objectMesh.count}).forEach((function(){for(var _len=arguments.length,forEachArgs=new Array(_len),_key=0;_key<_len;_key++)forEachArgs[_key]=arguments[_key];var meshItemIndex=forEachArgs[1];matrix.setPosition(Math.random()-.5,2*Math.random(),Math.random()-.5),objectMesh.setMatrixAt(meshItemIndex,matrix),objectMesh.setColorAt(meshItemIndex,color.setHex(16777215*Math.random()))})),physics.addMesh({mass:1,objectMesh:objectMesh})})),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),renderer.shadowMap.enabled=!0,renderer.outputEncoding=three_module.Kb,container.innerHTML="",container.append(renderer.domElement);var controls=new OrbitControls.a(camera,renderer.domElement);controls.target.y=.5,controls.update()}(),animate(),createSimulation())},ThreeJSPhysicsFalls_stories_ThreeJSPhysicsFalls=function ThreeJSPhysicsFalls(props){var simulationRef=react_default.a.useRef(null),runSimulation=react_default.a.useCallback(debounce_default()((function(latestProps){var _simulationRef$curren;null===(_simulationRef$curren=simulationRef.current)||void 0===_simulationRef$curren||_simulationRef$curren.stop(),simulationRef.current=function demo(_ref2){var previousSimulation=_ref2.previousSimulation,props=_ref2.props;if((null==previousSimulation?void 0:previousSimulation.props.itemsNumber)!==props.itemsNumber){null==previousSimulation||previousSimulation.physics.stop();var _physics=ThreeJSPhysicsFalls_stories_createPhysics(null);return ThreeJSPhysicsFalls_stories_createDemo({physics:_physics,previousSimulation:null,props:props})}var physics=ThreeJSPhysicsFalls_stories_createPhysics(previousSimulation);return ThreeJSPhysicsFalls_stories_createDemo({physics:physics,previousSimulation:previousSimulation,props:props})}({previousSimulation:simulationRef.current,props:latestProps})}),200),[]);return react_default.a.useEffect((function(){return function(){simulationRef.current.stop()}}),[]),react_default.a.useEffect((function(){return runSimulation(props)}),[props]),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(common.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/dev/examples/physics_oimo_instancing.html",sourceText:"Source (official example, ported to TS)",storyName:"ThreeJSPhysicsFalls"}),Object(jsx_runtime.jsx)("div",{id:"example"})]})};ThreeJSPhysicsFalls_stories_ThreeJSPhysicsFalls.displayName="ThreeJSPhysicsFalls";var ThreeJSPhysicsFalls_stories_Template=function Template(props){return Object(jsx_runtime.jsx)(ThreeJSPhysicsFalls_stories_ThreeJSPhysicsFalls,Object.assign({},props))};ThreeJSPhysicsFalls_stories_Template.displayName="Template";var Common=ThreeJSPhysicsFalls_stories_Template.bind({}),_createRangeControl2=_slicedToArray(Object(common.createRangeControl)({diffMin:100,initialValue:100,step:1}),2),speedArgs=_createRangeControl2[0],speedControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(common.createRangeControl)({diffMax:900,diffMin:99,initialValue:100,step:1}),2),itemsNumberArgs=_createRangeControl4[0],itemsNumberControls=_createRangeControl4[1],args={itemsNumber:itemsNumberArgs,speed:speedArgs};Common.args=args;__webpack_exports__.default={argTypes:{itemsNumber:itemsNumberControls,speed:speedControls},component:ThreeJSPhysicsFalls_stories_ThreeJSPhysicsFalls,title:"ThreeJS/Physics Falls"}},1001:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(12),__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(101),__webpack_require__(50);var _blendingMap,src=__webpack_require__(39),react=__webpack_require__(0),react_default=__webpack_require__.n(react),three_module=__webpack_require__(1),helvetiker_bold_typeface=__webpack_require__(345),OrbitControls=__webpack_require__(41),TextGeometry=__webpack_require__(122),FontLoader=__webpack_require__(98),common=__webpack_require__(5),jsx_runtime=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BlendingType,speedScale=Object(src.b)().exponent(3).domain([0,1]).range([0,1]);!function(BlendingType){BlendingType.Additive="additive",BlendingType.None="none",BlendingType.Normal="normal"}(BlendingType||(BlendingType={}));var blendingMap=((_blendingMap={})[BlendingType.Additive]=three_module.b,_blendingMap[BlendingType.None]=three_module.X,_blendingMap[BlendingType.Normal]=three_module.Y,_blendingMap),font=new FontLoader.a(helvetiker_bold_typeface),ThreeJSTextShaders_stories_createDemo=function createDemo(_ref){var _prevSimulation$state,prevSimulation=_ref.prevSimulation,props=_ref.props,text=props.text,container=document.getElementById("example"),width=container.getBoundingClientRect().width,state=Object.assign({rotationY:0},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),simulationElements=function(){var uniforms={amplitude:{value:5},color:{value:new three_module.n(16777215)},opacity:{value:.3}},shaderMaterial=new three_module.rb({blending:blendingMap[props.blending],depthTest:!1,fragmentShader:document.getElementById("fragmentshader").textContent,transparent:!0,uniforms:uniforms,vertexShader:document.getElementById("vertexshader").textContent}),textGeometry=new TextGeometry.a(text,{bevelEnabled:!0,bevelSegments:10,bevelSize:1.5,bevelThickness:5,curveSegments:10,font:font,height:15,size:50}),line=new three_module.E(textGeometry,shaderMaterial);line.rotation.x=.2;var alwaysNewEls={line:line,textGeometry:textGeometry,uniforms:uniforms};return prevSimulation?(prevSimulation.simulationElements.scene.clear(),prevSimulation.simulationElements.scene.add(line),Object.assign({},prevSimulation.simulationElements,alwaysNewEls)):Object.assign({camera:new three_module.db(30,width/600,1,1e4),renderer:new three_module.Jb({antialias:!0}),scene:new three_module.qb},alwaysNewEls)}(),createSimulation=function createSimulation(){return{props:props,simulationElements:simulationElements,state:state,stop:function stop(){state.isStopped=!0}}},camera=simulationElements.camera,line=simulationElements.line,renderer=simulationElements.renderer,scene=simulationElements.scene,textGeometry=simulationElements.textGeometry,uniforms=simulationElements.uniforms,animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){var speedValue=speedScale(props.speed);state.rotationY+=speedValue,line.rotation.y=state.rotationY,uniforms.amplitude.value=Math.sin(.5*state.rotationY),uniforms.color.value.offsetHSL(5e-4,0,0);for(var lineAttributes=line.geometry.attributes,displacementArr=lineAttributes.displacement.array,displacementIndex=0;displacementIndex<displacementArr.length;displacementIndex+=3)displacementArr[displacementIndex]+=.3*(.5-Math.random()),displacementArr[displacementIndex+1]+=.3*(.5-Math.random()),displacementArr[displacementIndex+2]+=.3*(.5-Math.random());lineAttributes.displacement.needsUpdate=!0,renderer.render(scene,camera)}())};return function setupSimulation(){var count=textGeometry.attributes.position.count,customColor=new three_module.v(3*count,3),color=new three_module.n(0),customColorCount=customColor.count;Array.from({length:customColorCount}).forEach((function(){for(var _len=arguments.length,_ref2=new Array(_len),_key=0;_key<_len;_key++)_ref2[_key]=arguments[_key];var colorIndex=_ref2[1];color.setHSL(colorIndex/customColorCount,.5,.5),color.toArray(customColor.array,colorIndex*customColor.itemSize)})),textGeometry.setAttribute("customColor",customColor);var displacement=new three_module.v(3*count,3);textGeometry.setAttribute("displacement",displacement),textGeometry.center()}(),prevSimulation?(animate(),createSimulation()):(function setupNewSimulation(){camera.position.z=400,scene.background=new three_module.n(328965),scene.add(line),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,600),container.innerHTML="",container.appendChild(renderer.domElement);var controls=new OrbitControls.a(camera,renderer.domElement);controls.target.set(0,0,0),controls.update()}(),animate(),createSimulation())},ThreeJSTextShaders_stories_ThreeJSTextShaders=function ThreeJSTextShaders(props){var _React$useState2=_slicedToArray(react_default.a.useState(null),2),prevSimulation=_React$useState2[0],setPrevSimulation=_React$useState2[1];return react_default.a.useEffect((function(){var newSimulation=ThreeJSTextShaders_stories_createDemo({prevSimulation:prevSimulation,props:props});return setPrevSimulation(newSimulation),function(){newSimulation.stop()}}),[props]),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(common.StoryInfo,{docs:[common.threeDocs.materialsConstants,common.threeDocs.shaderMaterial,common.webAPIDocs.GLSLShaders],source:"https://github.com/mrdoob/three.js/blob/dev/examples/webgl_custom_attributes_lines.html",sourceText:"Source (official example, ported to TS)",storyName:"ThreeJSTextShaders"}),Object(jsx_runtime.jsx)("div",{id:"example"}),Object(jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n  uniform float amplitude;\n\n  attribute vec3 displacement;\n  attribute vec3 customColor;\n\n  varying vec3 vColor;\n\n  void main() {\n    vec3 newPosition = position + amplitude * displacement;\n\n    vColor = customColor;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n  }\n"},id:"vertexshader",type:"x-shader/x-vertex"}),Object(jsx_runtime.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n  uniform vec3 color;\n  uniform float opacity;\n\n  varying vec3 vColor;\n\n  void main() {\n    gl_FragColor = vec4(vColor * color, opacity);\n  }\n"},id:"fragmentshader",type:"x-shader/x-fragment"})]})};ThreeJSTextShaders_stories_ThreeJSTextShaders.displayName="ThreeJSTextShaders";var ThreeJSTextShaders_stories_Template=function Template(props){return Object(jsx_runtime.jsx)(ThreeJSTextShaders_stories_ThreeJSTextShaders,Object.assign({},props))};ThreeJSTextShaders_stories_Template.displayName="Template";var _createSelectControl2=_slicedToArray(Object(common.createSelectControl)(Object.values(BlendingType)),2),blendingArgs=_createSelectControl2[0],blendingControls=_createSelectControl2[1],_createRangeControl2=_slicedToArray(Object(common.createRangeControl)({diffMax:.8,diffMin:.2,initialValue:.2,step:.01}),2),speedArgs=_createRangeControl2[0],speedControls=_createRangeControl2[1],Common=ThreeJSTextShaders_stories_Template.bind({}),args={blending:blendingArgs,speed:speedArgs,text:"Demos\nExample"};Common.args=args;__webpack_exports__.default={argTypes:{blending:blendingControls,speed:speedControls},component:ThreeJSTextShaders_stories_ThreeJSTextShaders,title:"ThreeJS/Text Shaders"}},162:function(module,exports,__webpack_require__){var api=__webpack_require__(185),content=__webpack_require__(952);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},267:function(module,exports,__webpack_require__){var api=__webpack_require__(185),content=__webpack_require__(948);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},347:function(module,exports,__webpack_require__){var api=__webpack_require__(185),content=__webpack_require__(936);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},348:function(module,exports,__webpack_require__){var api=__webpack_require__(185),content=__webpack_require__(950);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},349:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/waternormals.537ec85b.jpg"},480:function(module,exports){},481:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(58),__webpack_require__(44),__webpack_require__(24),__webpack_require__(8),__webpack_require__(935),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(21);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_storyInfo_module_css__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(347),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SourceLink=function SourceLink(_ref){var onSeeLessClick=_ref.onSeeLessClick,onSeeMoreClick=_ref.onSeeMoreClick,sourceIndex=_ref.sourceIndex,sourceLink=_ref.sourceLink,sourceText=_ref.sourceText,sourcesLength=_ref.sourcesLength;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("a",{href:sourceLink,rel:"noreferrer",target:"_blank",children:(null!=sourceText?sourceText:"Source")+(1===sourcesLength?"":" "+(sourceIndex+1))}),(onSeeMoreClick||onSeeLessClick)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("a",{href:"#",onClick:function onClick(clickEvent){clickEvent.stopPropagation(),clickEvent.preventDefault(),onSeeMoreClick?onSeeMoreClick():onSeeLessClick()},children:[" ","(See ",onSeeMoreClick?"more >>":"less <<",")"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:" | "})]})},StoryInfo=function StoryInfo(_ref2){var docs=_ref2.docs,source=_ref2.source,sourceText=_ref2.sourceText,storyName=_ref2.storyName,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(!1),2),isDocsBlockExpanded=_React$useState2[0],setIsDocsBlockExpanded=_React$useState2[1],_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(!1),2),areSourcesExpanded=_React$useState4[0],setAreSourcesExpanded=_React$useState4[1];react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect((function(){var _parent$document$quer,anchorElement=null===(_parent$document$quer=parent.document.querySelector(".sidebar-header"))||void 0===_parent$document$quer?void 0:_parent$document$quer.querySelector("a");null==anchorElement||anchorElement.setAttribute("target","_self")}),[]);var storyPath=Array.isArray(storyName)?storyName.join("/"):storyName+"/"+storyName;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("p",{children:[Array.isArray(source)&&source.length>1&&!areSourcesExpanded?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(SourceLink,{onSeeMoreClick:function onSeeMoreClick(){setAreSourcesExpanded(!0)},sourceIndex:0,sourceLink:source[0],sourceText:sourceText,sourcesLength:source.length}):(Array.isArray(source)?source:[source]).map((function(){for(var _len=arguments.length,_ref3=new Array(_len),_key=0;_key<_len;_key++)_ref3[_key]=arguments[_key];var sourceItem=_ref3[0],sourceIndex=_ref3[1],sourcesArray=_ref3[2];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(SourceLink,{onSeeLessClick:sourcesArray.length>1&&sourceIndex===sourcesArray.length-1?function(){setAreSourcesExpanded(!1)}:void 0,sourceIndex:sourceIndex,sourceLink:sourceItem,sourceText:sourceText,sourcesLength:sourcesArray.length},sourceIndex)})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("a",{href:"https://github.com/igncp/demos/blob/main/storybook/stories/"+storyPath+".stories.tsx",rel:"noreferrer",target:"_blank",children:"Code in Github"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:" | "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("a",{href:"https://igncp.github.io/demos/coverage-ts/files/storybook/stories/"+storyPath+".stories.tsx.html",rel:"noreferrer",target:"_blank",children:"TypeScript Coverage"}),!(null==docs||!docs.length)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:" | "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("a",{href:"#",onClick:function onClick(clickEvent){clickEvent.preventDefault(),setIsDocsBlockExpanded(!isDocsBlockExpanded)},children:isDocsBlockExpanded?"Hide related docs":"Show related docs"})]})]}),isDocsBlockExpanded&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("ul",{className:_storyInfo_module_css__WEBPACK_IMPORTED_MODULE_15__.docsList,children:docs.map((function(doc){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("li",{className:_storyInfo_module_css__WEBPACK_IMPORTED_MODULE_15__.docItem,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("a",{href:doc.link,rel:"noreferrer",target:"_blank",children:doc.name})},doc.name)}))})]})};__webpack_exports__.a=StoryInfo;try{StoryInfo.displayName="StoryInfo",StoryInfo.__docgenInfo={description:"",displayName:"StoryInfo",props:{docs:{defaultValue:null,description:"",name:"docs",required:!1,type:{name:"Doc[]"}},source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"string | string[]"}},sourceText:{defaultValue:null,description:"",name:"sourceText",required:!1,type:{name:"string"}},storyName:{defaultValue:null,description:"",name:"storyName",required:!0,type:{name:"string | string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/common/StoryInfo/StoryInfo.tsx#StoryInfo"]={docgenInfo:StoryInfo.__docgenInfo,name:"StoryInfo",path:"stories/common/StoryInfo/StoryInfo.tsx#StoryInfo"})}catch(__react_docgen_typescript_loader_error){}},482:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return canvasDocs})),__webpack_require__.d(__webpack_exports__,"b",(function(){return svgDocs})),__webpack_require__.d(__webpack_exports__,"c",(function(){return threeDocs})),__webpack_require__.d(__webpack_exports__,"d",(function(){return webAPIDocs}));__webpack_require__(44);var getCanvasRenderingDoc=function getCanvasRenderingDoc(name){return{link:"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/"+name,name:name}},getSVGElementDoc=function getSVGElementDoc(name){return{link:"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/"+name,name:name+" Element"}},getThreeDoc=function getThreeDoc(path){return{link:"https://threejs.org/docs/#api/en/"+path.join("/"),name:path.join(".")+" docs"}},webAPIDocs={GLSLShaders:{link:"https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_on_the_web/GLSL_Shaders",name:"GLSL Shaders"},pointerEvent:{link:"https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent",name:"PointerEvent"}},canvasDocs={arc:getCanvasRenderingDoc("arc"),beginPath:getCanvasRenderingDoc("beginPath"),clearRect:getCanvasRenderingDoc("clearRect"),getImageData:getCanvasRenderingDoc("getImageData"),globalCompositeOperation:getCanvasRenderingDoc("globalCompositeOperation"),strokeStyle:getCanvasRenderingDoc("strokeStyle")},svgDocs={animateTransform:getSVGElementDoc("animateTransform"),begin:function getSVGAttributeDoc(name){return{link:"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/"+name,name:name+" attribute"}}("begin"),feConvolveMatrix:getSVGElementDoc("feConvolveMatrix"),feFlood:getSVGElementDoc("feFlood"),feMorphology:getSVGElementDoc("feMorphology"),fePointLight:getSVGElementDoc("fePointLight")},threeDocs={canvasTexture:getThreeDoc(["textures","CanvasTexture"]),color:getThreeDoc(["math","color"]),improveNoiseExample:function getThreeExampleDoc(path){return{link:"https://github.com/mrdoob/three.js/blob/dev/examples/jsm/"+path.join("/")+".js",name:path.join(".")+" example source code"}}(["math","ImprovedNoise"]),materialsConstants:getThreeDoc(["constants","Materials"]),meshPhysicalMaterial:getThreeDoc(["materials","MeshPhysicalMaterial"]),shaderMaterial:getThreeDoc(["materials","ShaderMaterial"]),vector3:getThreeDoc(["math","Vector3"]),webGLRenderer:getThreeDoc(["renderers","WebGLRenderer"])}},483:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createRangeControl})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createSelectControl}));var createRangeControl=function createRangeControl(_ref){var diffMax=_ref.diffMax,diffMin=_ref.diffMin,initialValue=_ref.initialValue;return[initialValue,{control:{max:initialValue+(null!=diffMax?diffMax:diffMin),min:initialValue-diffMin,step:_ref.step,type:"range"}}]},createSelectControl=function createSelectControl(selectOptions){return[selectOptions[0],{control:{type:"select"},options:selectOptions}]}},5:function(module,__webpack_exports__,__webpack_require__){"use strict";var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(480);__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"canvasDocs")&&__webpack_require__.d(__webpack_exports__,"canvasDocs",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.canvasDocs})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"createRangeControl")&&__webpack_require__.d(__webpack_exports__,"createRangeControl",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.createRangeControl})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"createSelectControl")&&__webpack_require__.d(__webpack_exports__,"createSelectControl",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.createSelectControl})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"svgDocs")&&__webpack_require__.d(__webpack_exports__,"svgDocs",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.svgDocs})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"threeDocs")&&__webpack_require__.d(__webpack_exports__,"threeDocs",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.threeDocs})),__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_0__,"webAPIDocs")&&__webpack_require__.d(__webpack_exports__,"webAPIDocs",(function(){return _types__WEBPACK_IMPORTED_MODULE_0__.webAPIDocs}));var _StoryInfo_StoryInfo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(481);__webpack_require__.d(__webpack_exports__,"StoryInfo",(function(){return _StoryInfo_StoryInfo__WEBPACK_IMPORTED_MODULE_1__.a}));var _commonDocs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(482);__webpack_require__.d(__webpack_exports__,"canvasDocs",(function(){return _commonDocs__WEBPACK_IMPORTED_MODULE_2__.a})),__webpack_require__.d(__webpack_exports__,"svgDocs",(function(){return _commonDocs__WEBPACK_IMPORTED_MODULE_2__.b})),__webpack_require__.d(__webpack_exports__,"threeDocs",(function(){return _commonDocs__WEBPACK_IMPORTED_MODULE_2__.c})),__webpack_require__.d(__webpack_exports__,"webAPIDocs",(function(){return _commonDocs__WEBPACK_IMPORTED_MODULE_2__.d}));var _storyHelpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(483);__webpack_require__.d(__webpack_exports__,"createRangeControl",(function(){return _storyHelpers__WEBPACK_IMPORTED_MODULE_3__.a})),__webpack_require__.d(__webpack_exports__,"createSelectControl",(function(){return _storyHelpers__WEBPACK_IMPORTED_MODULE_3__.b}))},516:function(module,exports,__webpack_require__){var api=__webpack_require__(185),content=__webpack_require__(946);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},517:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/circle.293624e6.png"},577:function(module,exports,__webpack_require__){__webpack_require__(578),__webpack_require__(736),__webpack_require__(737),__webpack_require__(992),__webpack_require__(993),__webpack_require__(994),__webpack_require__(997),__webpack_require__(995),__webpack_require__(996),__webpack_require__(998),module.exports=__webpack_require__(932)},645:function(module,exports){},737:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(403)},932:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(403).configure)([__webpack_require__(933),__webpack_require__(934)],module,!1)}).call(this,__webpack_require__(243)(module))},933:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=933},934:function(module,exports,__webpack_require__){var map={"./CanvasLayerWaves/CanvasLayerWaves.stories.tsx":999,"./CanvasMolecules/CanvasMolecules.stories.tsx":938,"./CanvasOrbitParticles/CanvasOrbitParticles.stories.tsx":940,"./CanvasTearableCloth/CanvasTearableCloth.stories.tsx":941,"./SVGFilters/SVGFilters.stories.tsx":944,"./SVGFlip/SVGFlip.stories.tsx":945,"./SVGSpinners/SVGSpinners.stories.tsx":947,"./SVGTextFilter/SVGTextFilter.stories.tsx":949,"./SVGUnderlineBorder/SVGUnderlineBorder.stories.tsx":951,"./ThreeJSBufferGeometry/ColorWaves.stories.tsx":953,"./ThreeJSBufferGeometry/DrawRange.stories.tsx":966,"./ThreeJSBufferGeometry/Instancing.stories.tsx":967,"./ThreeJSBufferGeometry/Interactive.stories.tsx":968,"./ThreeJSBufferGeometry/Points.stories.tsx":969,"./ThreeJSCubeWater/ThreeJSCubeWater.stories.tsx":970,"./ThreeJSPhysicsFalls/ThreeJSPhysicsFalls.stories.tsx":1e3,"./ThreeJSPostprocessing/Outline.stories.tsx":976,"./ThreeJSPostprocessing/Sobel.stories.tsx":977,"./ThreeJSReflectiveSpheres/ThreeJSReflectiveSpheres.stories.tsx":978,"./ThreeJSSpecialChars/ThreeJSSpecialChars.stories.tsx":979,"./ThreeJSTerrain/ThreeJSTerrain.stories.tsx":980,"./ThreeJSText/ThreeJSText.stories.tsx":983,"./ThreeJSTextShaders/ThreeJSTextShaders.stories.tsx":1001,"./ThreeJSTextStroke/ThreeJSTextStroke.stories.tsx":991};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=934},936:function(module,exports,__webpack_require__){(exports=__webpack_require__(186)(!1)).push([module.i,"._1pEKxoBUk62SpiLG3mxLs4 {\n  display: inline-block;\n  margin: 0 10px 0 0;\n}\n\n._2tpCHGDruX6SkYUDjUcPEu {\n  padding: 0;\n}\n",""]),exports.locals={docItem:"_1pEKxoBUk62SpiLG3mxLs4",docsList:"_2tpCHGDruX6SkYUDjUcPEu"},module.exports=exports},938:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(121),__webpack_require__(24),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(61),__webpack_require__(31),__webpack_require__(939),__webpack_require__(50);var d3__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var colors=["#f35d4f","#f36849","#c0d988","#6ddaf1","#f1e85b"],Particle=function(){function Particle(_ref2){var height=_ref2.height,id=_ref2.id,radiusBase=_ref2.radiusBase,speedBase=_ref2.speedBase,width=_ref2.width,x=_ref2.x,y=_ref2.y;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Particle),this.x=void 0,this.y=void 0,this.radius=void 0,this.color=void 0,this.vx=void 0,this.vy=void 0,this.id=void 0,this.id=id,this.x=null!=x?x:Math.round(Math.random()*width),this.y=null!=y?y:Math.round(Math.random()*height),this.radius=Math.random()*radiusBase+1,this.color=colors[function getRandomInt(_ref){var max=_ref.max,min=_ref.min;return Math.floor(Math.random()*(max-min+1))+min}({max:colors.length,min:0})],this.vx=Math.random()*speedBase-speedBase/2,this.vy=Math.random()*speedBase-speedBase/2}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Particle,[{key:"updatePosition",value:function updatePosition(_ref3){var height=_ref3.height,width=_ref3.width;this.x+=this.vx,this.y+=this.vy,this.x>width?this.x=0:this.x<0&&(this.x=width),this.y>height?this.y=0:this.y<0&&(this.y=height)}},{key:"shouldInteractWithParticle",value:function shouldInteractWithParticle(_ref4){var interactionDistance=_ref4.interactionDistance,otherParticle=_ref4.otherParticle;return this.id!==otherParticle.id&&this.color===otherParticle.color&&this.findDistance(otherParticle)<interactionDistance}},{key:"findDistance",value:function findDistance(otherParticle){return Math.sqrt(Math.pow(otherParticle.x-this.x,2)+Math.pow(otherParticle.y-this.y,2))}}]),Particle}(),main=function main(_ref5){var count=_ref5.count,interactionDistance=_ref5.interactionDistance,interactionLineWidth=_ref5.interactionLineWidth,radiusBase=_ref5.radiusBase,speedBase=_ref5.speedBase,width=document.getElementById("example").getBoundingClientRect().width,particleArgs={height:500,radiusBase:radiusBase,speedBase:speedBase,width:width},canvasEl=Object(d3__WEBPACK_IMPORTED_MODULE_9__.c)("#example").text("").append("canvas").attr("height",500).attr("width",width).style("background","#fff").node(),ctx=canvasEl.getContext("2d"),particles=Array.from({length:count}).map((function(){for(var _len=arguments.length,_ref6=new Array(_len),_key=0;_key<_len;_key++)_ref6[_key]=arguments[_key];var id=_ref6[1];return new Particle(Object.assign({},particleArgs,{id:id}))}));canvasEl.addEventListener("click",(function(clickEvent){clickEvent.preventDefault(),clickEvent.stopPropagation();var rect=canvasEl.getBoundingClientRect(),x=clickEvent.clientX-rect.left,y=clickEvent.clientY-rect.top;particles.push(new Particle(Object.assign({},particleArgs,{id:particles.length,x:x,y:y})))}));var isStopped=!1;return function loop(){isStopped||(!function draw(){ctx.clearRect(0,0,width,500),ctx.globalCompositeOperation="lighter",particles.forEach((function(particleA){var radiusFactor=1;ctx.fillStyle=particleA.color,ctx.strokeStyle=particleA.color,particles.forEach((function(particleB){particleA.shouldInteractWithParticle({interactionDistance:interactionDistance,otherParticle:particleB})&&(ctx.beginPath(),ctx.lineWidth=interactionLineWidth,ctx.moveTo(particleA.x,particleA.y),ctx.lineTo(particleB.x,particleB.y),ctx.stroke(),radiusFactor+=1)})),ctx.beginPath(),ctx.arc(particleA.x,particleA.y,particleA.radius*radiusFactor,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(particleA.x,particleA.y,(particleA.radius+5)*radiusFactor,0,2*Math.PI),ctx.stroke(),ctx.closePath(),particleA.updatePosition({height:500,width:width})}))}(),requestAnimationFrame(loop))}(),{stop:function stop(){isStopped=!0}}},CanvasMolecules=function CanvasMolecules(props){return react__WEBPACK_IMPORTED_MODULE_10___default.a.useEffect((function(){return main(props).stop})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_common__WEBPACK_IMPORTED_MODULE_11__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_11__.canvasDocs.arc,_common__WEBPACK_IMPORTED_MODULE_11__.canvasDocs.clearRect,_common__WEBPACK_IMPORTED_MODULE_11__.canvasDocs.globalCompositeOperation],source:"https://codepen.io/eltonkamami/pen/ECrKd",storyName:"CanvasMolecules"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{id:"example"})]})};CanvasMolecules.displayName="CanvasMolecules";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(CanvasMolecules,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({});Common.args={count:500,interactionDistance:50,interactionLineWidth:.5,radiusBase:1,speedBase:3},__webpack_exports__.default={argTypes:{},component:CanvasMolecules,title:"Canvas/Molecules"}},940:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(484),__webpack_require__(485),__webpack_require__(44),__webpack_require__(61),__webpack_require__(12),__webpack_require__(50),__webpack_require__(121);var d3__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var random=function random(_ref){var max=_ref.max,min=_ref.min;return Math.random()*(max-min)+min},main=function main(_ref2){var clearAlpha=_ref2.clearAlpha,count=_ref2.count,displayLight=_ref2.displayLight,displayOrbitals=_ref2.displayOrbitals,jitterHue=_ref2.jitterHue,jitterRadius=_ref2.jitterRadius,lightAlpha=_ref2.lightAlpha,orbitalAlpha=_ref2.orbitalAlpha,scale=_ref2.scale,speed=_ref2.speed,width=document.getElementById("example").getBoundingClientRect().width,canvasEl=Object(d3__WEBPACK_IMPORTED_MODULE_7__.c)("#example").text("").append("canvas").attr("height",500).attr("width",width).style("background","#000").node(),ctx=canvasEl.getContext("2d"),center={x:width/2,y:250},dt=1,t=Date.now(),Orb=function(){function Orb(_ref3){var x=_ref3.x,y=_ref3.y;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Orb),this.angle=void 0,this.lastAngle=void 0,this.radius=void 0,this.size=void 0,this.speed=void 0,this.x=void 0,this.y=void 0;var dx=x/scale-center.x/scale,dy=y/scale-center.y/scale;this.x=x,this.y=y,this.angle=Math.atan2(dy,dx),this.lastAngle=this.angle,this.radius=Math.sqrt(dx*dx+dy*dy),this.size=this.radius/300+1,this.speed=random({max:10,min:1})/3e5*this.radius+.015}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Orb,[{key:"update",value:function update(){this.lastAngle=this.angle,this.angle+=this.speed*(speed/50)*dt,this.x=this.radius*Math.cos(this.angle),this.y=this.radius*Math.sin(this.angle)}},{key:"render",value:function render(){if(displayOrbitals){var radius=0===jitterRadius?this.radius:this.radius+random({max:jitterRadius,min:-jitterRadius});radius=0!==jitterRadius&&radius<0?.001:radius,ctx.strokeStyle="hsla("+[(this.angle+90)/(Math.PI/180)+random({max:jitterHue,min:-jitterHue}),"100%","50%",orbitalAlpha/100].join(", ")+")",ctx.lineWidth=this.size,ctx.beginPath(),speed>=0?ctx.arc(0,0,radius,this.lastAngle,this.angle+.001,!1):ctx.arc(0,0,radius,this.angle,this.lastAngle+.001,!1),ctx.stroke(),ctx.closePath()}displayLight&&(ctx.lineWidth=.5,ctx.strokeStyle="hsla("+[(this.angle+90)/(Math.PI/180)+random({max:jitterHue,min:-jitterHue}),"100%","70%",lightAlpha/100].join(", ")+")",ctx.beginPath(),ctx.moveTo(0,0),ctx.lineTo(this.x,this.y),ctx.stroke())}}]),Orb}(),orbs=[],createOrb=function createOrb(config){var x=null!=config&&config.x?config.x:0,y=null!=config&&config.y?config.y:0;orbs.push(new Orb({x:x,y:y}))},isMouseDown=!1,createMouseOrb=function createMouseOrb(mouseEvent){var rect=canvasEl.getBoundingClientRect(),x=mouseEvent.clientX-rect.left,y=mouseEvent.clientY-rect.top;createOrb({x:x,y:y})};canvasEl.addEventListener("mouseup",(function(mouseEvent){isMouseDown=!1,mouseEvent.stopPropagation(),mouseEvent.preventDefault()})),canvasEl.addEventListener("mousedown",(function(mouseEvent){isMouseDown=!0,createMouseOrb(mouseEvent),mouseEvent.stopPropagation(),mouseEvent.preventDefault()})),canvasEl.addEventListener("mousemove",(function(mouseEvent){isMouseDown&&createMouseOrb(mouseEvent)}));for(var total=count;total;)createOrb({x:random({max:width/2+300,min:width/2-300}),y:random({max:550,min:-50})}),total-=1;var isStopped=!1;return function loop(){isStopped||(!function update(){dt=(dt=(dt=Date.now()-t)<.1?.1:dt/16)>5?5:dt,t=Date.now(),orbs.forEach((function(orb){orb.update()}))}(),function draw(){ctx.save(),ctx.translate(center.x,center.y),ctx.scale(scale,scale),orbs.forEach((function(orb){orb.render()})),ctx.restore()}(),function clear(){ctx.globalCompositeOperation="destination-out",ctx.fillStyle="rgba(0,0,0,"+clearAlpha/100+")",ctx.fillRect(0,0,width,500),ctx.globalCompositeOperation="lighter"}(),requestAnimationFrame(loop))}(),{stop:function stop(){isStopped=!0}}},CanvasOrbitParticles=function CanvasOrbitParticles(props){return react__WEBPACK_IMPORTED_MODULE_8___default.a.useEffect((function(){return main(props).stop})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common__WEBPACK_IMPORTED_MODULE_9__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_9__.canvasDocs.globalCompositeOperation,_common__WEBPACK_IMPORTED_MODULE_9__.canvasDocs.arc],source:"https://codepen.io/jackrugile/pen/aCzHs",storyName:"CanvasOrbitParticles"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{id:"example"})]})};CanvasOrbitParticles.displayName="CanvasOrbitParticles";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(CanvasOrbitParticles,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({});Common.args={clearAlpha:10,count:200,displayLight:!0,displayOrbitals:!0,jitterHue:0,jitterRadius:0,lightAlpha:4,orbitalAlpha:100,scale:5,speed:65},__webpack_exports__.default={argTypes:{},component:CanvasOrbitParticles,title:"Canvas/OrbitParticles"}},941:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(61),__webpack_require__(31),__webpack_require__(942),__webpack_require__(16),__webpack_require__(336),__webpack_require__(943),__webpack_require__(12),__webpack_require__(50),__webpack_require__(121),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(8),__webpack_require__(21);var d3__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_20__),_common__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var loopReversed=function loopReversed(itemsList,fn){itemsList.slice().reverse().forEach(fn)},Point=function(){function Point(_ref){var x=_ref.x,y=_ref.y;_classCallCheck(this,Point),this.x=void 0,this.y=void 0,this.px=void 0,this.py=void 0,this.pinX=void 0,this.pinY=void 0,this.constraints=void 0,this.vx=void 0,this.vy=void 0,this.x=x,this.y=y,this.px=x,this.py=y,this.pinX=null,this.pinY=null,this.constraints=[],this.vx=0,this.vy=0}return _createClass(Point,[{key:"update",value:function update(_ref2){var gravity=_ref2.gravity,mouseCut=_ref2.mouseCut,mouseInfluence=_ref2.mouseInfluence,mouseState=_ref2.mouseState;if(mouseState.down){var diffX=this.x-mouseState.x,diffY=this.y-mouseState.y,dist=Math.sqrt(diffX*diffX+diffY*diffY);1===mouseState.button?dist<mouseInfluence&&(this.px=this.x-1.8*(mouseState.x-mouseState.px),this.py=this.y-1.8*(mouseState.y-mouseState.py)):dist<mouseCut&&(this.constraints=[])}this.addForce({x:0,y:gravity});var newX=this.x+.99*(this.x-this.px)+this.vx/2*256e-6,newY=this.y+.99*(this.y-this.py)+this.vy/2*256e-6;this.px=this.x,this.py=this.y,this.x=newX,this.y=newY,this.vx=0,this.vy=0}},{key:"draw",value:function draw(ctx){this.constraints.length&&loopReversed(this.constraints,(function(constraint){constraint.draw(ctx)}))}},{key:"resolveConstraints",value:function resolveConstraints(_ref3){var boundsX=_ref3.boundsX,boundsY=_ref3.boundsY,tearDistance=_ref3.tearDistance;if(null!==this.pinX&&null!==this.pinY)return this.x=this.pinX,void(this.y=this.pinY);loopReversed(this.constraints,(function(constraint){constraint.resolve(tearDistance)})),this.x>boundsX?this.x=2*boundsX-this.x:1>this.x&&(this.x=2-this.x),this.y<1?this.y=2-this.y:this.y>boundsY&&(this.y=2*boundsY-this.y)}},{key:"attach",value:function attach(constraint){this.constraints.push(constraint)}},{key:"removeConstraint",value:function removeConstraint(constraint){this.constraints.splice(this.constraints.indexOf(constraint),1)}},{key:"addForce",value:function addForce(_ref4){var x=_ref4.x,y=_ref4.y;this.vx+=x,this.vy+=y;this.vx=Math.floor(400*this.vx)/400,this.vy=Math.floor(400*this.vy)/400}},{key:"pin",value:function pin(_ref5){var pinX=_ref5.pinX,pinY=_ref5.pinY;this.pinX=pinX,this.pinY=pinY}}]),Point}(),Constraint=function(){function Constraint(_ref6){var point1=_ref6.point1,point2=_ref6.point2,spacing=_ref6.spacing;_classCallCheck(this,Constraint),this.point1=void 0,this.point2=void 0,this.length=void 0,this.point1=point1,this.point2=point2,this.length=spacing}return _createClass(Constraint,[{key:"resolve",value:function resolve(tearDistance){var diffX=this.point1.x-this.point2.x,diffY=this.point1.y-this.point2.y,distance=Math.sqrt(diffX*diffX+diffY*diffY),diff=(this.length-distance)/distance;distance>tearDistance&&this.point1.removeConstraint(this);var halfDiff=diff/2,px=diffX*halfDiff,py=diffY*halfDiff;this.point1.x+=px,this.point1.y+=py,this.point2.x-=px,this.point2.y-=py}},{key:"draw",value:function draw(ctx){ctx.moveTo(this.point1.x,this.point1.y),ctx.lineTo(this.point2.x,this.point2.y)}}]),Constraint}(),CanvasTearableCloth=function CanvasTearableCloth(props){return react__WEBPACK_IMPORTED_MODULE_20___default.a.useEffect((function(){return function main(_ref7){var clothHeight=_ref7.clothHeight,clothWidth=_ref7.clothWidth,gravity=_ref7.gravity,mouseCut=_ref7.mouseCut,mouseInfluence=_ref7.mouseInfluence,physicsAccuracy=_ref7.physicsAccuracy,spacing=_ref7.spacing,startY=_ref7.startY,tearDistance=_ref7.tearDistance,width=document.getElementById("example").getBoundingClientRect().width,canvasEl=Object(d3__WEBPACK_IMPORTED_MODULE_19__.c)("#example").text("").append("canvas").attr("height",400).attr("width",width).node(),ctx=canvasEl.getContext("2d");ctx.strokeStyle="#333";var boundsX=width-1,state={isStopped:!1},mouseState={button:1,down:!1,px:0,py:0,x:0,y:0},cloth=new(function(){function Cloth(){_classCallCheck(this,Cloth),this.points=void 0,this.points=[],this.generatePoints()}return _createClass(Cloth,[{key:"update",value:function update(){for(var physicalRound=physicsAccuracy;physicalRound;)loopReversed(this.points,(function(point){point.resolveConstraints({boundsX:boundsX,boundsY:399,tearDistance:tearDistance})})),physicalRound-=1;loopReversed(this.points,(function(point){point.update({gravity:gravity,mouseCut:mouseCut,mouseInfluence:mouseInfluence,mouseState:mouseState})}))}},{key:"draw",value:function draw(){ctx.beginPath(),loopReversed(this.points,(function(point){point.draw(ctx)})),ctx.stroke()}},{key:"generatePoints",value:function generatePoints(){for(var startX=width/2-clothWidth*spacing/2,y=0;y<=clothHeight;y+=1)for(var x=0;x<=clothWidth;x+=1){var newPoint=new Point({x:startX+x*spacing,y:startY+y*spacing});if(0!==x){var pointLeft=this.points[this.points.length-1],constraint=new Constraint({point1:newPoint,point2:pointLeft,spacing:spacing});newPoint.attach(constraint)}if(0===y)newPoint.pin({pinX:newPoint.x,pinY:newPoint.y});else{var pointAbove=this.points[x+(y-1)*(clothWidth+1)],_constraint=new Constraint({point1:newPoint,point2:pointAbove,spacing:spacing});newPoint.attach(_constraint)}this.points.push(newPoint)}}}]),Cloth}());return canvasEl.onmousedown=function(mouseEvent){mouseEvent.preventDefault(),mouseState.button=mouseEvent.which,mouseState.px=mouseState.x,mouseState.py=mouseState.y;var rect=canvasEl.getBoundingClientRect();mouseState.x=mouseEvent.clientX-rect.left,mouseState.y=mouseEvent.clientY-rect.top,mouseState.down=!0},canvasEl.onmouseup=function(mouseEvent){mouseEvent.preventDefault(),mouseState.down=!1},canvasEl.onmousemove=function(mouseEvent){mouseEvent.preventDefault(),mouseState.px=mouseState.x,mouseState.py=mouseState.y;var rect=canvasEl.getBoundingClientRect();mouseState.x=mouseEvent.clientX-rect.left,mouseState.y=mouseEvent.clientY-rect.top},canvasEl.oncontextmenu=function(mouseEvent){mouseEvent.preventDefault()},function loop(){state.isStopped||(ctx.clearRect(0,0,width,400),cloth.update(),cloth.draw(),requestAnimationFrame(loop))}(),{stop:function stop(){state.isStopped=!0}}}(props).stop})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_common__WEBPACK_IMPORTED_MODULE_21__.StoryInfo,{docs:[{link:"https://en.wikipedia.org/wiki/Verlet_integration",name:"Verlet Integration"},_common__WEBPACK_IMPORTED_MODULE_21__.canvasDocs.clearRect],source:"https://codepen.io/dissimulate/pen/KrAwx",storyName:"CanvasTearableCloth"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("p",{children:"The left and right mouse buttons have different behaviors"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{id:"example"})]})};CanvasTearableCloth.displayName="CanvasTearableCloth";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(CanvasTearableCloth,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_21__.createRangeControl)({diffMin:25,initialValue:30,step:1}),2),clothHeightArgs=_createRangeControl2[0],clothHeightControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_21__.createRangeControl)({diffMax:150,diffMin:49,initialValue:50,step:1}),2),clothWidthArgs=_createRangeControl4[0],clothWidthControls=_createRangeControl4[1],args={clothHeight:clothHeightArgs,clothWidth:clothWidthArgs,gravity:1200,mouseCut:5,mouseInfluence:20,physicsAccuracy:3,spacing:7,startY:20,tearDistance:60};Common.args=args,__webpack_exports__.default={argTypes:{clothHeight:clothHeightControls,clothWidth:clothWidthControls},component:CanvasTearableCloth,title:"Canvas/Cloth"}},944:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(44),__webpack_require__(24),__webpack_require__(101),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(21);var _filtersObj,_getShape,d3__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__),_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var FiltersNames,ShapesNames,starPolygon=[[350],[75,379],[161,469],[161,397],[215,423],[301,350],[250,277],[301,303],[215,231],[161,321],[161]];!function(FiltersNames){FiltersNames.BlendExclusion="blend-exclusion",FiltersNames.Blur12x12="blur12x12",FiltersNames.Blur2x2="blur2x2",FiltersNames.BlurShadow="blur-shadow",FiltersNames.CompositeAnimated="composite-animated-1",FiltersNames.DiffuseLightning1="diffuse-lightning-1",FiltersNames.Glitch="glitch",FiltersNames.Motion="motion",FiltersNames.None="none",FiltersNames.Sample1="sample-1",FiltersNames.TurbulenceBlue="turbulence-blue",FiltersNames.Waves="waves"}(FiltersNames||(FiltersNames={})),function(ShapesNames){ShapesNames.Circle="circle",ShapesNames.Rect="rect",ShapesNames.Star="star"}(ShapesNames||(ShapesNames={}));var commonFilterProps={height:"300%",width:"300%",x:"-100%",y:"-100%"},filtersObj=((_filtersObj={})[FiltersNames.BlendExclusion]=function(_ref){var id=_ref.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feOffset",{dx:"20",dy:"20",in:"SourceGraphic",result:"offOut"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feBlend",{in:"SourceGraphic",in2:"offOut",mode:"exclusion"})]}))},_filtersObj[FiltersNames.Blur12x12]=function(_ref2){var id=_ref2.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("filter",Object.assign({},commonFilterProps,{id:id,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feGaussianBlur",{stdDeviation:"12 12"})}))},_filtersObj[FiltersNames.Blur2x2]=function(_ref3){var id=_ref3.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("filter",Object.assign({},commonFilterProps,{id:id,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feGaussianBlur",{stdDeviation:"2 2"})}))},_filtersObj[FiltersNames.BlurShadow]=function(_ref4){var id=_ref4.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feGaussianBlur",{stdDeviation:"7 5"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feDropShadow",{dx:"15",dy:"15",floodColor:"#777",floodOpacity:"0.25",stdDeviation:"5"})]}))},_filtersObj[FiltersNames.CompositeAnimated]=function(_ref5){var id=_ref5.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feTurbulence",{baseFrequency:"0.2",result:"FRACTAL-TEXTURE_10",type:"fractalNoise"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"FRACTAL-TEXTURE_10",in2:"SourceAlpha",operator:"in",result:"myComposite"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("feComposite",{in:"myComposite",in2:"SourceGraphic",k1:"1",k2:"2",k3:"0.8",k4:"-1",operator:"arithmetic",result:"noiseComposite",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"k1",dur:"4s",repeatCount:"indefinite",values:[1,4,1].join(";")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"k2",dur:"2s",repeatCount:"indefinite",values:[1,4,1].join(";")})]})]}))},_filtersObj[FiltersNames.DiffuseLightning1]=function(_ref6){var id=_ref6.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feDiffuseLighting",{in:"SourceGraphic",lightingColor:"white",result:"light",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("fePointLight",{z:"40",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"x",dur:"4s",repeatCount:"indefinite",values:[50,150,50].join(";")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"y",dur:"3s",repeatCount:"indefinite",values:[20,70,20].join(";")})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"SourceGraphic",in2:"light",k1:"1",k2:"0",k3:"0",k4:"0",operator:"arithmetic"})]}))},_filtersObj[FiltersNames.Glitch]=function(_ref7){var id=_ref7.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({colorInterpolationFilters:"sRGB"},commonFilterProps,{filterUnits:"objectBoundingBox",id:id,primitiveUnits:"userSpaceOnUse",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feFlood",{floodColor:"white",result:"black"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feFlood",{floodColor:"red",result:"flood1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feFlood",{floodColor:"limegreen",result:"flood2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feOffset",{dx:"3",dy:"0",in:"SourceGraphic",result:"off1a"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feOffset",{dx:"2",dy:"0",in:"SourceGraphic",result:"off1b"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feOffset",{dx:"-3",dy:"0",in:"SourceGraphic",result:"off2a"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feOffset",{dx:"-2",dy:"0",in:"SourceGraphic",result:"off2b"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"flood1",in2:"off1a",operator:"in",result:"comp1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"flood2",in2:"off2a",operator:"in",result:"comp2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("feMerge",{result:"merge1",width:"100%",x:"0",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"black"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"comp1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"off1b"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"y",dur:"4s",id:"y",keyTimes:"0; 0.362; 0.368; 0.421; 0.440; 0.477; 0.518; 0.564; 0.593; 0.613; 0.644; 0.693; 0.721; 0.736; 0.772; 0.818; 0.844; 0.894; 0.925; 0.939; 1",repeatCount:"indefinite",values:"104px; 104px; 30px; 105px; 30px; 2px; 2px; 50px; 40px; 105px; 105px; 20px; 6px; 40px; 104px; 40px; 70px; 10px; 30px; 104px; 102px"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"height",dur:"4s",id:"h",keyTimes:"0; 0.362; 0.368; 0.421; 0.440; 0.477; 0.518; 0.564; 0.593; 0.613; 0.644; 0.693; 0.721; 0.736; 0.772; 0.818; 0.844; 0.894; 0.925; 0.939; 1",repeatCount:"indefinite",values:"10px; 0px; 10px; 30px; 50px; 0px; 10px; 0px; 0px; 0px; 10px; 50px; 40px; 0px; 0px; 0px; 40px; 30px; 10px; 0px; 50px"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("feMerge",{height:"65px",result:"merge2",width:"100%",x:"0",y:"60px",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"black"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"comp2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"off2b"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"y",dur:"4s",id:"y",keyTimes:"0; 0.055; 0.100; 0.125; 0.159; 0.182; 0.202; 0.236; 0.268; 0.326; 0.357; 0.400; 0.408; 0.461; 0.493; 0.513; 0.548; 0.577; 0.613; 1",repeatCount:"indefinite",values:"103px; 104px; 69px; 53px; 42px; 104px; 78px; 89px; 96px; 100px; 67px; 50px; 96px; 66px; 88px; 42px; 13px; 100px; 100px; 104px;"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"height",dur:"4s",id:"h",keyTimes:"0; 0.055; 0.100; 0.125; 0.159; 0.182; 0.202; 0.236; 0.268; 0.326; 0.357; 0.400; 0.408; 0.461; 0.493; 0.513;  1",repeatCount:"indefinite",values:"0px; 0px; 0px; 16px; 16px; 12px; 12px; 0px; 0px; 5px; 10px; 22px; 33px; 11px; 0px; 0px; 10px"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("feMerge",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"SourceGraphic"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"merge1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"merge2"})]})]}))},_filtersObj[FiltersNames.Motion]=function(_ref8){var id=_ref8.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("filter",Object.assign({id:id},commonFilterProps,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feConvolveMatrix",{kernelMatrix:"1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1",order:"20, 1"})}))},_filtersObj[FiltersNames.None]=function(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("g",{})},_filtersObj[FiltersNames.Sample1]=function(_ref9){var id=_ref9.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{filterUnits:"userSpaceOnUse",id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feGaussianBlur",{in:"SourceAlpha",result:"blur",stdDeviation:"4"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feOffset",{dx:"4",dy:"4",in:"blur",result:"offsetBlur"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feSpecularLighting",{in:"blur",lightingColor:"#bbbbbb",result:"specOut",specularConstant:".75",specularExponent:"20",surfaceScale:"5",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("fePointLight",{x:"-5000",y:"-10000",z:"20000"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"SourceGraphic",in2:"specOut",k1:"0",k2:"1",k3:"1",k4:"0",operator:"arithmetic",result:"litPaint"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("feMerge",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"offsetBlur"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feMergeNode",{in:"litPaint"})]})]}))},_filtersObj[FiltersNames.TurbulenceBlue]=function(_ref10){var id=_ref10.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feTurbulence",{baseFrequency:".05,.004",height:"200%",numOctaves:"4",result:"FRACTAL-TEXTURE_10",seed:"0",type:"fractalNoise",width:"200%"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feComposite",{in:"FRACTAL-TEXTURE_10",in2:"SourceAlpha",operator:"in",result:"myComposite"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feColorMatrix",{in:"myComposite",type:"matrix",values:"0   0   0   0   0 0   0   0   0   0 0   0   0   0   1 0   0   0   0.5 0"})]}))},_filtersObj[FiltersNames.Waves]=function(_ref11){var id=_ref11.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("filter",Object.assign({},commonFilterProps,{colorInterpolationFilters:"linearRGB",id:id,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feTurbulence",{baseFrequency:"0.01 0.01",numOctaves:"1",result:"turbulence",seed:"1",stitchTiles:"noStitch",type:"turbulence",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("animate",{attributeName:"baseFrequency",dur:"4s",repeatCount:"indefinite",values:["0.01 0.01","0.01 0.04","0.04 0.01","0.01 0.01"].join(";")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"turbulence",result:"displacementMap",scale:"20",xChannelSelector:"G",yChannelSelector:"A"})]}))},_filtersObj),filters=Object.values(FiltersNames).map((function(filterName){return{comp:filtersObj[filterName],id:filterName}})),getShape=((_getShape={})[ShapesNames.Circle]=function(svg){return svg.append("circle").attr("fill","green").attr("r",50).attr("cx",70).attr("cy",70)},_getShape[ShapesNames.Rect]=function(svg){return svg.append("rect").attr("width",200).attr("height",80).attr("x",20).attr("y",20).attr("fill","blue")},_getShape[ShapesNames.Star]=function(svg){return svg.append("polygon").attr("points",starPolygon.map((function(subItem){return subItem.map((function(subNumber){return subNumber/2})).join(" ")})).join(", ")).attr("fill","yellow").attr("stroke-width","2").attr("stroke","orange")},_getShape),demo=function demo(_ref12){var filterName=_ref12.filterName,shapeName=_ref12.shapeName;!function setupSVG(){var width=document.body.getBoundingClientRect().width;Object(d3__WEBPACK_IMPORTED_MODULE_15__.c)("#example-svg").attr("width",width-100).attr("height",300)}();var svg=Object(d3__WEBPACK_IMPORTED_MODULE_15__.c)("#example").text("");getShape[shapeName](svg).style("filter",filterName===FiltersNames.None?"":"url(#"+filterName+")")},SVGFilters=function SVGFilters(props){return react__WEBPACK_IMPORTED_MODULE_16___default.a.useEffect((function(){demo(props)}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_common__WEBPACK_IMPORTED_MODULE_17__.StoryInfo,{source:["https://alligator.io/svg/svg-filters/","https://www.smashingmagazine.com/2015/05/why-the-svg-filter-is-awesome/","https://www.w3.org/TR/SVG11/filters.html","https://codepen.io/mullany/pens/public"],storyName:"SVGFilters"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("p",{children:"You can choose a wide options of SVG filters to apply in different shapes"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("svg",{id:"example-svg",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("g",{children:filters.map((function(_ref13){var Filter=_ref13.comp,id=_ref13.id;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(Filter,{id:id},id)}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("g",{id:"example"})]})]})};SVGFilters.displayName="SVGFilters";var _createSelectControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_17__.createSelectControl)(Object.values(FiltersNames)),2),filtersArgs=_createSelectControl2[0],filtersControls=_createSelectControl2[1],_createSelectControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_17__.createSelectControl)(Object.values(ShapesNames)),2),shapesArgs=_createSelectControl4[0],shapesControls=_createSelectControl4[1],Common=function Common(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(SVGFilters,Object.assign({},props))};Common.displayName="Common";var commonArgs={filterName:filtersArgs,shapeName:shapesArgs};Common.args=commonArgs,__webpack_exports__.default={argTypes:{filterName:filtersControls,shapeName:shapesControls},component:SVGFilters,title:"SVG/Filters"};try{Common.displayName="Common",Common.__docgenInfo={description:"",displayName:"Common",props:{filterName:{defaultValue:null,description:"",name:"filterName",required:!0,type:{name:"enum",value:[{value:'"blend-exclusion"'},{value:'"blur12x12"'},{value:'"blur2x2"'},{value:'"blur-shadow"'},{value:'"composite-animated-1"'},{value:'"diffuse-lightning-1"'},{value:'"glitch"'},{value:'"motion"'},{value:'"none"'},{value:'"sample-1"'},{value:'"turbulence-blue"'},{value:'"waves"'}]}},shapeName:{defaultValue:null,description:"",name:"shapeName",required:!0,type:{name:"enum",value:[{value:'"circle"'},{value:'"rect"'},{value:'"star"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/SVGFilters/SVGFilters.stories.tsx#Common"]={docgenInfo:Common.__docgenInfo,name:"Common",path:"stories/SVGFilters/SVGFilters.stories.tsx#Common"})}catch(__react_docgen_typescript_loader_error){}},945:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(44),__webpack_require__(57),__webpack_require__(12),__webpack_require__(50);var d3__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),_svgFlip_module_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(516),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),SVGFlip=function SVGFlip(props){return react__WEBPACK_IMPORTED_MODULE_5___default.a.useEffect((function(){!function main(_ref){var color=_ref.color,infinite=_ref.infinite,svg=Object(d3__WEBPACK_IMPORTED_MODULE_4__.c)("#example").text("").append("svg").style("border","1px solid black"),circle=svg.append("g").attr("transform","translate(40, 40)").append("circle").attr("fill",color).attr("r","25").attr("stroke","black").attr("stroke-width","2px");svg.on("mouseenter",(function(){circle.attr("fill","orange").style("animation",[_svgFlip_module_css__WEBPACK_IMPORTED_MODULE_7__.flipLeft,"1s",infinite&&"infinite","forwards"].filter((function(v){return!!v})).join(" "))})).on("mouseleave",(function(){circle.attr("fill",color).style("animation",null)}))}(props)})),react__WEBPACK_IMPORTED_MODULE_5___default.a.useEffect((function(){Object(d3__WEBPACK_IMPORTED_MODULE_4__.c)("#example").text("")}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("p",{children:"Hover the rectangle to flip the circle"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_common__WEBPACK_IMPORTED_MODULE_6__.StoryInfo,{source:"https://codepen.io/demianpt/pen/qbLaQZ",storyName:"SVGFlip"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{id:"example"})]})};SVGFlip.displayName="SVGFlip";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(SVGFlip,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({});Common.args={color:"green",infinite:!1},__webpack_exports__.default={argTypes:{color:{control:"color"}},component:SVGFlip,title:"SVG/Flip"}},946:function(module,exports,__webpack_require__){(exports=__webpack_require__(186)(!1)).push([module.i,"@-webkit-keyframes _1wmC2kPuurdkp4bISsp3bf {\n  0% {\n    transform: perspective(2000px) rotateY(90deg) skewY(-1deg);\n  }\n\n  60% {\n    transform: perspective(2000px) rotateY(-25deg) skewY(-0.8deg);\n  }\n\n  80% {\n    transform: perspective(2000px) rotateY(20deg) skewY(0.8deg);\n  }\n\n  90% {\n    transform: perspective(2000px) rotateY(-10deg) skewY(-0.8deg);\n  }\n\n  100% {\n    transform: perspective(2000px) rotateY(0deg);\n  }\n}\n\n@keyframes _1wmC2kPuurdkp4bISsp3bf {\n  0% {\n    transform: perspective(2000px) rotateY(90deg) skewY(-1deg);\n  }\n\n  60% {\n    transform: perspective(2000px) rotateY(-25deg) skewY(-0.8deg);\n  }\n\n  80% {\n    transform: perspective(2000px) rotateY(20deg) skewY(0.8deg);\n  }\n\n  90% {\n    transform: perspective(2000px) rotateY(-10deg) skewY(-0.8deg);\n  }\n\n  100% {\n    transform: perspective(2000px) rotateY(0deg);\n  }\n}\n",""]),exports.locals={flipLeft:"_1wmC2kPuurdkp4bISsp3bf"},module.exports=exports},947:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"First",(function(){return First})),__webpack_require__.d(__webpack_exports__,"Second",(function(){return Second})),__webpack_require__.d(__webpack_exports__,"Third",(function(){return Third}));__webpack_require__(61),__webpack_require__(31),__webpack_require__(44),__webpack_require__(24),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var _spinnersFns,SpinnerType,d3__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__),_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5),_svgSpinners_module_css__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(267),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(SpinnerType){SpinnerType.First="first",SpinnerType.Second="second",SpinnerType.Third="third"}(SpinnerType||(SpinnerType={}));var spinnersFns=((_spinnersFns={})[SpinnerType.First]=function firstSpinnerFn(_ref){var props=_ref.props,svg=_ref.svg;svg.attr("class",_svgSpinners_module_css__WEBPACK_IMPORTED_MODULE_19__.firstSpinner);var circleCenter=50;[{className:_svgSpinners_module_css__WEBPACK_IMPORTED_MODULE_19__.firstCircle,direction:1,radius:47},{className:_svgSpinners_module_css__WEBPACK_IMPORTED_MODULE_19__.secondCircle,direction:-1,radius:39}].forEach((function(_ref2){var className=_ref2.className,direction=_ref2.direction,radius=_ref2.radius;svg.append("circle").attr("class",className).attr("r",radius).attr("cx",circleCenter).attr("cy",circleCenter).attr("stroke",props.color).append("animateTransform").attr("attributeName","transform").attr("type","rotate").attr("dur","5s").attr("from",[0,circleCenter,circleCenter].join(" ")).attr("to",[360*direction,circleCenter,circleCenter].join(" ")).attr("repeatCount","indefinite")})),Array.from({length:5}).map((function(){for(var _len=arguments.length,_ref3=new Array(_len),_key=0;_key<_len;_key++)_ref3[_key]=arguments[_key];var rectIndex=_ref3[1];return[30+10*rectIndex,.1*(rectIndex+1)]})).forEach((function(_ref4){var _ref5=_slicedToArray(_ref4,2),x=_ref5[0],begin=_ref5[1],valueLimit=5;svg.append("rect").attr("x",x).attr("y","35").attr("width","5").attr("height","30").append("animateTransform").attr("attributeName","transform").attr("type","translate").attr("dur","1s").attr("values",[[0,valueLimit],[0,-valueLimit],[0,valueLimit]].map((function(v){return v.join(" ")})).join(" ; ")).attr("repeatCount","indefinite").attr("begin",begin)}))},_spinnersFns[SpinnerType.Second]=function secondSpinnerFn(_ref6){var props=_ref6.props,svg=_ref6.svg,circleCenter=50;svg.append("circle").attr("fill","none").attr("stroke",props.color).attr("cx",circleCenter).attr("cy",circleCenter).attr("r",40).style("opacity","0.5"),svg.append("circle").attr("fill",props.color).attr("cx",circleCenter-40).attr("cy",circleCenter).attr("r",4).append("animateTransform").attr("attributeName","transform").attr("dur","2s").attr("type","rotate").attr("from",[0,circleCenter,circleCenter].join(" ")).attr("to",[360,circleCenter,circleCenter].join(" ")).attr("repeatCount","indefinite")},_spinnersFns[SpinnerType.Third]=function thirdSpinnerFn(_ref7){var svg=_ref7.svg;Array.from({length:3}).forEach((function(){for(var _len2=arguments.length,_ref8=new Array(_len2),_key2=0;_key2<_len2;_key2++)_ref8[_key2]=arguments[_key2];var circleIndex=_ref8[1];svg.append("circle").attr("stroke","none").attr("cx",26*circleIndex+20).attr("cy","50").attr("r","5").append("animate").attr("attributeName","opacity").attr("dur","1s").attr("values",[0,1,0].join(";")).attr("repeatCount","indefinite").attr("begin",1/3*circleIndex)}))},_spinnersFns),SVGSpinners=function SVGSpinners(props){react__WEBPACK_IMPORTED_MODULE_17___default.a.useEffect((function(){!function main(props){var svg=Object(d3__WEBPACK_IMPORTED_MODULE_16__.c)("#example").text("").append("svg").attr("viewBox",[0,0,100,100].join(", ")).append("g").attr("fill",props.color);spinnersFns[props.type]({props:props,svg:svg})}(props)}));var size=props.size;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_common__WEBPACK_IMPORTED_MODULE_18__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_18__.svgDocs.animateTransform],source:"https://codepen.io/nikhil8krishnan/pen/rVoXJa",sourceText:"Source (only ported a few)",storyName:"SVGSpinners"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{height:size,width:size},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{id:"example"})})]})};SVGSpinners.displayName="SVGSpinners";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(SVGSpinners,Object.assign({},props))};Template.displayName="Template";var createStory=function createStory(spinnerType){var story=function story(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(Template,Object.assign({},args,{type:spinnerType}))};return story.args={color:"green",size:250},story},First=createStory(SpinnerType.First),Second=createStory(SpinnerType.Second),Third=createStory(SpinnerType.Third);__webpack_exports__.default={argTypes:{color:{control:"color"},size:"number"},component:SVGSpinners,title:"SVG/Spinners"};try{First.displayName="First",First.__docgenInfo={description:"",displayName:"First",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"first"'},{value:'"second"'},{value:'"third"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/SVGSpinners/SVGSpinners.stories.tsx#First"]={docgenInfo:First.__docgenInfo,name:"First",path:"stories/SVGSpinners/SVGSpinners.stories.tsx#First"})}catch(__react_docgen_typescript_loader_error){}try{Second.displayName="Second",Second.__docgenInfo={description:"",displayName:"Second",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"first"'},{value:'"second"'},{value:'"third"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/SVGSpinners/SVGSpinners.stories.tsx#Second"]={docgenInfo:Second.__docgenInfo,name:"Second",path:"stories/SVGSpinners/SVGSpinners.stories.tsx#Second"})}catch(__react_docgen_typescript_loader_error){}try{Third.displayName="Third",Third.__docgenInfo={description:"",displayName:"Third",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"first"'},{value:'"second"'},{value:'"third"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/SVGSpinners/SVGSpinners.stories.tsx#Third"]={docgenInfo:Third.__docgenInfo,name:"Third",path:"stories/SVGSpinners/SVGSpinners.stories.tsx#Third"})}catch(__react_docgen_typescript_loader_error){}},948:function(module,exports,__webpack_require__){(exports=__webpack_require__(186)(!1)).push([module.i,"._16N_SuU2qoJRZSzCi-NtoH .iYFF2z2J4ooN8lzy6xYfr {\n\n    stroke-dasharray: 14.2472, 14.2472;\n    stroke-miterlimit: 15;\n    stroke-width: 6px;\n  }\n  ._16N_SuU2qoJRZSzCi-NtoH ._2wZK3ZKNmHMIWVNEpqPEcb {\n\n    stroke-dasharray: 10, 10;\n    stroke-miterlimit: 10;\n    stroke-width: 1px;\n  }\n  ._16N_SuU2qoJRZSzCi-NtoH .iYFF2z2J4ooN8lzy6xYfr,\n  ._16N_SuU2qoJRZSzCi-NtoH ._2wZK3ZKNmHMIWVNEpqPEcb {\n    fill: none;\n  }\n",""]),exports.locals={firstSpinner:"_16N_SuU2qoJRZSzCi-NtoH",firstCircle:"iYFF2z2J4ooN8lzy6xYfr",secondCircle:"_2wZK3ZKNmHMIWVNEpqPEcb"},module.exports=exports},949:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(21);var d3__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5),_styles_module_css__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(348),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SVGTextFilter=function SVGTextFilter(props){return react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect((function(){!function demo(_ref){var fontFamily=_ref.fontFamily,fontSize=_ref.fontSize,skew=_ref.skew,text=_ref.text,width=document.getElementById("example").getBoundingClientRect().width;Object(d3__WEBPACK_IMPORTED_MODULE_13__.c)("#example").text("").append("svg").attr("class",_styles_module_css__WEBPACK_IMPORTED_MODULE_16__.svg).attr("width",width).html('\n  <defs>\n    <filter id="filter">\n      \x3c!-- Colors: --\x3e\n      <feFlood flood-color="#4CFED7"  flood-opacity="1" result="COL_green-l" />\n      <feFlood flood-color="#0A4D39"  flood-opacity="1" result="COL_green-m" />\n      <feFlood flood-color="#2A9B83"  flood-opacity="1" result="COL_green-d" />\n      <feFlood flood-color="#FA5C71"  flood-opacity="1" result="COL_red-l" />\n      <feFlood flood-color="#A5122B"  flood-opacity="1" result="COL_red-d" />\n      <feFlood flood-color="rgba(0,0,0,0)" flood-opacity="0" result="TRANSPARENT" />\n      \x3c!-- Colors end --\x3e\n\n      \x3c!-- Lower Green Bevel --\x3e\n      <feMorphology operator="dilate" radius="10" in="SourceAlpha" result="GREEN-BEVEL-1_10" />\n      <feConvolveMatrix order="8,8" divisor="1"\n        kernelMatrix = "1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1" in="GREEN-BEVEL-1_10" result="GREEN-BEVEL-1_20" />\n      <feComposite operator="in" in="COL_green-d"  in2="GREEN-BEVEL-1_20" result="GREEN-BEVEL-1_30" />\n      \x3c!-- Lower Green Bevel End --\x3e\n\n      \x3c!-- Lower Green Front --\x3e\n      <feComposite operator="in" in="COL_green-l" in2="GREEN-BEVEL-1_10" result="GREEN-FRONT-1_0" />\n      <feOffset dx="4" dy="4" in="GREEN-FRONT-1_0" result="GREEN-FRONT-1_10"/>\n      <feSpecularLighting surfaceScale="0" specularConstant=".75" specularExponent="30" lighting-color="#white" in="GREEN-FRONT-1_10" result="GREEN-FRONT-1_20">\n        <fePointLight x="0" y="-30" z="400" />\n      </feSpecularLighting>\n      <feComposite operator="out" in2="GREEN-FRONT-1_20" in="GREEN-FRONT-1_10" result="GREEN-FRONT-1_30" />\n      \x3c!-- Lower Green Front End --\x3e\n\n      \x3c!-- Upper Green Bevel --\x3e\n      <feMorphology operator="dilate" radius="7" in="SourceAlpha" result="GREEN-BEVEL-2_0" />\n      <feConvolveMatrix order="8,8" divisor="1"\n        kernelMatrix = "1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1"\n        in="GREEN-BEVEL-2_0"\n        result="GREEN-BEVEL-2_10"\n      />\n      <feComposite operator="in" in="COL_green-d" in2="GREEN-BEVEL-2_10" result="GREEN-BEVEL-2_20" />\n      <feOffset dx="9" dy="9" in="GREEN-BEVEL-2_20" result="GREEN-BEVEL-2_30"/>\n      \x3c!-- Upper Green Bevel end --\x3e\n\n      \x3c!-- Upper Green Front --\x3e\n      <feOffset dx="18" dy="18" in="GREEN-BEVEL-2_0" result="GREEN-FRONT-2_10"/>\n      <feComposite operator="in" in="COL_green-l" in2="GREEN-FRONT-2_10" result="GREEN-FRONT-2_20" />\n      <feSpecularLighting surfaceScale="0" specularConstant="0.75" specularExponent="40" lighting-color="#white" in="GREEN-FRONT-2_20" result="GREEN-FRONT-2_30">\n        <fePointLight x="120" y="170" z="500" />\n      </feSpecularLighting>\n       <feComposite operator="in" in2="GREEN-FRONT-2_10" in="GREEN-FRONT-2_30" result="GREEN-FRONT-2_40" />\n      \x3c!-- Upper Green Front end --\x3e\n\n      \x3c!-- Bevels and Front shaded --\x3e\n      <feMerge  result="SHADED-BEVELS_0">\n        <feMergeNode in="GREEN-BEVEL-1_10" />\n        <feMergeNode in="GREEN-FRONT-1_30" />\n        <feMergeNode in="GREEN-BEVEL-2_30" />\n        <feMergeNode in="GREEN-FRONT-2_20" />\n        <feMergeNode in="GREEN-FRONT-2_40" />\n        <feMergeNode in="TRANSPARENT" />\n      </feMerge>\n\n      <feSpecularLighting surfaceScale="0" specularConstant="0.45" specularExponent="30" lighting-color="#white" in="SHADED-BEVELS_0" result="SHADED-BEVELS_10">\n          <fePointLight x="320" y="-20" z="400" />\n      </feSpecularLighting>\n      <feComposite operator="in" in2="SHADED-BEVELS_0" in="SHADED-BEVELS_10" result="SHADED-BEVELS_30" />\n      \x3c!-- Bevels and Front shaded end --\x3e\n\n      \x3c!-- Upper Red Bevel --\x3e\n      <feConvolveMatrix order="4,4" divisor="1"\n        kernelMatrix="1 0 0 0\n        0 1 0 0\n        0 0 1 0\n        0 0 0 1" in="SourceAlpha" result = "RED-BEVEL-0_0"\n      />\n      <feComposite in="COL_red-d" in2="RED-BEVEL-0_0" operator="in"  result="RED-BEVEL-0_10" />\n      <feOffset dx="20" dy="20" in="RED-BEVEL-0_10" result="RED-BEVEL-0_20"/>\n      \x3c!-- Upper Red Bevel end --\x3e\n\n      \x3c!-- Upper Red Front --\x3e\n      <feComposite operator="in"  in="COL_red-l" in2="SourceAlpha" result="RED-FRONT-0_0" />\n      <feOffset dx="24" dy="24" in="RED-FRONT-0_0" result="RED-FRONT-0_10"/>\n      <feSpecularLighting\n        surfaceScale="0"\n        specularConstant=".45"\n        specularExponent="30"\n        lighting-color="#white"\n        in="RED-FRONT-0_10"\n        result="RED-FRONT-0_20"\n      >\n        <fePointLight x="20" y="180" z="300" />\n      </feSpecularLighting>\n      <feComposite operator="in" in2="RED-FRONT-0_10" in="RED-FRONT-0_20" result="RED-FRONT-0_30" />\n      \x3c!-- Upper Red Front end--\x3e\n\n      \x3c!-- Inner Line --\x3e\n      <feMorphology radius="4" in="SourceAlpha" result="INNER-LINE_0" />\n      <feMorphology radius="5" in="SourceAlpha" result="INNER-LINE_10" />\n      <feComposite operator="out" in="INNER-LINE_0" in2="INNER-LINE_10" result="INNER-LINE_20" />\n      <feComposite operator="in" in="COL_green-l" in2="INNER-LINE_20" result="INNER-LINE_30" />\n      <feOffset dx="24" dy="24" in="INNER-LINE_30" result="INNER-LINE_40" />\n      \x3c!-- Inner Line end --\x3e\n\n      <feMerge result="extruded-m">\n        <feMergeNode in="SHADED-BEVELS_0" />\n        <feMergeNode in="SHADED-BEVELS_30" />\n        <feMergeNode in="RED-BEVEL-0_20" />\n        <feMergeNode in="RED-FRONT-0_10" />\n        <feMergeNode in="RED-FRONT-0_30" />\n        <feMergeNode in="INNER-LINE_40" />\n        <feMergeNode in="TRANSPARENT" />\n      </feMerge>\n    </filter>\n  </defs>\n  <g class="'+_styles_module_css__WEBPACK_IMPORTED_MODULE_16__.filtered+'">\n    <text x="20" y="'+(100+10*skew+fontSize)+'"\n      transform="skewY(-'+skew+')"\n      style="font-family: '+fontFamily+"; font-size: "+fontSize+'px;"\n    >\n      '+text+"\n    </text>\n  </g>\n")}(props)}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common__WEBPACK_IMPORTED_MODULE_15__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_15__.svgDocs.feConvolveMatrix,_common__WEBPACK_IMPORTED_MODULE_15__.svgDocs.feFlood,_common__WEBPACK_IMPORTED_MODULE_15__.svgDocs.feMorphology,_common__WEBPACK_IMPORTED_MODULE_15__.svgDocs.fePointLight],source:"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/091ac72c-a975-481c-9c5a-f3adf7961f83/3dneon-svg.html",storyName:"SVGTextFilter"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{id:"example"})]})};SVGTextFilter.displayName="SVGTextFilter";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(SVGTextFilter,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createSelectControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_15__.createSelectControl)(["sans-serif","serif"]),2),fontsArgs=_createSelectControl2[0],fontsControls=_createSelectControl2[1],_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_15__.createRangeControl)({diffMax:100,diffMin:150,initialValue:170,step:1}),2),fontSizeArgs=_createRangeControl2[0],fontSizeControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_15__.createRangeControl)({diffMin:12,initialValue:12,step:1}),2),skewArgs=_createRangeControl4[0],skewControls=_createRangeControl4[1],args={fontFamily:fontsArgs,fontSize:fontSizeArgs,skew:skewArgs,text:"Demos"};Common.args=args,__webpack_exports__.default={argTypes:{fontFamily:fontsControls,fontSize:fontSizeControls,skew:skewControls},component:SVGTextFilter,title:"SVG/Text Filter"}},950:function(module,exports,__webpack_require__){(exports=__webpack_require__(186)(!1)).push([module.i,'::-moz-selection {\n  background: #4cfed7;\n}\n\n::selection {\n  background: #4cfed7;\n}\n\n._2m1Pmq1FlT5gewj2zTte6V {\n  display: block;\n  height: 600px;\n  margin: 0 auto;\n  overflow: hidden;\n  position: relative;\n}\n\n.y3dRAF62e5rAf-FDbZ9D3 {\n  color: #4cfed7;\n  fill: #4cfed7;\n  filter: "url(#filter)";\n}\n',""]),exports.locals={svg:"_2m1Pmq1FlT5gewj2zTte6V",filtered:"y3dRAF62e5rAf-FDbZ9D3"},module.exports=exports},951:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(61),__webpack_require__(31),__webpack_require__(44),__webpack_require__(12),__webpack_require__(50);var d3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),_svgUnderlineBorder_module_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(162),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),SVGUnderlineBorder=function SVGUnderlineBorder(props){return react__WEBPACK_IMPORTED_MODULE_6___default.a.useEffect((function(){!function main(_ref){var infinite=_ref.infinite,wrapper=Object(d3__WEBPACK_IMPORTED_MODULE_5__.c)("#example").text("").append("div").style("height","60px").attr("class",_svgUnderlineBorder_module_css__WEBPACK_IMPORTED_MODULE_8__.svgWrapper),svg=wrapper.append("svg").attr("height",60).attr("width",320),rect=svg.append("rect").attr("class",_svgUnderlineBorder_module_css__WEBPACK_IMPORTED_MODULE_8__.shape).attr("height",60).attr("width",320);[wrapper.append("div").attr("class",_svgUnderlineBorder_module_css__WEBPACK_IMPORTED_MODULE_8__.text).text("HOVER"),svg].forEach((function(selection){selection.on("mouseenter",(function(){rect.style("animation",(infinite?["2s",_svgUnderlineBorder_module_css__WEBPACK_IMPORTED_MODULE_8__.hoverBorderLoop,"linear","infinite","forwards"]:["0.5s",_svgUnderlineBorder_module_css__WEBPACK_IMPORTED_MODULE_8__.hoverBorder,"linear","forwards"]).join(" "))})),selection.on("mouseleave",(function(){rect.style("animation",null).style("stroke",null)}))}))}(props)})),react__WEBPACK_IMPORTED_MODULE_6___default.a.useEffect((function(){return function(){Object(d3__WEBPACK_IMPORTED_MODULE_5__.c)("#example").text("")}}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{children:"Hover the underline to see the effect"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_common__WEBPACK_IMPORTED_MODULE_7__.StoryInfo,{source:"https://codepen.io/seanmccaffery/pen/xBpbG",storyName:"SVGUnderlineBorder"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{id:"example"})]})};SVGUnderlineBorder.displayName="SVGUnderlineBorder";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SVGUnderlineBorder,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({});Common.args={infinite:!1},__webpack_exports__.default={component:SVGUnderlineBorder,title:"SVG/Underline Border"}},952:function(module,exports,__webpack_require__){(exports=__webpack_require__(186)(!1)).push([module.i,"._3DHlXWGAEAwSLxkjJePRDz {\n  fill: transparent;\n  stroke: #19f6e8;\n  stroke-dasharray: 140 470;\n  stroke-dashoffset: -470;\n  stroke-width: 8px;\n}\n._2QHpidJ3s9avf9Qopi_bXR {\n  color: #333;\n  font-size: 22px;\n  left: 0;\n  letter-spacing: 8px;\n  line-height: 32px;\n  position: absolute;\n  right: 0;\n  top: 12px;\n  transition: letter-spacing ease-in 0.2s;\n}\n@-webkit-keyframes _2LKPT5hBIf3RARCLAGtZN_ {\n  0% {\n    stroke: red;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n\n  33%,\n  60% {\n    stroke: red;\n\n    stroke-dasharray: 760;\n\n    stroke-dashoffset: 0;\n\n    stroke-width: 2px;\n  }\n\n  80% {\n    stroke: red;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n\n  80.01%,\n  100% {\n    stroke: #19f6e8;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n}\n@keyframes _2LKPT5hBIf3RARCLAGtZN_ {\n  0% {\n    stroke: red;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n\n  33%,\n  60% {\n    stroke: red;\n\n    stroke-dasharray: 760;\n\n    stroke-dashoffset: 0;\n\n    stroke-width: 2px;\n  }\n\n  80% {\n    stroke: red;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n\n  80.01%,\n  100% {\n    stroke: #19f6e8;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n}\n@-webkit-keyframes _3Ijt5g_NaaLtzNJd6oaFiw {\n  0% {\n    stroke: red;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n\n  100% {\n    stroke: red;\n\n    stroke-dasharray: 760;\n\n    stroke-dashoffset: 0;\n\n    stroke-width: 2px;\n  }\n}\n@keyframes _3Ijt5g_NaaLtzNJd6oaFiw {\n  0% {\n    stroke: red;\n\n    stroke-dasharray: 140 540;\n\n    stroke-dashoffset: -474;\n\n    stroke-width: 8px;\n  }\n\n  100% {\n    stroke: red;\n\n    stroke-dasharray: 760;\n\n    stroke-dashoffset: 0;\n\n    stroke-width: 2px;\n  }\n}\n._2PbQP5d4SLsoZpq2OsJERc {\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  text-align: center\n}\n._2PbQP5d4SLsoZpq2OsJERc:hover ._2QHpidJ3s9avf9Qopi_bXR {\n      letter-spacing: 10px;\n    }\n",""]),exports.locals={shape:"_3DHlXWGAEAwSLxkjJePRDz",text:"_2QHpidJ3s9avf9Qopi_bXR",svgWrapper:"_2PbQP5d4SLsoZpq2OsJERc",hoverBorderLoop:"_2LKPT5hBIf3RARCLAGtZN_",hoverBorder:"_3Ijt5g_NaaLtzNJd6oaFiw"},module.exports=exports},953:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(462),__webpack_require__(12),__webpack_require__(249),__webpack_require__(187),__webpack_require__(188),__webpack_require__(189),__webpack_require__(190),__webpack_require__(191),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),__webpack_require__(207),__webpack_require__(208),__webpack_require__(209),__webpack_require__(9),__webpack_require__(14),__webpack_require__(210),__webpack_require__(491),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(17),__webpack_require__(13),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(21);var react__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_40__),three__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(41),_common__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5),_circle_png__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(517),_circle_png__WEBPACK_IMPORTED_MODULE_44___default=__webpack_require__.n(_circle_png__WEBPACK_IMPORTED_MODULE_44__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getFragmentShaderCode=function getFragmentShaderCode(_ref){var colorScaleDivisor=_ref.colorScaleDivisor,rgbFactor=_ref.rgbFactor,saturationFactor=_ref.saturationFactor;return"\nprecision highp float;\n\nuniform sampler2D texture;\n\nvarying vec2 vUv;\nvarying float vColorScale;\n\nvec3 HUEtoRGB(float Hue) {\n  // https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/mod.xhtml\n  Hue = mod(Hue,1.0);\n\n  // https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/abs.xhtml\n  float R = abs(Hue * 6.0 - 3.0) - 1.0;\n  float G = 2.0 - abs(Hue * 6.0 - 2.0);\n  float B = 2.0 - abs(Hue * 6.0 - 4.0);\n\n  // https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/clamp.xhtml\n  return clamp(vec3(R, G, B), 0.0, 1.0);\n}\n\nvec3 HSLtoRGB(vec3 HSL) {\n  vec3 RGB = HUEtoRGB(HSL.x) * "+rgbFactor.toFixed(1)+";\n\n  float Saturation = HSL.y * "+saturationFactor.toFixed(1)+";\n  float Lightness = HSL.z;\n  float C = (1.0 - abs(2.0 * Lightness - 1.0)) * Saturation;\n\n  return (RGB - 0.5) * C + Lightness;\n}\n\nvoid main() {\n  vec4 diffuseColor = texture2D(texture, vUv);\n\n  gl_FragColor = vec4(\n    diffuseColor.xyz *\n      HSLtoRGB(\n        vec3(vColorScale/"+colorScaleDivisor.toFixed(1)+", 1.0, 0.5)\n      ),\n    diffuseColor.w\n  );\n\n  // https://gamedev.stackexchange.com/a/100571\n  if (diffuseColor.w < 0.5) discard;\n}\n"},demo=function demo(_ref2){var _prevSimulation$state,prevSimulation=_ref2.prevSimulation,props=_ref2.props,state=Object.assign({rotationTime:0,wavesTime:0},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,getShaders=function getShaders(){return{fragmentShader:document.getElementById("fragmentshader").textContent,vertexShader:document.getElementById("vertexshader").textContent}},elements=function(){if(prevSimulation)return prevSimulation.elements;var renderer=new three__WEBPACK_IMPORTED_MODULE_41__.Jb,camera=new three__WEBPACK_IMPORTED_MODULE_41__.db(50,width/500,1,5e3),scene=new three__WEBPACK_IMPORTED_MODULE_41__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_41__.n(16777215);var circleGeometry=new three__WEBPACK_IMPORTED_MODULE_41__.k(1,6),cubeGeometry=new three__WEBPACK_IMPORTED_MODULE_41__.C;cubeGeometry.index=circleGeometry.index,cubeGeometry.attributes=circleGeometry.attributes;for(var particleCount=props.particleCount,translateArray=new Float32Array(3*particleCount),particleCountTriple=3*particleCount,particleIndexTriple=0;particleIndexTriple<particleCountTriple;particleIndexTriple+=3)for(var coordinateIndex=0;coordinateIndex<3;coordinateIndex+=1)translateArray[particleIndexTriple+coordinateIndex]=2*Math.random()-1;cubeGeometry.setAttribute("translate",new three__WEBPACK_IMPORTED_MODULE_41__.B(translateArray,3));var _getShaders=getShaders(),fragmentShader=_getShaders.fragmentShader,vertexShader=_getShaders.vertexShader,cubeMaterial=new three__WEBPACK_IMPORTED_MODULE_41__.nb({depthTest:!0,depthWrite:!0,fragmentShader:fragmentShader,uniforms:{texture:{value:(new three__WEBPACK_IMPORTED_MODULE_41__.Ab).load(_circle_png__WEBPACK_IMPORTED_MODULE_44___default.a)},wavesTime:{value:0}},vertexShader:vertexShader}),cubeMesh=new three__WEBPACK_IMPORTED_MODULE_41__.P(cubeGeometry,cubeMaterial),cubeSize=props.cubeSize;return cubeMesh.scale.set(cubeSize,cubeSize,cubeSize),scene.add(cubeMesh),{camera:camera,cubeMaterial:cubeMaterial,cubeMesh:cubeMesh,renderer:renderer,scene:scene}}(),camera=elements.camera,cubeMaterial=elements.cubeMaterial,cubeMesh=elements.cubeMesh,renderer=elements.renderer,scene=elements.scene,createSimulation=function createSimulation(){return{elements:elements,props:props,state:state,stop:function stop(){state.isStopped=!0}}},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){state.rotationTime+=1e-4*props.rotationSpeed,state.wavesTime+=1e-4*props.wavesSpeed,cubeMaterial.uniforms.wavesTime.value=state.wavesTime,cubeMesh.rotation.x=.2*state.rotationTime,cubeMesh.rotation.y=.4*state.rotationTime,renderer.render(scene,camera)}())};if(prevSimulation){var fragmentShader=getShaders().fragmentShader;return cubeMaterial.fragmentShader=fragmentShader,cubeMaterial.needsUpdate=!0,animate(),createSimulation()}return function initSimulation(){camera.position.z=1400,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),container.innerHTML="",container.appendChild(renderer.domElement);var controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_42__.a(camera,renderer.domElement);controls.target.y=.5,controls.update()}(),animate(),createSimulation()},reRenderProps=["cubeSize","particleCount"],ColorWaves=function ColorWaves(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_40___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_40___default.a.useEffect((function(){var prevSimulation=simulationRef.current;return prevSimulation&&reRenderProps.some((function(reRenderProp){return props[reRenderProp]!==prevSimulation.props[reRenderProp]}))?simulationRef.current=demo({prevSimulation:null,props:props}):simulationRef.current=demo({prevSimulation:simulationRef.current,props:props}),function(){simulationRef.current&&simulationRef.current.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__.jsx)(_common__WEBPACK_IMPORTED_MODULE_43__.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_buffergeometry_instancing_billboards.html",storyName:["ThreeJSBufferGeometry","ColorWaves"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__.jsx)("div",{id:"example"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__.jsx)("script",{dangerouslySetInnerHTML:{__html:"\nprecision highp float;\n\n// https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float wavesTime;\nattribute vec3 translate;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nvarying vec2 vUv;\nvarying float vColorScale;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(translate, 1.0);\n  vec3 translateTime = vec3(translate.x + wavesTime, translate.y + wavesTime, translate.z + wavesTime);\n  float timeScale = sin(translateTime.x * 2.1) + sin(translateTime.y * 3.2) + sin(translateTime.z * 4.3);\n\n  vColorScale = timeScale;\n  timeScale = timeScale * 10.0 + 10.0;\n\n  mvPosition.xyz += position * timeScale;\n  vUv = uv;\n\n  gl_Position = projectionMatrix * mvPosition;\n}\n"},id:"vertexshader",type:"x-shader/x-vertex"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__.jsx)("script",{dangerouslySetInnerHTML:{__html:getFragmentShaderCode({colorScaleDivisor:props.colorScaleDivisor,rgbFactor:props.rgbFactor,saturationFactor:props.saturationFactor})},id:"fragmentshader",type:"x-shader/x-fragment"})]})};ColorWaves.displayName="ColorWaves";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_45__.jsx)(ColorWaves,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMin:500,initialValue:500,step:1}),2),cubeSizeArg=_createRangeControl2[0],cubeSizeControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMin:74999,initialValue:75e3,step:1}),2),particleCountArg=_createRangeControl4[0],particleCountControls=_createRangeControl4[1],_createRangeControl6=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMin:100,initialValue:100,step:1}),2),rotationSpeedArg=_createRangeControl6[0],rotationSpeedControls=_createRangeControl6[1],_createRangeControl8=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMax:150,diffMin:50,initialValue:50,step:1}),2),wavesSpeedArg=_createRangeControl8[0],wavesSpeedControls=_createRangeControl8[1],_createRangeControl10=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMin:4,initialValue:5,step:1}),2),colorScaleDivisorArg=_createRangeControl10[0],colorScaleDivisorControls=_createRangeControl10[1],_createRangeControl12=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMax:10,diffMin:.5,initialValue:1,step:.5}),2),saturationFactorArg=_createRangeControl12[0],saturationFactorControls=_createRangeControl12[1],_createRangeControl14=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMax:0,diffMin:1,initialValue:1,step:.1}),2),rgbFactorArg=_createRangeControl14[0],rgbFactorControls=_createRangeControl14[1],args={colorScaleDivisor:colorScaleDivisorArg,cubeSize:cubeSizeArg,particleCount:particleCountArg,rgbFactor:rgbFactorArg,rotationSpeed:rotationSpeedArg,saturationFactor:saturationFactorArg,wavesSpeed:wavesSpeedArg};Common.args=args,__webpack_exports__.default={argTypes:{colorScaleDivisor:colorScaleDivisorControls,cubeSize:cubeSizeControls,particleCount:particleCountControls,rgbFactor:rgbFactorControls,rotationSpeed:rotationSpeedControls,saturationFactor:saturationFactorControls,wavesSpeed:wavesSpeedControls},component:ColorWaves,title:"ThreeJS/BufferGeometry/ColorWaves"}},966:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(249),__webpack_require__(187),__webpack_require__(188),__webpack_require__(189),__webpack_require__(190),__webpack_require__(191),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),__webpack_require__(207),__webpack_require__(208),__webpack_require__(209),__webpack_require__(9),__webpack_require__(14),__webpack_require__(210),__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(17),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_40__),three__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(41),_common__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isOutOfBounds=function isOutOfBounds(_ref){var arbitraryValue=_ref.arbitraryValue,bounds=_ref.bounds;return arbitraryValue<bounds[0]||arbitraryValue>bounds[1]},demo=function demo(_ref2){var _prevSimulation$state,prevSimulation=_ref2.prevSimulation,props=_ref2.props,maxConnections=props.maxConnections,minConnectionDistance=props.minConnectionDistance,particleCount=props.particleCount,state=Object.assign({},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,elements=function(){if(prevSimulation)return prevSimulation.elements;var camera=new three__WEBPACK_IMPORTED_MODULE_41__.db(45,width/500,1,4e3),scene=new three__WEBPACK_IMPORTED_MODULE_41__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_41__.n(16777215);var group=new three__WEBPACK_IMPORTED_MODULE_41__.y;scene.add(group);var helper=new three__WEBPACK_IMPORTED_MODULE_41__.g(new three__WEBPACK_IMPORTED_MODULE_41__.P(new three__WEBPACK_IMPORTED_MODULE_41__.f(800,800,800))),helperMaterial=helper.material;helperMaterial.color.setHex(0),helperMaterial.transparent=!0,group.add(helper);var linesPositions=new Float32Array(3e6),linesColors=new Float32Array(3e6),pointsMaterial=new three__WEBPACK_IMPORTED_MODULE_41__.ib({color:0,size:3,sizeAttenuation:!1,transparent:!0}),particlesData=[],particles=new three__WEBPACK_IMPORTED_MODULE_41__.i,particlesPositions=new Float32Array(3e3);Array.from({length:1e3}).forEach((function(){for(var _len=arguments.length,_ref3=new Array(_len),_key=0;_key<_len;_key++)_ref3[_key]=arguments[_key];var particleIndex=_ref3[1],x=800*Math.random()-400,y=800*Math.random()-400,z=800*Math.random()-400;particlesPositions[3*particleIndex]=x,particlesPositions[3*particleIndex+1]=y,particlesPositions[3*particleIndex+2]=z,particlesData.push({numConnections:0,velocity:new three__WEBPACK_IMPORTED_MODULE_41__.Gb(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1)})})),particles.setDrawRange(0,particleCount),particles.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_41__.h(particlesPositions,3).setUsage(three__WEBPACK_IMPORTED_MODULE_41__.r));var pointCloud=new three__WEBPACK_IMPORTED_MODULE_41__.hb(particles,pointsMaterial);group.add(pointCloud);var lineGeometry=new three__WEBPACK_IMPORTED_MODULE_41__.i;lineGeometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_41__.h(linesPositions,3).setUsage(three__WEBPACK_IMPORTED_MODULE_41__.r)),lineGeometry.setAttribute("color",new three__WEBPACK_IMPORTED_MODULE_41__.h(linesColors,3).setUsage(three__WEBPACK_IMPORTED_MODULE_41__.r)),lineGeometry.computeBoundingSphere(),lineGeometry.setDrawRange(0,0);var lineMaterial=new three__WEBPACK_IMPORTED_MODULE_41__.F({transparent:!0,vertexColors:!0}),linesMesh=new three__WEBPACK_IMPORTED_MODULE_41__.G(lineGeometry,lineMaterial);group.add(linesMesh);var renderer=new three__WEBPACK_IMPORTED_MODULE_41__.Jb({antialias:!0});return{camera:camera,controls:new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_42__.a(camera,renderer.domElement),linesColors:linesColors,linesMesh:linesMesh,linesPositions:linesPositions,particles:particles,particlesData:particlesData,particlesPositions:particlesPositions,pointCloud:pointCloud,renderer:renderer,scene:scene}}(),camera=elements.camera,controls=elements.controls,linesColors=elements.linesColors,linesMesh=elements.linesMesh,linesPositions=elements.linesPositions,particles=elements.particles,particlesData=elements.particlesData,particlesPositions=elements.particlesPositions,pointCloud=elements.pointCloud,renderer=elements.renderer,scene=elements.scene,createSimulation=function createSimulation(){return{elements:elements,props:props,state:state,stop:function stop(){state.isStopped=!0}}},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){var vertexpos=0,colorpos=0,numConnected=0;particlesData.forEach((function(particleData){particleData.numConnections=0}));var isOutOfBoundsParam={arbitraryValue:0,bounds:[-400,400]};Array.from({length:particleCount}).forEach((function(){for(var _len2=arguments.length,_ref4=new Array(_len2),_key2=0;_key2<_len2;_key2++)_ref4[_key2]=arguments[_key2];var particleIndex=_ref4[1],particleData=particlesData[particleIndex];if(particlesPositions[3*particleIndex]+=particleData.velocity.x,particlesPositions[3*particleIndex+1]+=particleData.velocity.y,particlesPositions[3*particleIndex+2]+=particleData.velocity.z,isOutOfBoundsParam.arbitraryValue=particlesPositions[3*particleIndex],isOutOfBounds(isOutOfBoundsParam)&&(particleData.velocity.x=-particleData.velocity.x),isOutOfBoundsParam.arbitraryValue=particlesPositions[3*particleIndex+1],isOutOfBounds(isOutOfBoundsParam)&&(particleData.velocity.y=-particleData.velocity.y),isOutOfBoundsParam.arbitraryValue=particlesPositions[3*particleIndex+2],isOutOfBounds(isOutOfBoundsParam)&&(particleData.velocity.z=-particleData.velocity.z),!(maxConnections>-1&&particleData.numConnections>=maxConnections))for(var _loop=function _loop(particleBIndex){var particleDataB=particlesData[particleBIndex];if(maxConnections>-1&&particleDataB.numConnections>=maxConnections)return{v:void 0};var dx=particlesPositions[3*particleIndex]-particlesPositions[3*particleBIndex],dy=particlesPositions[3*particleIndex+1]-particlesPositions[3*particleBIndex+1],dz=particlesPositions[3*particleIndex+2]-particlesPositions[3*particleBIndex+2],distance=Math.sqrt(dx*dx+dy*dy+dz*dz);if(distance>minConnectionDistance)return{v:void 0};particleData.numConnections+=1,particleDataB.numConnections+=1;var alpha=1-distance/minConnectionDistance;linesPositions[vertexpos++]=particlesPositions[3*particleIndex],linesPositions[vertexpos++]=particlesPositions[3*particleIndex+1],linesPositions[vertexpos++]=particlesPositions[3*particleIndex+2],linesPositions[vertexpos++]=particlesPositions[3*particleBIndex],linesPositions[vertexpos++]=particlesPositions[3*particleBIndex+1],linesPositions[vertexpos++]=particlesPositions[3*particleBIndex+2],Array.from({length:6}).forEach((function(){linesColors[colorpos++]=alpha})),numConnected+=1},particleBIndex=particleIndex+1;particleBIndex<particleCount;particleBIndex+=1){var _ret=_loop(particleBIndex);if("object"==typeof _ret)return _ret.v}})),linesMesh.geometry.setDrawRange(0,2*numConnected),linesMesh.geometry.attributes.position.needsUpdate=!0,linesMesh.geometry.attributes.color.needsUpdate=!0,pointCloud.geometry.attributes.position.needsUpdate=!0,renderer.render(scene,camera)}())};return prevSimulation?(pointCloud.visible=props.showDots,linesMesh.visible=props.showLines,particles.setDrawRange(0,particleCount),animate(),createSimulation()):(function initSimulation(){camera.position.z=1750,controls.minDistance=1e3,controls.maxDistance=3e3,renderer.outputEncoding=three__WEBPACK_IMPORTED_MODULE_41__.Kb,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),container.innerHTML="",container.appendChild(renderer.domElement),controls.target.y=.5,controls.update()}(),animate(),createSimulation())},DrawRange=function DrawRange(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_40___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_40___default.a.useEffect((function(){return simulationRef.current=demo({prevSimulation:simulationRef.current,props:props}),function(){simulationRef.current.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)(_common__WEBPACK_IMPORTED_MODULE_43__.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_buffergeometry_drawrange.html",storyName:["ThreeJSBufferGeometry","DrawRange"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)("div",{id:"example"})]})};DrawRange.displayName="DrawRange";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)(DrawRange,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMax:500,diffMin:499,initialValue:500,step:1}),2),particleCountArg=_createRangeControl2[0],particleCountControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMin:149,initialValue:150,step:1}),2),minConnectionDistanceArg=_createRangeControl4[0],minConnectionDistanceControls=_createRangeControl4[1],_createRangeControl6=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMax:100,diffMin:0,initialValue:-1,step:1}),2),maxConnectionsArg=_createRangeControl6[0],maxConnectionsControls=_createRangeControl6[1],args={maxConnections:maxConnectionsArg,minConnectionDistance:minConnectionDistanceArg,particleCount:particleCountArg,showDots:!0,showLines:!0};Common.args=args,__webpack_exports__.default={argTypes:{maxConnections:maxConnectionsControls,minConnectionDistance:minConnectionDistanceControls,particleCount:particleCountControls},component:DrawRange,title:"ThreeJS/BufferGeometry/DrawRange"}},967:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(249),__webpack_require__(187),__webpack_require__(188),__webpack_require__(189),__webpack_require__(190),__webpack_require__(191),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),__webpack_require__(207),__webpack_require__(208),__webpack_require__(209),__webpack_require__(9),__webpack_require__(14),__webpack_require__(210),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(17),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_40__),three__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(1),_common__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var createFragmentShader=function createFragmentShader(_ref){return"\n  precision highp float;\n\n  uniform float time;\n\n  varying vec3 vPosition;\n  varying vec4 vColor;\n\n  void main() {\n    vec4 color = vec4(vColor);\n    "+(_ref.withColorAnimation?"color.r += sin( vPosition.x * 10.0 + time ) * 0.5;":"")+"\n\n    gl_FragColor = color;\n  }\n"},fragmentShaderColorSinCode=createFragmentShader({withColorAnimation:!0}),fragmentShaderColorPlainCode=createFragmentShader({withColorAnimation:!1}),demo=function demo(_ref2){var _prevSimulation$state,prevSimulation=_ref2.prevSimulation,props=_ref2.props,state=Object.assign({expansionTime:0,rotationTime:0},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,getShaders=function getShaders(){var fragmentShaderColorSinText=document.getElementById("fragmentshadercolorsin").textContent,fragmentShaderColorPlainText=document.getElementById("fragmentshadercolorplain").textContent,vertexShaderText=document.getElementById("vertexshader").textContent;return{fragmentShader:props.colorAnimation?fragmentShaderColorSinText:fragmentShaderColorPlainText,vertexShader:vertexShaderText}},elements=function(){if(prevSimulation)return prevSimulation.elements;var camera=new three__WEBPACK_IMPORTED_MODULE_41__.db(50,width/500,1,10),renderer=new three__WEBPACK_IMPORTED_MODULE_41__.Jb,scene=new three__WEBPACK_IMPORTED_MODULE_41__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_41__.n(16777215);var _getShaders=getShaders(),fragmentShader=_getShaders.fragmentShader,vertexShader=_getShaders.vertexShader,trianglesMaterial=new three__WEBPACK_IMPORTED_MODULE_41__.nb({fragmentShader:fragmentShader,side:three__WEBPACK_IMPORTED_MODULE_41__.q,transparent:!0,uniforms:{sineTime:{value:1},time:{value:1}},vertexShader:vertexShader}),trianglesGeometry=new three__WEBPACK_IMPORTED_MODULE_41__.C,trianglesMesh=new three__WEBPACK_IMPORTED_MODULE_41__.P(trianglesGeometry,trianglesMaterial);return scene.add(trianglesMesh),{camera:camera,renderer:renderer,scene:scene,trianglesGeometry:trianglesGeometry,trianglesMesh:trianglesMesh}}(),camera=elements.camera,renderer=elements.renderer,scene=elements.scene,trianglesGeometry=elements.trianglesGeometry,trianglesMesh=elements.trianglesMesh,createSimulation=function createSimulation(){return{elements:elements,props:props,state:state,stop:function stop(){state.isStopped=!0}}},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){if(state.rotationTime+=.1*props.speed,trianglesMesh.rotation.y=5e-4*state.rotationTime,props.expansionAnimation){var trianglesMaterial=trianglesMesh.material;state.expansionTime+=.1*props.speed,trianglesMaterial.uniforms.time.value=.005*state.expansionTime,trianglesMaterial.uniforms.sineTime.value=Math.sin(.05*trianglesMaterial.uniforms.time.value)}trianglesGeometry.instanceCount=props.instancesCount,renderer.render(scene,camera)}())};if(prevSimulation){var fragmentShader=getShaders().fragmentShader;return trianglesMesh.material.fragmentShader=fragmentShader,animate(),createSimulation()}return function initSimulation(){camera.position.z=2;var vector=new three__WEBPACK_IMPORTED_MODULE_41__.Hb,positions=[],offsets=[],colors=[],orientationsStart=[],orientationsEnd=[];positions.push(.025,-.025,0),positions.push(-.025,.025,0),positions.push(0,0,.025),Array.from({length:props.instancesCount}).forEach((function(){offsets.push(Math.random()-.5,Math.random()-.5,Math.random()-.5),colors.push(Math.random(),Math.random(),Math.random(),Math.random()),vector.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1,2*Math.random()-1),vector.normalize(),orientationsStart.push(vector.x,vector.y,vector.z,vector.w),vector.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1,2*Math.random()-1),vector.normalize(),orientationsEnd.push(vector.x,vector.y,vector.z,vector.w)})),trianglesGeometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_41__.v(positions,3)),trianglesGeometry.setAttribute("offset",new three__WEBPACK_IMPORTED_MODULE_41__.B(new Float32Array(offsets),3)),trianglesGeometry.setAttribute("color",new three__WEBPACK_IMPORTED_MODULE_41__.B(new Float32Array(colors),4)),trianglesGeometry.setAttribute("orientationStart",new three__WEBPACK_IMPORTED_MODULE_41__.B(new Float32Array(orientationsStart),4)),trianglesGeometry.setAttribute("orientationEnd",new three__WEBPACK_IMPORTED_MODULE_41__.B(new Float32Array(orientationsEnd),4)),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),container.appendChild(renderer.domElement)}(),animate(),createSimulation()},Instancing=function Instancing(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_40___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_40___default.a.useEffect((function(){return simulationRef.current=demo({prevSimulation:simulationRef.current,props:props}),function(){simulationRef.current.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsx)(_common__WEBPACK_IMPORTED_MODULE_42__.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/dev/examples/webgl_buffergeometry_instancing.html",sourceText:"Source (official example, ported to TS)",storyName:["ThreeJSBufferGeometry","Instancing"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsx)("div",{id:"example"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsx)("script",{dangerouslySetInnerHTML:{__html:"\nprecision highp float;\n\nuniform float sineTime;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\nattribute vec3 offset;\nattribute vec4 color;\nattribute vec4 orientationStart;\nattribute vec4 orientationEnd;\n\nvarying vec3 vPosition;\nvarying vec4 vColor;\n\nvoid main(){\n  vPosition = offset * max( abs( sineTime * 2.0 + 1.0 ), 0.5 ) + position;\n  vec4 orientation = normalize( mix( orientationStart, orientationEnd, sineTime ) );\n  vec3 vcV = cross( orientation.xyz, vPosition );\n  vPosition = vcV * ( 2.0 * orientation.w ) + ( cross( orientation.xyz, vcV ) * 2.0 + vPosition );\n\n  vColor = color;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( vPosition, 1.0 );\n}\n"},id:"vertexshader",type:"x-shader/x-vertex"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsx)("script",{dangerouslySetInnerHTML:{__html:fragmentShaderColorSinCode},id:"fragmentshadercolorsin",type:"x-shader/x-fragment"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsx)("script",{dangerouslySetInnerHTML:{__html:fragmentShaderColorPlainCode},id:"fragmentshadercolorplain",type:"x-shader/x-fragment"})]})};Instancing.displayName="Instancing";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_43__.jsx)(Instancing,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_42__.createRangeControl)({diffMin:100,initialValue:100,step:1}),2),speedArg=_createRangeControl2[0],speedControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_42__.createRangeControl)({diffMin:5e4,initialValue:5e4,step:1e3}),2),instancesArg=_createRangeControl4[0],instancesControls=_createRangeControl4[1],args={colorAnimation:!0,expansionAnimation:!0,instancesCount:instancesArg,speed:speedArg};Common.args=args,__webpack_exports__.default={argTypes:{instancesCount:instancesControls,speed:speedControls},component:Instancing,title:"ThreeJS/BufferGeometry/Instancing"}},968:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(249),__webpack_require__(187),__webpack_require__(188),__webpack_require__(189),__webpack_require__(190),__webpack_require__(191),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),__webpack_require__(207),__webpack_require__(208),__webpack_require__(209),__webpack_require__(9),__webpack_require__(14),__webpack_require__(210),__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(17),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_40__),three__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(41),_common__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var demo=function demo(_ref){var _prevSimulation$state,prevSimulation=_ref.prevSimulation,props=_ref.props,speed=props.speed,state=Object.assign({time:0},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,elements=function(){if(prevSimulation)return prevSimulation.elements;for(var camera=new three__WEBPACK_IMPORTED_MODULE_41__.db(27,width/500,1,3500),renderer=new three__WEBPACK_IMPORTED_MODULE_41__.Jb,scene=new three__WEBPACK_IMPORTED_MODULE_41__.qb,pointer=new three__WEBPACK_IMPORTED_MODULE_41__.Fb,trianglesCount=props.trianglesCount,positions=new Float32Array(3*trianglesCount*3),normals=new Float32Array(3*trianglesCount*3),colors=new Float32Array(3*trianglesCount*3),color=new three__WEBPACK_IMPORTED_MODULE_41__.n,pointA=new three__WEBPACK_IMPORTED_MODULE_41__.Gb,pointB=new three__WEBPACK_IMPORTED_MODULE_41__.Gb,pointC=new three__WEBPACK_IMPORTED_MODULE_41__.Gb,cb=new three__WEBPACK_IMPORTED_MODULE_41__.Gb,ab=new three__WEBPACK_IMPORTED_MODULE_41__.Gb,triangleIndex=0;triangleIndex<positions.length;triangleIndex+=9){var x=800*Math.random()-400,y=800*Math.random()-400,z=800*Math.random()-400,ax=x+120*Math.random()-60,ay=y+120*Math.random()-60,az=z+120*Math.random()-60,bx=x+120*Math.random()-60,by=y+120*Math.random()-60,bz=z+120*Math.random()-60,cx=x+120*Math.random()-60,cy=y+120*Math.random()-60,cz=z+120*Math.random()-60;positions[triangleIndex]=ax,positions[triangleIndex+1]=ay,positions[triangleIndex+2]=az,positions[triangleIndex+3]=bx,positions[triangleIndex+4]=by,positions[triangleIndex+5]=bz,positions[triangleIndex+6]=cx,positions[triangleIndex+7]=cy,positions[triangleIndex+8]=cz,pointA.set(ax,ay,az),pointB.set(bx,by,bz),pointC.set(cx,cy,cz),cb.subVectors(pointC,pointB),ab.subVectors(pointA,pointB),cb.cross(ab),cb.normalize();var normalX=cb.x,normalY=cb.y,normalZ=cb.z;normals[triangleIndex]=normalX,normals[triangleIndex+1]=normalY,normals[triangleIndex+2]=normalZ,normals[triangleIndex+3]=normalX,normals[triangleIndex+4]=normalY,normals[triangleIndex+5]=normalZ,normals[triangleIndex+6]=normalX,normals[triangleIndex+7]=normalY,normals[triangleIndex+8]=normalZ;var vx=x/800+.5,vy=y/800+.5,vz=z/800+.5;color.setRGB(vx,vy,vz),colors[triangleIndex]=color.r,colors[triangleIndex+1]=color.g,colors[triangleIndex+2]=color.b,colors[triangleIndex+3]=color.r,colors[triangleIndex+4]=color.g,colors[triangleIndex+5]=color.b,colors[triangleIndex+6]=color.r,colors[triangleIndex+7]=color.g,colors[triangleIndex+8]=color.b}var cubeGeometry=new three__WEBPACK_IMPORTED_MODULE_41__.i;cubeGeometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_41__.h(positions,3)),cubeGeometry.setAttribute("normal",new three__WEBPACK_IMPORTED_MODULE_41__.h(normals,3)),cubeGeometry.setAttribute("color",new three__WEBPACK_IMPORTED_MODULE_41__.h(colors,3)),cubeGeometry.computeBoundingSphere();var cubeMaterial=new three__WEBPACK_IMPORTED_MODULE_41__.U({color:11184810,shininess:250,side:three__WEBPACK_IMPORTED_MODULE_41__.q,specular:16777215,vertexColors:!0}),cubeMesh=new three__WEBPACK_IMPORTED_MODULE_41__.P(cubeGeometry,cubeMaterial);scene.add(cubeMesh);var raycaster=new three__WEBPACK_IMPORTED_MODULE_41__.ob,lineGeometry=new three__WEBPACK_IMPORTED_MODULE_41__.i;lineGeometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_41__.h(new Float32Array(12),3));var lineMaterial=new three__WEBPACK_IMPORTED_MODULE_41__.F({color:16777215,transparent:!0}),line=new three__WEBPACK_IMPORTED_MODULE_41__.E(lineGeometry,lineMaterial);return scene.add(line),{camera:camera,cubeMesh:cubeMesh,line:line,pointer:pointer,raycaster:raycaster,renderer:renderer,scene:scene}}(),camera=elements.camera,cubeMesh=elements.cubeMesh,line=elements.line,pointer=elements.pointer,raycaster=elements.raycaster,renderer=elements.renderer,scene=elements.scene,onClick=function onClick(clickEvent){clickEvent.preventDefault(),clickEvent.stopPropagation();var intersects=raycaster.intersectObject(cubeMesh);if(intersects.length>0){var face=intersects[0].face,positionAttribute=cubeMesh.geometry.attributes.position.array,positionIndex=3*face.a;Array.from({length:9}).forEach((function(){for(var _len=arguments.length,_ref2=new Array(_len),_key=0;_key<_len;_key++)_ref2[_key]=arguments[_key];var positionOffset=_ref2[1];positionAttribute[positionIndex+positionOffset]=0})),cubeMesh.geometry.attributes.position.needsUpdate=!0}},onPointerMove=function onPointerMove(pointerEvent){var _container$getBoundin2=container.getBoundingClientRect(),left=_container$getBoundin2.left,top=_container$getBoundin2.top;pointer.x=(pointerEvent.clientX-left)/width*2-1,pointer.y=-(pointerEvent.clientY-top)/500*2+1};document.addEventListener("pointermove",onPointerMove),document.addEventListener("click",onClick);var createSimulation=function createSimulation(){return{elements:elements,props:props,state:state,stop:function stop(){document.removeEventListener("pointermove",onPointerMove),document.removeEventListener("click",onClick),state.isStopped=!0}}},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){state.time+=2e-4*speed,cubeMesh.rotation.x=.15*state.time,cubeMesh.rotation.y=.25*state.time,raycaster.setFromCamera(pointer,camera);var intersects=raycaster.intersectObject(cubeMesh);if(intersects.length>0){var face=intersects[0].face,linePosition=line.geometry.attributes.position,meshPosition=cubeMesh.geometry.attributes.position;linePosition.copyAt(0,meshPosition,face.a),linePosition.copyAt(1,meshPosition,face.b),linePosition.copyAt(2,meshPosition,face.c),linePosition.copyAt(3,meshPosition,face.a),cubeMesh.updateMatrix(),line.geometry.applyMatrix4(cubeMesh.matrix),line.visible=!0}else line.visible=!1;renderer.render(scene,camera)}())};return prevSimulation?(animate(),createSimulation()):(function initSimulation(){camera.position.z=2750,scene.background=new three__WEBPACK_IMPORTED_MODULE_41__.n(16777215),scene.add(new three__WEBPACK_IMPORTED_MODULE_41__.c(16777215));var light1=new three__WEBPACK_IMPORTED_MODULE_41__.p(65535,.5);light1.position.set(1,1,1),scene.add(light1);var light2=new three__WEBPACK_IMPORTED_MODULE_41__.p(16711935,1.5);light2.position.set(0,-1,0),scene.add(light2),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),container.innerHTML="",container.appendChild(renderer.domElement);var controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_42__.a(camera,renderer.domElement);controls.target.y=.5,controls.update()}(),animate(),createSimulation())},Interactive=function Interactive(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_40___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_40___default.a.useEffect((function(){return simulationRef.current&&simulationRef.current.props.trianglesCount!==props.trianglesCount?(simulationRef.current.stop(),simulationRef.current=demo({prevSimulation:null,props:props})):simulationRef.current=demo({prevSimulation:simulationRef.current,props:props}),function(){simulationRef.current.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)(_common__WEBPACK_IMPORTED_MODULE_43__.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_interactive_buffergeometry.html",storyName:["ThreeJSBufferGeometry","Interactive"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)("b",{children:"New feature"}),": You can click a triangle to remove it from the buffer geometry"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)("div",{id:"example"})]})};Interactive.displayName="Interactive";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_44__.jsx)(Interactive,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMin:100,initialValue:100,step:1}),2),speedArg=_createRangeControl2[0],speedControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_43__.createRangeControl)({diffMax:1e4,diffMin:4999,initialValue:5e3,step:1}),2),trianglesCountArg=_createRangeControl4[0],trianglesCountControls=_createRangeControl4[1],args={speed:speedArg,trianglesCount:trianglesCountArg};Common.args=args,__webpack_exports__.default={argTypes:{speed:speedControls,trianglesCount:trianglesCountControls},component:Interactive,title:"ThreeJS/BufferGeometry/Interactive"}},969:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(21),__webpack_require__(13),__webpack_require__(491),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),three__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(41),_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var demo=function demo(_ref){var _prevSimulation$state,prevSimulation=_ref.prevSimulation,props=_ref.props,state=Object.assign({time:0},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,elements=function(){if(prevSimulation)return prevSimulation.elements;var camera=new three__WEBPACK_IMPORTED_MODULE_15__.db(27,width/500,5,3500),scene=new three__WEBPACK_IMPORTED_MODULE_15__.qb,pointsGeometry=new three__WEBPACK_IMPORTED_MODULE_15__.i,positions=[],colors=[],color=new three__WEBPACK_IMPORTED_MODULE_15__.n,size=props.size,sizeHalf=size/2;Array.from({length:props.particles},(function(){var x=Math.random()*size-sizeHalf,y=Math.random()*size-sizeHalf,z=Math.random()*size-sizeHalf;positions.push(x,y,z);var vx=x/size+.5,vy=y/size+.5,vz=z/size+.5;color.setRGB(vx,vy,vz),colors.push(color.r,color.g,color.b)})),pointsGeometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_15__.v(positions,3)),pointsGeometry.setAttribute("color",new three__WEBPACK_IMPORTED_MODULE_15__.v(colors,3)),pointsGeometry.computeBoundingSphere();var pointsMaterial=new three__WEBPACK_IMPORTED_MODULE_15__.ib({size:15,vertexColors:!0}),points=new three__WEBPACK_IMPORTED_MODULE_15__.hb(pointsGeometry,pointsMaterial),renderer=new three__WEBPACK_IMPORTED_MODULE_15__.Jb;return scene.add(points),{camera:camera,points:points,renderer:renderer,scene:scene}}(),camera=elements.camera,points=elements.points,renderer=elements.renderer,scene=elements.scene,createSimulation=function createSimulation(){return{elements:elements,props:props,state:state,stop:function stop(){state.isStopped=!0}}},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){state.time+=1e-4*props.rotationSpeed,points.rotation.x=.25*state.time,points.rotation.y=.5*state.time,renderer.render(scene,camera)}())};return prevSimulation?(animate(),createSimulation()):(function initSimulation(){scene.background=new three__WEBPACK_IMPORTED_MODULE_15__.n(16777215),camera.position.z=2750,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),container.innerHTML="",container.appendChild(renderer.domElement);var controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_16__.a(camera,renderer.domElement);controls.target.y=.5,controls.update()}(),animate(),createSimulation())},restartProps=["particles","size"],Points=function Points(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_14___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect((function(){var _simulationRef$curren2;restartProps.some((function(restartProp){var _simulationRef$curren;return(null===(_simulationRef$curren=simulationRef.current)||void 0===_simulationRef$curren?void 0:_simulationRef$curren.props[restartProp])!==props[restartProp]}))&&(null===(_simulationRef$curren2=simulationRef.current)||void 0===_simulationRef$curren2||_simulationRef$curren2.stop(),simulationRef.current=null);simulationRef.current=demo({prevSimulation:simulationRef.current,props:props})}),[props]),react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect((function(){return function(){var _simulationRef$curren3;null===(_simulationRef$curren3=simulationRef.current)||void 0===_simulationRef$curren3||_simulationRef$curren3.stop()}}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_common__WEBPACK_IMPORTED_MODULE_17__.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_buffergeometry_points.html",storyName:["ThreeJSBufferGeometry","Points"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{id:"example"})]})};Points.displayName="Points";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(Points,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_17__.createRangeControl)({diffMin:100,initialValue:100,step:1}),2),speedArg=_createRangeControl2[0],speedControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_17__.createRangeControl)({diffMax:1e5,diffMin:499499,initialValue:5e5,step:1}),2),particlesArg=_createRangeControl4[0],particlesControls=_createRangeControl4[1],_createRangeControl6=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_17__.createRangeControl)({diffMax:200,diffMin:799,initialValue:800,step:1}),2),sizeArg=_createRangeControl6[0],sizeControls=_createRangeControl6[1],args={particles:particlesArg,rotationSpeed:speedArg,size:sizeArg};Common.args=args,__webpack_exports__.default={argTypes:{particles:particlesControls,rotationSpeed:speedControls,size:sizeControls},component:Points,title:"ThreeJS/BufferGeometry/Points"}},970:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(21);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),three__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(41),three_examples_jsm_objects_Sky_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(518),three_examples_jsm_objects_Water_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(519),_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5),_waternormals_jpg__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(349),_waternormals_jpg__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_waternormals_jpg__WEBPACK_IMPORTED_MODULE_19__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var createDemo=function createDemo(_ref2){var _prevSimulation$state,prevSimulation=_ref2.prevSimulation,props=_ref2.props,state=Object.assign({timePassed:0},null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state)&&void 0!==_prevSimulation$state?_prevSimulation$state:{},{isStopped:!1}),container=document.getElementById("example"),width=container.getBoundingClientRect().width,elements=function(){if(prevSimulation)return prevSimulation.elements;var scene=new three__WEBPACK_IMPORTED_MODULE_14__.qb,waterGeometry=new three__WEBPACK_IMPORTED_MODULE_14__.fb(1e4,1e4),water=new three_examples_jsm_objects_Water_js__WEBPACK_IMPORTED_MODULE_17__.a(waterGeometry,{distortionScale:3.7,sunColor:16777215,sunDirection:new three__WEBPACK_IMPORTED_MODULE_14__.Gb,textureHeight:512,textureWidth:512,waterColor:7695,waterNormals:(new three__WEBPACK_IMPORTED_MODULE_14__.Ab).load(_waternormals_jpg__WEBPACK_IMPORTED_MODULE_19___default.a,(function(texture){texture.wrapS=three__WEBPACK_IMPORTED_MODULE_14__.pb,texture.wrapT=three__WEBPACK_IMPORTED_MODULE_14__.pb}))}),sun=new three__WEBPACK_IMPORTED_MODULE_14__.Gb;scene.add(water);var sky=new three_examples_jsm_objects_Sky_js__WEBPACK_IMPORTED_MODULE_16__.a;sky.scale.setScalar(1e4),scene.add(sky);var boxGeometry=new three__WEBPACK_IMPORTED_MODULE_14__.f(30,30,30),boxMaterial=new three__WEBPACK_IMPORTED_MODULE_14__.W({roughness:0}),boxMesh=new three__WEBPACK_IMPORTED_MODULE_14__.P(boxGeometry,boxMaterial);return scene.add(boxMesh),{boxMesh:boxMesh,camera:new three__WEBPACK_IMPORTED_MODULE_14__.db(55,width/500,1,2e4),renderer:new three__WEBPACK_IMPORTED_MODULE_14__.Jb,scene:scene,sky:sky,sun:sun,water:water}}(),boxMesh=elements.boxMesh,camera=elements.camera,renderer=elements.renderer,scene=elements.scene,sky=elements.sky,sun=elements.sun,water=elements.water,onWindowResize=function onWindowResize(){camera.aspect=width/500,camera.updateProjectionMatrix(),renderer.setSize(width,500)};window.addEventListener("resize",onWindowResize);var createSimulation=function createSimulation(){return{elements:elements,props:props,state:state,stop:function stop(){window.removeEventListener("resize",onWindowResize),state.isStopped=!0}}},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),function render(){state.timePassed+=props.speed/1e4,boxMesh.position.y=25*Math.sin(state.timePassed)+5,boxMesh.rotation.x=.5*state.timePassed,boxMesh.rotation.z=.51*state.timePassed,water.material.uniforms.time.value+=1/60,renderer.render(scene,camera)}())};if(prevSimulation)return animate(),createSimulation();return function setupNewSimulation(){container.innerHTML="",renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),renderer.toneMapping=three__WEBPACK_IMPORTED_MODULE_14__.a,container.appendChild(renderer.domElement),camera.position.set(30,30,100),water.rotation.x=-Math.PI/2;var skyUniforms=sky.material.uniforms;skyUniforms.turbidity.value=10,skyUniforms.rayleigh.value=2,skyUniforms.mieCoefficient.value=.005,skyUniforms.mieDirectionalG.value=.8;var pmremGenerator=new three__WEBPACK_IMPORTED_MODULE_14__.bb(renderer);!function updateSun(){var parameters_azimuth=180,parameters_elevation=2,phi=three__WEBPACK_IMPORTED_MODULE_14__.M.degToRad(90-parameters_elevation),theta=three__WEBPACK_IMPORTED_MODULE_14__.M.degToRad(parameters_azimuth);sun.setFromSphericalCoords(1,phi,theta),sky.material.uniforms.sunPosition.value.copy(sun),water.material.uniforms.sunDirection.value.copy(sun).normalize(),scene.environment=pmremGenerator.fromScene(sky).texture}(),function createControls(_ref){var camera=_ref.camera,renderer=_ref.renderer,controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_15__.a(camera,renderer.domElement);controls.maxPolarAngle=.495*Math.PI,controls.target.set(0,10,0),controls.minDistance=40,controls.maxDistance=200,controls.update()}({camera:camera,renderer:renderer})}(),animate(),createSimulation()},ThreeJSCubeWater=function ThreeJSCubeWater(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_13___default.a.useRef(null),_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(!1),2),isReadyToRender=_React$useState2[0],setIsReadyToRender=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_13___default.a.useEffect((function(){var onFinish=function onFinish(){setIsReadyToRender(!0)},img=document.createElement("img");img.src=_waternormals_jpg__WEBPACK_IMPORTED_MODULE_19___default.a,img.onload=onFinish,img.onerror=onFinish}),[]),react__WEBPACK_IMPORTED_MODULE_13___default.a.useEffect((function(){return isReadyToRender?(simulationRef.current=createDemo({prevSimulation:simulationRef.current,props:props}),function(){simulationRef.current&&simulationRef.current.stop()}):function(){}}),[props,isReadyToRender]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_common__WEBPACK_IMPORTED_MODULE_18__.StoryInfo,{docs:[],source:"https://github.com/mrdoob/three.js/blob/dev/examples/webgl_shaders_ocean.html",sourceText:"Source (official example, ported to TS)",storyName:"ThreeJSCubeWater"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{id:"example"})]})};ThreeJSCubeWater.displayName="ThreeJSCubeWater";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(ThreeJSCubeWater,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_18__.createRangeControl)({diffMin:100,initialValue:100,step:1}),2),speedArgs=_createRangeControl2[0],speedControls=_createRangeControl2[1],args={speed:speedArgs};Common.args=args,__webpack_exports__.default={argTypes:{speed:speedControls},component:ThreeJSCubeWater,title:"ThreeJS/Cube Water"}},976:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(121),__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__),three__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(41),three_examples_jsm_loaders_OBJLoader_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(520),three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(265),three_examples_jsm_postprocessing_OutlinePass_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(521),three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(264),three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(124),three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(522),_common__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var getContainer=function getContainer(){return document.getElementById("example")},Simulation=function(){function Simulation(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Simulation),this.state=void 0,this.elements=void 0,this.dimensions=void 0,this.props=void 0,this.selectedObjects=void 0,this.state={rafId:null},this.props=props;var container=getContainer(),width=container.getBoundingClientRect().width;this.dimensions={height:500,width:width},document.body.appendChild(container);var camera=new three__WEBPACK_IMPORTED_MODULE_17__.db(45,width/500,.1,100),renderer=new three__WEBPACK_IMPORTED_MODULE_17__.Jb,scene=new three__WEBPACK_IMPORTED_MODULE_17__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_17__.n(16777215),scene.add(new three__WEBPACK_IMPORTED_MODULE_17__.c(11184810,.2));var light=new three__WEBPACK_IMPORTED_MODULE_17__.p(14548957,.6);light.position.set(1,1,1),light.castShadow=!0,light.shadow.mapSize.width=1024,light.shadow.mapSize.height=1024;light.shadow.camera.left=-10,light.shadow.camera.right=10,light.shadow.camera.top=10,light.shadow.camera.bottom=-10,light.shadow.camera.far=1e3,scene.add(light),renderer.shadowMap.enabled=!0,renderer.setSize(width,500),container.appendChild(renderer.domElement),camera.position.set(0,0,8);var controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_18__.a(camera,renderer.domElement);controls.minDistance=5,controls.maxDistance=20,controls.enablePan=!1,controls.enableDamping=!0,controls.dampingFactor=.05;var raycaster=new three__WEBPACK_IMPORTED_MODULE_17__.ob,mouse=new three__WEBPACK_IMPORTED_MODULE_17__.Fb,obj3d=new three__WEBPACK_IMPORTED_MODULE_17__.Z,group=new three__WEBPACK_IMPORTED_MODULE_17__.y,composer=new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_20__.a(renderer);scene.add(group),group.add(obj3d),this.selectedObjects=[];var outlinePass=new three_examples_jsm_postprocessing_OutlinePass_js__WEBPACK_IMPORTED_MODULE_21__.a(new three__WEBPACK_IMPORTED_MODULE_17__.Fb(width,500),scene,camera);this.elements={camera:camera,composer:composer,controls:controls,group:group,mouse:mouse,obj3d:obj3d,outlinePass:outlinePass,raycaster:raycaster,renderer:renderer,scene:scene},this.init(),this.animate()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Simulation,[{key:"stop",value:function stop(){this.clearRafId()}},{key:"restart",value:function restart(props){this.clearRafId(),this.props=props,this.updateOutlinePass(),this.animate()}},{key:"clearRafId",value:function clearRafId(){var rafId=this.state.rafId;null!==rafId&&(cancelAnimationFrame(rafId),this.state.rafId=null)}},{key:"animate",value:function animate(){var _this=this;this.state.rafId=requestAnimationFrame((function(){_this.animate()}));var _this$elements=this.elements,composer=_this$elements.composer,controls=_this$elements.controls,group=_this$elements.group,timer=performance.now();this.props.rotate&&(group.rotation.y=1e-4*timer),controls.update(),composer.render()}},{key:"updateOutlinePass",value:function updateOutlinePass(){var outlinePass=this.elements.outlinePass;outlinePass.edgeStrength=this.props.edgeStrength,outlinePass.edgeGlow=this.props.edgeGlow,outlinePass.edgeThickness=this.props.edgeThickness,outlinePass.usePatternTexture=this.props.usePatternTexture,outlinePass.pulsePeriod=this.props.pulsePeriod}},{key:"init",value:function init(){var _this2=this,loadingManager=new three__WEBPACK_IMPORTED_MODULE_17__.J,_this$elements2=this.elements,camera=_this$elements2.camera,composer=_this$elements2.composer,group=_this$elements2.group,mouse=_this$elements2.mouse,obj3d=_this$elements2.obj3d,outlinePass=_this$elements2.outlinePass,raycaster=_this$elements2.raycaster,renderer=_this$elements2.renderer,scene=_this$elements2.scene;new three_examples_jsm_loaders_OBJLoader_js__WEBPACK_IMPORTED_MODULE_19__.a(loadingManager).load("models/tree.obj",(function(object){var scale=1;object.traverse((function(child){if(child instanceof three__WEBPACK_IMPORTED_MODULE_17__.P){child.geometry.center(),child.geometry.computeBoundingSphere(),scale=.2*child.geometry.boundingSphere.radius;var phongMaterial=new three__WEBPACK_IMPORTED_MODULE_17__.U({color:16777215,shininess:5,specular:1118481});child.material=phongMaterial,child.receiveShadow=!0,child.castShadow=!0}})),object.position.y=1,object.scale.divideScalar(scale),obj3d.add(object)}));var sphereGeometry=new three__WEBPACK_IMPORTED_MODULE_17__.xb(3,48,24);Array.from({length:20}).forEach((function(){var sphereMaterial=new three__WEBPACK_IMPORTED_MODULE_17__.S;sphereMaterial.color.setHSL(Math.random(),1,.3);var sphereMesh=new three__WEBPACK_IMPORTED_MODULE_17__.P(sphereGeometry,sphereMaterial);sphereMesh.position.x=8*Math.random()*(Math.random()>.5?1:-1)-2,sphereMesh.position.y=5*Math.random()-1,sphereMesh.position.z=8*Math.random()*(Math.random()>.5?1:-1)-2,sphereMesh.receiveShadow=!0,sphereMesh.castShadow=!0,sphereMesh.scale.multiplyScalar(.3*Math.random()+.1),group.add(sphereMesh)}));var floorMaterial=new three__WEBPACK_IMPORTED_MODULE_17__.S({color:65280,side:three__WEBPACK_IMPORTED_MODULE_17__.q}),floorGeometry=new three__WEBPACK_IMPORTED_MODULE_17__.fb(50,50),floorMesh=new three__WEBPACK_IMPORTED_MODULE_17__.P(floorGeometry,floorMaterial);floorMesh.rotation.x-=.5*Math.PI,floorMesh.position.y-=1.5,floorMesh.receiveShadow=!0,group.add(floorMesh);var torusGeometry=new three__WEBPACK_IMPORTED_MODULE_17__.Bb(1,.3,16,100),torusMaterial=new three__WEBPACK_IMPORTED_MODULE_17__.U({color:16755455}),torus=new three__WEBPACK_IMPORTED_MODULE_17__.P(torusGeometry,torusMaterial);torus.position.z=-4,group.add(torus),torus.receiveShadow=!0,torus.castShadow=!0;var renderPass=new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_22__.a(scene,camera);composer.addPass(renderPass),this.updateOutlinePass(),composer.addPass(outlinePass),(new three__WEBPACK_IMPORTED_MODULE_17__.Ab).load("textures/tri_pattern.jpg",(function(texture){outlinePass.patternTexture=texture,texture.wrapS=three__WEBPACK_IMPORTED_MODULE_17__.pb,texture.wrapT=three__WEBPACK_IMPORTED_MODULE_17__.pb}));var effectFXAA=new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_23__.a(three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_24__.a),_this$dimensions=this.dimensions,height=_this$dimensions.height,width=_this$dimensions.width;effectFXAA.uniforms.resolution.value.set(1/width,1/height),composer.addPass(effectFXAA);renderer.domElement.style.touchAction="none",renderer.domElement.addEventListener("pointermove",(function onPointerMove(pointerEvent){if(pointerEvent.isPrimary){var _getContainer$getBoun=getContainer().getBoundingClientRect(),left=_getContainer$getBoun.left,top=_getContainer$getBoun.top;mouse.x=(pointerEvent.clientX-left)/width*2-1,mouse.y=-(pointerEvent.clientY-top)/height*2+1,function checkIntersection(){raycaster.setFromCamera(mouse,camera);var intersects=raycaster.intersectObject(scene,!0);if(intersects.length>0){var selectedObject=_slicedToArray(intersects,1)[0].object;_this2.selectedObjects=[selectedObject]}else _this2.selectedObjects=[];outlinePass.selectedObjects=_this2.selectedObjects}()}}))}}]),Simulation}(),Outline=function Outline(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_16___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_16___default.a.useEffect((function(){return simulationRef.current?simulationRef.current.restart(props):simulationRef.current=new Simulation(props),function(){simulationRef.current.stop()}}),[props]),react__WEBPACK_IMPORTED_MODULE_16___default.a.useEffect((function(){return function(){getContainer().innerHTML=""}}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_common__WEBPACK_IMPORTED_MODULE_25__.StoryInfo,{docs:[{link:"https://blog.codinghorror.com/fast-approximate-anti-aliasing-fxaa/",name:"FXAA Shader"},{link:"https://threejs.org/docs/#examples/en/postprocessing/EffectComposer",name:"EffectComposer"}],source:["https://github.com/mrdoob/three.js/blob/dev/examples/webgl_postprocessing_outline.html","https://threejs.org/examples/#webgl_postprocessing_outline"],storyName:["ThreeJSPostprocessing","Outline"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("div",{id:"example"})]})};Outline.displayName="Outline";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(Outline,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_25__.createRangeControl)({diffMax:5,diffMin:2,initialValue:3,step:1}),2),edgeStrengthArg=_createRangeControl2[0],edgeStrengthControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_25__.createRangeControl)({diffMax:5,diffMin:0,initialValue:0,step:1}),2),edgeGlowArg=_createRangeControl4[0],edgeGlowControls=_createRangeControl4[1],_createRangeControl6=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_25__.createRangeControl)({diffMax:5,diffMin:1,initialValue:1,step:.1}),2),edgeThicknessArg=_createRangeControl6[0],edgeThicknessControls=_createRangeControl6[1],_createRangeControl8=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_25__.createRangeControl)({diffMax:5,diffMin:0,initialValue:0,step:1}),2),pulsePeriodArg=_createRangeControl8[0],pulsePeriodControls=_createRangeControl8[1],args={edgeGlow:edgeGlowArg,edgeStrength:edgeStrengthArg,edgeThickness:edgeThicknessArg,pulsePeriod:pulsePeriodArg,rotate:!1,usePatternTexture:!1};Common.args=args,__webpack_exports__.default={argTypes:{edgeGlow:edgeGlowControls,edgeStrength:edgeStrengthControls,edgeThickness:edgeThicknessControls,pulsePeriod:pulsePeriodControls},component:Outline,title:"ThreeJS/Postprocessing/Outline"}},977:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(121),__webpack_require__(12),__webpack_require__(50);var SobelColor,react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),three__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41),three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(265),three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(264),three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(124),three_examples_jsm_shaders_LuminosityShader_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(523),_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}!function(SobelColor){SobelColor.Inverse="inverse",SobelColor.Same="Same"}(SobelColor||(SobelColor={}));var getContainer=function getContainer(){return document.getElementById("example")},Simulation=function(){function Simulation(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Simulation),this.state=void 0,this.elements=void 0,this.dimensions=void 0,this.props=void 0,this.state={rafId:null};var width=getContainer().getBoundingClientRect().width;this.dimensions={height:500,width:width},this.props=props;var scene=new three__WEBPACK_IMPORTED_MODULE_4__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_4__.n(16777215);var camera=new three__WEBPACK_IMPORTED_MODULE_4__.db(70,width/500,.1,200),renderer=new three__WEBPACK_IMPORTED_MODULE_4__.Jb;renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500);var composer=new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_6__.a(renderer),controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_5__.a(camera,renderer.domElement);this.elements={camera:camera,composer:composer,controls:controls,renderer:renderer,scene:scene},this.init(),this.animate()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Simulation,[{key:"stop",value:function stop(){this.clearRafId()}},{key:"restart",value:function restart(props){this.clearRafId(),this.props=props;var composer=this.elements.composer,currentSobelEffect=composer.passes[composer.passes.length-1];composer.removePass(currentSobelEffect),this.addSobelEffect(),this.animate()}},{key:"clearRafId",value:function clearRafId(){var rafId=this.state.rafId;null!==rafId&&(cancelAnimationFrame(rafId),this.state.rafId=null)}},{key:"animate",value:function animate(){var _this=this;this.state.rafId=requestAnimationFrame((function(){_this.animate()}));var _this$elements=this.elements,camera=_this$elements.camera,composer=_this$elements.composer,renderer=_this$elements.renderer,scene=_this$elements.scene;this.props.enable?composer.render():renderer.render(scene,camera)}},{key:"init",value:function init(){var _this$elements2=this.elements,camera=_this$elements2.camera,composer=_this$elements2.composer,controls=_this$elements2.controls,renderer=_this$elements2.renderer,scene=_this$elements2.scene;camera.position.set(0,10,25),camera.lookAt(scene.position);var torusGeometry=new three__WEBPACK_IMPORTED_MODULE_4__.Cb(8,3,256,32,2,3),phongMaterial=new three__WEBPACK_IMPORTED_MODULE_4__.U({color:16777215}),torusMesh=new three__WEBPACK_IMPORTED_MODULE_4__.P(torusGeometry,phongMaterial);scene.add(torusMesh);var ambientLight=new three__WEBPACK_IMPORTED_MODULE_4__.c(13421772,.4),pointLight=new three__WEBPACK_IMPORTED_MODULE_4__.gb(16777215,.8);camera.add(pointLight),scene.add(ambientLight),scene.add(camera);var container=getContainer();container.innerHTML="",container.appendChild(renderer.domElement);var renderPass=new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_7__.a(scene,camera);composer.addPass(renderPass);var effectGrayScale=new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_8__.a(three_examples_jsm_shaders_LuminosityShader_js__WEBPACK_IMPORTED_MODULE_9__.a);composer.addPass(effectGrayScale),this.addSobelEffect(),controls.minDistance=10,controls.maxDistance=100}},{key:"addSobelEffect",value:function addSobelEffect(){var _this$dimensions=this.dimensions,height=_this$dimensions.height,width=_this$dimensions.width,composer=this.elements.composer,SobelOperatorShader=function createSobelShader(color){return{fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform vec2 resolution;\n    varying vec2 vUv;\n\n    void main() {\n      vec2 texel = vec2( 1.0 / resolution.x, 1.0 / resolution.y );\n\n      // kernel definition (in glsl matrices are filled in column-major order)\n      const mat3 Gx = mat3(\n        -1, -2, -1,\n        0, 0, 0,\n        1, 2, "+(color===SobelColor.Same?-1:1)+"\n      ); // x direction kernel\n      const mat3 Gy = mat3(\n        -1, 0, 1,\n        -2, 0, 2,\n        -1, 0, 1\n      ); // y direction kernel\n\n      // fetch the 3x3 neighbourhood of a fragment\n\n      // first column\n      float tx0y0 = texture2D( tDiffuse, vUv + texel * vec2( -1, -1 ) ).r;\n      float tx0y1 = texture2D( tDiffuse, vUv + texel * vec2( -1,  0 ) ).r;\n      float tx0y2 = texture2D( tDiffuse, vUv + texel * vec2( -1,  1 ) ).r;\n\n      // second column\n      float tx1y0 = texture2D( tDiffuse, vUv + texel * vec2(  0, -1 ) ).r;\n      float tx1y1 = texture2D( tDiffuse, vUv + texel * vec2(  0,  0 ) ).r;\n      float tx1y2 = texture2D( tDiffuse, vUv + texel * vec2(  0,  1 ) ).r;\n\n      // third column\n      float tx2y0 = texture2D( tDiffuse, vUv + texel * vec2(  1, -1 ) ).r;\n      float tx2y1 = texture2D( tDiffuse, vUv + texel * vec2(  1,  0 ) ).r;\n      float tx2y2 = texture2D( tDiffuse, vUv + texel * vec2(  1,  1 ) ).r;\n\n      // gradient value in x direction\n      float valueGx = Gx[0][0] * tx0y0 + Gx[1][0] * tx1y0 + Gx[2][0] * tx2y0 +\n        Gx[0][1] * tx0y1 + Gx[1][1] * tx1y1 + Gx[2][1] * tx2y1 +\n        Gx[0][2] * tx0y2 + Gx[1][2] * tx1y2 + Gx[2][2] * tx2y2;\n\n      // gradient value in y direction\n      float valueGy = Gy[0][0] * tx0y0 + Gy[1][0] * tx1y0 + Gy[2][0] * tx2y0 +\n        Gy[0][1] * tx0y1 + Gy[1][1] * tx1y1 + Gy[2][1] * tx2y1 +\n        Gy[0][2] * tx0y2 + Gy[1][2] * tx1y2 + Gy[2][2] * tx2y2;\n\n      // magnitute of the total gradient\n      float G = sqrt( ( valueGx * valueGx ) + ( valueGy * valueGy ) );\n\n      gl_FragColor = vec4( vec3( G ), 1.0 );\n    }",uniforms:{resolution:{value:new three__WEBPACK_IMPORTED_MODULE_4__.Fb},tDiffuse:{value:null}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n      vUv = uv;\n\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }"}}(this.props.inverseColor?SobelColor.Inverse:SobelColor.Same),effectSobel=new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_8__.a(SobelOperatorShader);effectSobel.uniforms.resolution.value.x=width*window.devicePixelRatio,effectSobel.uniforms.resolution.value.y=height*window.devicePixelRatio,composer.addPass(effectSobel)}}]),Simulation}(),Sobel=function Sobel(props){var simulationRef=react__WEBPACK_IMPORTED_MODULE_3___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_3___default.a.useEffect((function(){return simulationRef.current?simulationRef.current.restart(props):simulationRef.current=new Simulation(props),function(){simulationRef.current.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_common__WEBPACK_IMPORTED_MODULE_10__.StoryInfo,{docs:[],source:["https://github.com/mrdoob/three.js/blob/dev/examples/webgl_postprocessing_sobel.html","https://threejs.org/examples/#webgl_postprocessing_sobel"],storyName:["ThreeJSPostprocessing","Sobel"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("p",{children:"Added the same color case by updating the fragment shader matrix"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("div",{id:"example"})]})};Sobel.displayName="Sobel";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(Sobel,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({});Common.args={enable:!1,inverseColor:!0},__webpack_exports__.default={argTypes:{},component:Sobel,title:"ThreeJS/Postprocessing/Sobel"}},978:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(484),__webpack_require__(485),__webpack_require__(120),__webpack_require__(61),__webpack_require__(31),__webpack_require__(8),__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(21);var d3__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(39),react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__),three__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1),three_examples_fonts_gentilis_regular_typeface_json__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(343),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(41),three_examples_jsm_geometries_TextGeometry__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(122),three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(98),_common__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var speedScale=Object(d3__WEBPACK_IMPORTED_MODULE_18__.b)().exponent(3).domain([0,100]).range([0,2e4]),animate=function animate(simulation){simulation.state.isStopped||(requestAnimationFrame((function(){return animate(simulation)})),simulation.state.currentTime+=speedScale(simulation.props.lightPointSpeed)/1e6,function render(simulation){var camera=simulation.camera,particleLight=simulation.particleLight,automaticCamera=simulation.props.automaticCamera,renderer=simulation.renderer,scene=simulation.scene;if(automaticCamera){var timer=25e-5*Date.now();camera.position.x=800*Math.cos(timer),camera.position.z=800*Math.sin(timer),camera.lookAt(scene.position)}var currentTime=simulation.state.currentTime;particleLight.position.x=300*Math.sin(7*currentTime),particleLight.position.y=400*Math.cos(5*currentTime),particleLight.position.z=300*Math.cos(3*currentTime),renderer.render(scene,camera)}(simulation))},font=new three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_24__.a(three_examples_fonts_gentilis_regular_typeface_json__WEBPACK_IMPORTED_MODULE_21__),ThreeJSReflectiveSpheres=function ThreeJSReflectiveSpheres(props){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_19___default.a.useState(null),2),prevSimulation=_React$useState2[0],setPrevSimulation=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_19___default.a.useEffect((function(){var newSimulation=function createDemo(_ref){var _prevSimulation$rende,_prevSimulation$camer,_prevSimulation$scene,_prevSimulation$spher,_prevSimulation$state,_prevSimulation$state2,_prevSimulation$parti,prevSimulation=_ref.prevSimulation,props=_ref.props,container=document.getElementById("example"),containerRect=container.getBoundingClientRect(),width=containerRect.width,renderer=null!==(_prevSimulation$rende=null==prevSimulation?void 0:prevSimulation.renderer)&&void 0!==_prevSimulation$rende?_prevSimulation$rende:new three__WEBPACK_IMPORTED_MODULE_20__.Jb({antialias:!0}),camera=null!==(_prevSimulation$camer=null==prevSimulation?void 0:prevSimulation.camera)&&void 0!==_prevSimulation$camer?_prevSimulation$camer:new three__WEBPACK_IMPORTED_MODULE_20__.db(40,width/600,1,2500),scene=null!==(_prevSimulation$scene=null==prevSimulation?void 0:prevSimulation.scene)&&void 0!==_prevSimulation$scene?_prevSimulation$scene:new three__WEBPACK_IMPORTED_MODULE_20__.qb,spheresList=null!==(_prevSimulation$spher=null==prevSimulation?void 0:prevSimulation.spheresList)&&void 0!==_prevSimulation$spher?_prevSimulation$spher:[],mouse=new three__WEBPACK_IMPORTED_MODULE_20__.Fb,state={currentTime:null!==(_prevSimulation$state=null==prevSimulation?void 0:prevSimulation.state.currentTime)&&void 0!==_prevSimulation$state?_prevSimulation$state:0,isStopped:!1,selectedSphereUuid:null!==(_prevSimulation$state2=null==prevSimulation?void 0:prevSimulation.state.selectedSphereUuid)&&void 0!==_prevSimulation$state2?_prevSimulation$state2:""},onClick=function onClick(clickEvent){clickEvent.preventDefault(),mouse.x=(clickEvent.clientX-containerRect.left)/renderer.domElement.clientWidth*2-1,mouse.y=-(clickEvent.clientY-containerRect.top)/renderer.domElement.clientHeight*2+1;var raycaster=new three__WEBPACK_IMPORTED_MODULE_20__.ob;raycaster.setFromCamera(mouse,camera);var intersects=raycaster.intersectObjects(scene.children);if(intersects.length){var clickedSphere=spheresList.find((function(s){return s.uuid===intersects[0].object.uuid}));clickedSphere&&(clickedSphere.uuid===state.selectedSphereUuid?(spheresList.forEach((function(sphere){sphere.uuid!==clickedSphere.uuid&&scene.add(sphere)})),state.selectedSphereUuid=""):(spheresList.forEach((function(sphere){sphere.uuid!==clickedSphere.uuid&&scene.remove(sphere)})),state.selectedSphereUuid=clickedSphere.uuid))}},particleLight=null!==(_prevSimulation$parti=null==prevSimulation?void 0:prevSimulation.particleLight)&&void 0!==_prevSimulation$parti?_prevSimulation$parti:new three__WEBPACK_IMPORTED_MODULE_20__.P(new three__WEBPACK_IMPORTED_MODULE_20__.xb(20,8,8),new three__WEBPACK_IMPORTED_MODULE_20__.Q({color:16753920}));container.addEventListener("click",onClick);var createSimulation=function createSimulation(){return{camera:camera,particleLight:particleLight,props:props,renderer:renderer,scene:scene,spheresList:spheresList,state:state,stop:function stop(){container.removeEventListener("click",onClick),state.isStopped=!0}}};if(prevSimulation){var simulation=createSimulation();return animate(simulation),simulation}container.innerHTML="",container.setAttribute("height","600px"),container.setAttribute("width",width+"px"),container.style.border="1px solid black",camera.position.set(0,400,1400),scene.background=new three__WEBPACK_IMPORTED_MODULE_20__.n(16777215);for(var sphereGeometry=new three__WEBPACK_IMPORTED_MODULE_20__.xb(32,32,16),alpha=0;alpha<=1;alpha+=.2)for(var beta=0;beta<=1;beta+=.2)for(var gamma=0;gamma<=1;gamma+=.2){var diffuseColor=(new three__WEBPACK_IMPORTED_MODULE_20__.n).setRGB(alpha,beta,gamma),sphereMaterial=new three__WEBPACK_IMPORTED_MODULE_20__.V({clearcoat:1-alpha,clearcoatRoughness:1-beta,color:diffuseColor,envMap:null,metalness:0,reflectivity:1-gamma,roughness:.5}),sphereMesh=new three__WEBPACK_IMPORTED_MODULE_20__.P(sphereGeometry,sphereMaterial);sphereMesh.position.x=400*alpha-200,sphereMesh.position.y=400*beta-200,sphereMesh.position.z=400*gamma-200,scene.add(sphereMesh),spheresList.push(sphereMesh)}var addLabel=function addLabel(_ref2){var location=_ref2.location,name=_ref2.name,textGeo=new three_examples_jsm_geometries_TextGeometry__WEBPACK_IMPORTED_MODULE_23__.a(name,{curveSegments:1,font:font,height:1,size:40}),textMaterial=new three__WEBPACK_IMPORTED_MODULE_20__.Q({color:0}),textMesh=new three__WEBPACK_IMPORTED_MODULE_20__.P(textGeo,textMaterial);textMesh.position.copy(location),scene.add(textMesh)};addLabel({location:new three__WEBPACK_IMPORTED_MODULE_20__.Gb(-550,0,0),name:"+clearcoat"}),addLabel({location:new three__WEBPACK_IMPORTED_MODULE_20__.Gb(350,0,0),name:"-clearcoat"}),addLabel({location:new three__WEBPACK_IMPORTED_MODULE_20__.Gb(-200,-300,0),name:"+clearcoatRoughness"}),addLabel({location:new three__WEBPACK_IMPORTED_MODULE_20__.Gb(-200,300,0),name:"-clearcoatRoughness"}),addLabel({location:new three__WEBPACK_IMPORTED_MODULE_20__.Gb(-150,0,-300),name:"+reflectivity"}),addLabel({location:new three__WEBPACK_IMPORTED_MODULE_20__.Gb(-150,0,300),name:"-reflectivity"});var directionalLight=new three__WEBPACK_IMPORTED_MODULE_20__.p(16777215,1),pointLight=new three__WEBPACK_IMPORTED_MODULE_20__.gb(16753920,2,800);directionalLight.position.set(1,1,1).normalize(),particleLight.add(pointLight),scene.add(particleLight),scene.add(new three__WEBPACK_IMPORTED_MODULE_20__.c(2236962)),scene.add(directionalLight),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,600),renderer.outputEncoding=three__WEBPACK_IMPORTED_MODULE_20__.Kb,renderer.toneMapping=three__WEBPACK_IMPORTED_MODULE_20__.a,renderer.toneMappingExposure=.75,renderer.setClearColor(16777215,0);var controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_22__.a(camera,renderer.domElement);controls.minDistance=200,controls.maxDistance=2e3,container.appendChild(renderer.domElement);var newSimulation=createSimulation();return animate(newSimulation),newSimulation}({prevSimulation:prevSimulation,props:props});return setPrevSimulation(newSimulation),function(){newSimulation.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_common__WEBPACK_IMPORTED_MODULE_25__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_25__.threeDocs.meshPhysicalMaterial],source:"https://github.com/mrdoob/three.js/blob/dev/examples/webgl_materials_variations_physical.html",storyName:"ThreeJSReflectiveSpheres"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("p",{children:"You can click on a sphere to select it and hide the rest. This functionality is new and not present in the example."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("div",{id:"example"})]})};ThreeJSReflectiveSpheres.displayName="ThreeJSReflectiveSpheres";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(ThreeJSReflectiveSpheres,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_25__.createRangeControl)({diffMin:50,initialValue:50,step:1}),2),lightPointSpeedArg=_createRangeControl2[0],lightPointSpeedControls=_createRangeControl2[1],args={automaticCamera:!1,lightPointSpeed:lightPointSpeedArg};Common.args=args,__webpack_exports__.default={argTypes:{lightPointSpeed:lightPointSpeedControls},component:ThreeJSReflectiveSpheres,title:"ThreeJS/Reflective Spheres"}},979:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(121),__webpack_require__(12);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),three__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),three_examples_jsm_geometries_TextGeometry__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(122),three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(98),_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Simulation=function(){function Simulation(props){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Simulation),this.props=void 0,this.elements=void 0,this.state={currentTime:0,font:null,isStopped:!1,textMeshId:""},this.props=props;var container=document.getElementById("example"),width=container.getBoundingClientRect().width,fontLoader=new three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_6__.b,scene=new three__WEBPACK_IMPORTED_MODULE_3__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_3__.n(16777215);var camera=new three__WEBPACK_IMPORTED_MODULE_3__.db(30,width/500,1,3e3);camera.position.set(100,100,1500);var renderer=new three__WEBPACK_IMPORTED_MODULE_3__.Jb({antialias:!0});renderer.setSize(width,500),renderer.render(scene,camera),container.innerHTML="",container.appendChild(renderer.domElement);var controls=new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__.a(camera,renderer.domElement),pointLightGreen=new three__WEBPACK_IMPORTED_MODULE_3__.gb(65280,3),pointLightBlue=new three__WEBPACK_IMPORTED_MODULE_3__.gb(255,3);pointLightGreen.position.set(10,10,9),pointLightBlue.position.set(10,10,9);var sphereGeometry=new three__WEBPACK_IMPORTED_MODULE_3__.xb(10,8,8),particleLightGreen=new three__WEBPACK_IMPORTED_MODULE_3__.P(sphereGeometry,new three__WEBPACK_IMPORTED_MODULE_3__.Q({color:65280})),particleLightBlue=new three__WEBPACK_IMPORTED_MODULE_3__.P(sphereGeometry,new three__WEBPACK_IMPORTED_MODULE_3__.Q({color:255}));particleLightGreen.add(pointLightGreen),particleLightBlue.add(pointLightBlue),scene.add(particleLightGreen),scene.add(particleLightBlue),controls.enablePan=!1,controls.enableDamping=!0,controls.dampingFactor=.05,this.elements={camera:camera,controls:controls,particleLightBlue:particleLightBlue,particleLightGreen:particleLightGreen,renderer:renderer,scene:scene},fontLoader.load("fonts/yahei.json",(function(font){_this.state.font=font,_this.renderText()})),this.animate()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Simulation,[{key:"refresh",value:function refresh(newProps){this.props=newProps,this.renderText()}},{key:"stop",value:function stop(){this.state.isStopped=!0}},{key:"renderText",value:function renderText(){var scene=this.elements.scene,_this$state=this.state,font=_this$state.font,textMeshId=_this$state.textMeshId;if(font){var loadingEl=document.getElementById("loading!");null==loadingEl||loadingEl.remove();var textGeo=new three_examples_jsm_geometries_TextGeometry__WEBPACK_IMPORTED_MODULE_5__.a(this.props.text,{font:font,height:5,size:80});if(textMeshId){var object=scene.getObjectByProperty("uuid",textMeshId);object.geometry.dispose(),object.material.dispose(),scene.remove(object)}var color=new three__WEBPACK_IMPORTED_MODULE_3__.n(7829367),textMaterial=new three__WEBPACK_IMPORTED_MODULE_3__.U({color:color}),text=new three__WEBPACK_IMPORTED_MODULE_3__.P(textGeo,textMaterial);text.position.x=-400,text.position.y=200,this.state.textMeshId=text.uuid,scene.add(text)}}},{key:"animate",value:function animate(){var _this2=this;if(!this.state.isStopped){requestAnimationFrame((function(){_this2.animate()}));var _this$elements=this.elements,camera=_this$elements.camera,controls=_this$elements.controls,particleLightBlue=_this$elements.particleLightBlue,particleLightGreen=_this$elements.particleLightGreen,renderer=_this$elements.renderer,scene=_this$elements.scene;this.state.currentTime+=.005;var currentTime=this.state.currentTime;particleLightGreen.position.x=200*Math.sin(7*currentTime),particleLightGreen.position.y=200*Math.cos(5*currentTime),particleLightGreen.position.z=200*Math.cos(3*currentTime),particleLightBlue.position.x=200*Math.cos(9*currentTime),particleLightBlue.position.y=200*Math.sin(7*currentTime),particleLightBlue.position.z=200*Math.sin(5*currentTime),renderer.clear(),renderer.render(scene,camera),controls.update()}}}]),Simulation}(),ThreeJSSpecialChars=function ThreeJSSpecialChars(props){var simulation=react__WEBPACK_IMPORTED_MODULE_2___default.a.useRef(null);return react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect((function(){simulation.current=new Simulation(props)}),[props]),react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect((function(){return function(){var _simulation$current;null===(_simulation$current=simulation.current)||void 0===_simulation$current||_simulation$current.stop()}})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_common__WEBPACK_IMPORTED_MODULE_7__.StoryInfo,{docs:[],source:["https://blog.andrewray.me/creating-a-3d-font-in-three-js/","https://gero3.github.io/facetype.js/"],storyName:"ThreeJSSpecialChars"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("p",{id:"loading!",children:"Loading ..."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("p",{children:"This story shows how to display special fonts by using facetype to support multiple unicode characters"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{id:"example"})]})};ThreeJSSpecialChars.displayName="ThreeJSSpecialChars";var Common=function Common(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(ThreeJSSpecialChars,Object.assign({},props))};Common.displayName="Common";Common.args={text:"\n\n"},__webpack_exports__.default={argTypes:{},component:ThreeJSSpecialChars,title:"ThreeJS/SpecialChars"};try{Common.displayName="Common",Common.__docgenInfo={description:"",displayName:"Common",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/ThreeJSSpecialChars/ThreeJSSpecialChars.stories.tsx#Common"]={docgenInfo:Common.__docgenInfo,name:"Common",path:"stories/ThreeJSSpecialChars/ThreeJSSpecialChars.stories.tsx#Common"})}catch(__react_docgen_typescript_loader_error){}},980:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(981),__webpack_require__(187),__webpack_require__(188),__webpack_require__(189),__webpack_require__(190),__webpack_require__(191),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),__webpack_require__(207),__webpack_require__(208),__webpack_require__(209),__webpack_require__(9),__webpack_require__(14),__webpack_require__(210),__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(982),__webpack_require__(24),__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(17),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var react__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_42___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_42__),three__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(1),three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(41),three_examples_jsm_math_ImprovedNoise__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(524),_common__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var createDemo=function createDemo(_ref5){var previousSimulation=_ref5.previousSimulation,props=_ref5.props,lightLevel=props.lightLevel,mountainHeight=props.mountainHeight,worldDepth=props.worldDepth,worldWidth=props.worldWidth,createTexture=function createTexture(heightData){var texture=new three__WEBPACK_IMPORTED_MODULE_43__.j(function generateTexture(_ref3){var depth=_ref3.depth,heightData=_ref3.heightData,lightLevel=_ref3.lightLevel,width=_ref3.width,shadeVector=new three__WEBPACK_IMPORTED_MODULE_43__.Gb(0,0,0),sun=new three__WEBPACK_IMPORTED_MODULE_43__.Gb(1,1,1);sun.normalize();var canvas=document.createElement("canvas");canvas.width=width,canvas.height=depth;var context=canvas.getContext("2d");context.fillStyle="#000",context.fillRect(0,0,width,depth);for(var image=context.getImageData(0,0,canvas.width,canvas.height),imageData=image.data,rgbIdx=0,heightIndex=0,imageLength=imageData.length;rgbIdx<imageLength;rgbIdx+=4,heightIndex+=1){shadeVector.x=heightData[heightIndex-2]-heightData[heightIndex+2],shadeVector.y=2,shadeVector.z=heightData[heightIndex-2*width]-heightData[heightIndex+2*width],shadeVector.normalize();var shade=shadeVector.dot(sun)*lightLevel/100,red=255*shade,green=255*shade,blue=255*shade;imageData[rgbIdx]=red,imageData[rgbIdx+1]=green,imageData[rgbIdx+2]=blue}context.putImageData(image,0,0);var canvasScaled=document.createElement("canvas");canvasScaled.width=4*width,canvasScaled.height=4*depth;var contextScaled=canvasScaled.getContext("2d");contextScaled.scale(4,4),contextScaled.drawImage(canvas,0,0);var imageScaled=contextScaled.getImageData(0,0,canvasScaled.width,canvasScaled.height),imageDataScaled=imageScaled.data;return Array.from({length:imageDataScaled.length/4}).forEach((function(){for(var _len2=arguments.length,_ref4=new Array(_len2),_key2=0;_key2<_len2;_key2++)_ref4[_key2]=arguments[_key2];var imageIndexBase=_ref4[1],imageAddition=Math.floor(5*Math.random()),imageIndex=4*imageIndexBase;imageDataScaled[imageIndex]+=imageAddition,imageDataScaled[imageIndex+1]+=imageAddition,imageDataScaled[imageIndex+2]+=imageAddition})),contextScaled.putImageData(imageScaled,0,0),canvasScaled}({depth:worldDepth,heightData:heightData,lightLevel:lightLevel,width:worldWidth}));return texture.wrapS=three__WEBPACK_IMPORTED_MODULE_43__.l,texture.wrapT=three__WEBPACK_IMPORTED_MODULE_43__.l,texture};if(previousSimulation){if(["mountainHeight","worldWidth","worldDepth"].every((function(k){return previousSimulation.props[k]===props[k]})))return previousSimulation.terrainMaterial.map=createTexture(previousSimulation.heightData),previousSimulation;previousSimulation.stop()}var worldHalfWidth=worldWidth/2,worldHalfDepth=worldDepth/2,state={isStopped:!1},raycaster=new three__WEBPACK_IMPORTED_MODULE_43__.ob,container=document.getElementById("example");container.innerHTML="";var containerRect=container.getBoundingClientRect(),pointer=new three__WEBPACK_IMPORTED_MODULE_43__.Fb,width=containerRect.width,renderer=new three__WEBPACK_IMPORTED_MODULE_43__.Jb({antialias:!0}),camera=new three__WEBPACK_IMPORTED_MODULE_43__.db(60,width/window.innerHeight,10,2e4),newHeightData=function generateHeight(_ref){var depth=_ref.depth,mountainHeight=_ref.mountainHeight,width=_ref.width,size=width*depth,heightData=new Uint8Array(size),perlin=new three_examples_jsm_math_ImprovedNoise__WEBPACK_IMPORTED_MODULE_45__.a,z=100*Math.random(),quality=1;return Array.from({length:4}).forEach((function(){Array.from({length:size}).forEach((function(){for(var _len=arguments.length,_ref2=new Array(_len),_key=0;_key<_len;_key++)_ref2[_key]=arguments[_key];var cellIndex=_ref2[1],x=cellIndex%width,y=Math.floor(cellIndex/width),noiseResult=perlin.noise(x/quality,y/quality,z);heightData[cellIndex]+=Math.abs(noiseResult*quality*mountainHeight)})),quality*=5})),heightData}({depth:worldDepth,mountainHeight:mountainHeight,width:worldWidth}),terrainMaterial=function createMaterial(){return new three__WEBPACK_IMPORTED_MODULE_43__.Q({map:createTexture(newHeightData),opacity:.8,transparent:!0})}(),terrainGeometry=new three__WEBPACK_IMPORTED_MODULE_43__.fb(7500,7500,worldWidth-1,worldDepth-1),terrainMesh=new three__WEBPACK_IMPORTED_MODULE_43__.P(terrainGeometry,terrainMaterial),geometryHelper=new three__WEBPACK_IMPORTED_MODULE_43__.o(20,100,10);geometryHelper.translate(0,50,0),geometryHelper.rotateX(Math.PI/2);var surfaceCone=new three__WEBPACK_IMPORTED_MODULE_43__.P(geometryHelper,new three__WEBPACK_IMPORTED_MODULE_43__.T),onPointerMove=function onPointerMove(pointerEvent){pointer.x=(pointerEvent.clientX-containerRect.left)/renderer.domElement.clientWidth*2-1,pointer.y=-(pointerEvent.clientY-containerRect.top)/renderer.domElement.clientHeight*2+1,raycaster.setFromCamera(pointer,camera);var intersects=raycaster.intersectObject(terrainMesh);intersects.length>0&&(surfaceCone.position.set(0,0,0),surfaceCone.lookAt(intersects[0].face.normal),surfaceCone.position.copy(intersects[0].point))};renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,400),container.appendChild(renderer.domElement);var scene=new three__WEBPACK_IMPORTED_MODULE_43__.qb;scene.background=new three__WEBPACK_IMPORTED_MODULE_43__.n(16777215);var controls=new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_44__.a(camera,renderer.domElement);controls.minDistance=1e3,controls.maxDistance=1e4,controls.maxPolarAngle=Math.PI/2,controls.target.y=newHeightData[worldHalfWidth+worldHalfDepth*worldWidth]+500,camera.position.y=controls.target.y+2e3,camera.position.x=2e3,controls.update(),terrainGeometry.rotateX(-Math.PI/2);for(var vertices=terrainGeometry.attributes.position.array,heightArrIdx=0,vertexIdx=0,verticesLength=vertices.length;heightArrIdx<verticesLength;heightArrIdx+=1,vertexIdx+=3){vertices[vertexIdx+1]=10*newHeightData[heightArrIdx]}scene.add(terrainMesh),scene.add(surfaceCone);return container.addEventListener("pointermove",onPointerMove),function animate(){state.isStopped||(requestAnimationFrame(animate),renderer.render(scene,camera))}(),{heightData:newHeightData,props:props,stop:function stop(){container.removeEventListener("pointermove",onPointerMove),state.isStopped=!0},terrainMaterial:terrainMaterial}},ThreeJSTerrain=function ThreeJSTerrain(props){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_42___default.a.useState(null),2),previousSimulation=_React$useState2[0],setSimulation=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_42___default.a.useEffect((function(){var newSimulation=createDemo({previousSimulation:previousSimulation,props:props});setSimulation(newSimulation)}),[props]),react__WEBPACK_IMPORTED_MODULE_42___default.a.useEffect((function(){return function(){previousSimulation&&previousSimulation.stop()}}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_47__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_47__.jsx)(_common__WEBPACK_IMPORTED_MODULE_46__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_46__.canvasDocs.getImageData,_common__WEBPACK_IMPORTED_MODULE_46__.threeDocs.canvasTexture,_common__WEBPACK_IMPORTED_MODULE_46__.threeDocs.color,_common__WEBPACK_IMPORTED_MODULE_46__.threeDocs.improveNoiseExample,_common__WEBPACK_IMPORTED_MODULE_46__.threeDocs.vector3,_common__WEBPACK_IMPORTED_MODULE_46__.threeDocs.webGLRenderer],source:"https://github.com/mrdoob/three.js/blob/dev/examples/webgl_geometry_terrain_raycast.html",sourceText:"Source (official example, ported to TS)",storyName:"ThreeJSTerrain"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_47__.jsx)("div",{id:"example"})]})};ThreeJSTerrain.displayName="ThreeJSTerrain";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_47__.jsx)(ThreeJSTerrain,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_46__.createRangeControl)({diffMin:50,initialValue:50,step:1}),2),lightLevelArg=_createRangeControl2[0],lightLevelControl=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_46__.createRangeControl)({diffMax:1.25,diffMin:1.75,initialValue:1.75,step:.05}),2),mountainHeightArg=_createRangeControl4[0],mountainHeightControl=_createRangeControl4[1],_createRangeControl6=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_46__.createRangeControl)({diffMin:100,initialValue:250,step:1}),2),worldWidthArg=_createRangeControl6[0],worldWidthControl=_createRangeControl6[1],_createRangeControl8=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_46__.createRangeControl)({diffMin:100,initialValue:250,step:1}),2),worldDepthArg=_createRangeControl8[0],worldDepthControl=_createRangeControl8[1],args={lightLevel:lightLevelArg,mountainHeight:mountainHeightArg,worldDepth:worldDepthArg,worldWidth:worldWidthArg};Common.args=args,__webpack_exports__.default={argTypes:{lightLevel:lightLevelControl,mountainHeight:mountainHeightControl,worldDepth:worldDepthControl,worldWidth:worldWidthControl},component:ThreeJSTerrain,title:"ThreeJS/Terrain"}},983:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(21),__webpack_require__(12),__webpack_require__(61),__webpack_require__(31),__webpack_require__(50),__webpack_require__(101);var _FontName$DroidSans,_FontName$DroidSerif,_FontName$Gentilis,_FontName$Helvetiker,_FontName$Optimer,_fontsMap,FontWeight,FontName,react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__),three__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1),three_examples_jsm_geometries_TextGeometry__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(122),three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(98),_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(FontWeight){FontWeight.Bold="bold",FontWeight.Regular="regular"}(FontWeight||(FontWeight={})),function(FontName){FontName.DroidSans="droid_sans",FontName.DroidSerif="droid_serif",FontName.Gentilis="gentilis",FontName.Helvetiker="helvetiker",FontName.Optimer="optimer"}(FontName||(FontName={}));var fontsMap=((_fontsMap={})[FontName.DroidSans]=((_FontName$DroidSans={})[FontWeight.Regular]=__webpack_require__(984),_FontName$DroidSans[FontWeight.Bold]=__webpack_require__(985),_FontName$DroidSans),_fontsMap[FontName.DroidSerif]=((_FontName$DroidSerif={})[FontWeight.Regular]=__webpack_require__(986),_FontName$DroidSerif[FontWeight.Bold]=__webpack_require__(987),_FontName$DroidSerif),_fontsMap[FontName.Gentilis]=((_FontName$Gentilis={})[FontWeight.Regular]=__webpack_require__(343),_FontName$Gentilis[FontWeight.Bold]=__webpack_require__(988),_FontName$Gentilis),_fontsMap[FontName.Helvetiker]=((_FontName$Helvetiker={})[FontWeight.Regular]=__webpack_require__(344),_FontName$Helvetiker[FontWeight.Bold]=__webpack_require__(345),_FontName$Helvetiker),_fontsMap[FontName.Optimer]=((_FontName$Optimer={})[FontWeight.Regular]=__webpack_require__(989),_FontName$Optimer[FontWeight.Bold]=__webpack_require__(990),_FontName$Optimer),_fontsMap),materials=[new three__WEBPACK_IMPORTED_MODULE_17__.U({color:16777215,flatShading:!0}),new three__WEBPACK_IMPORTED_MODULE_17__.U({color:16777215})],createDemo=function createDemo(_ref){var _previousSimulation$c,_previousSimulation$r,_previousSimulation$s,_previousSimulation$g,_previousSimulation$c2,_previousSimulation$p,_previousSimulation$d,_previousSimulation$p2,_previousSimulation$m,_previousSimulation$s2,previousSimulation=_ref.previousSimulation,props=_ref.props,container=document.getElementById("example"),width=container.getBoundingClientRect().width,halfWidth=width/2,camera=null!==(_previousSimulation$c=null==previousSimulation?void 0:previousSimulation.camera)&&void 0!==_previousSimulation$c?_previousSimulation$c:new three__WEBPACK_IMPORTED_MODULE_17__.db(30,width/400,1,1500),renderer=null!==(_previousSimulation$r=null==previousSimulation?void 0:previousSimulation.renderer)&&void 0!==_previousSimulation$r?_previousSimulation$r:new three__WEBPACK_IMPORTED_MODULE_17__.Jb({antialias:!0}),scene=null!==(_previousSimulation$s=null==previousSimulation?void 0:previousSimulation.scene)&&void 0!==_previousSimulation$s?_previousSimulation$s:new three__WEBPACK_IMPORTED_MODULE_17__.qb,group=null!==(_previousSimulation$g=null==previousSimulation?void 0:previousSimulation.group)&&void 0!==_previousSimulation$g?_previousSimulation$g:new three__WEBPACK_IMPORTED_MODULE_17__.y,cameraTarget=null!==(_previousSimulation$c2=null==previousSimulation?void 0:previousSimulation.cameraTarget)&&void 0!==_previousSimulation$c2?_previousSimulation$c2:new three__WEBPACK_IMPORTED_MODULE_17__.Gb(0,150,0),plane=null!==(_previousSimulation$p=null==previousSimulation?void 0:previousSimulation.plane)&&void 0!==_previousSimulation$p?_previousSimulation$p:new three__WEBPACK_IMPORTED_MODULE_17__.P(new three__WEBPACK_IMPORTED_MODULE_17__.fb(1e4,1e4),new three__WEBPACK_IMPORTED_MODULE_17__.Q({color:16777215,opacity:.5,transparent:!0})),dirLight=null!==(_previousSimulation$d=null==previousSimulation?void 0:previousSimulation.dirLight)&&void 0!==_previousSimulation$d?_previousSimulation$d:new three__WEBPACK_IMPORTED_MODULE_17__.p(16777215,.125),pointLight=null!==(_previousSimulation$p2=null==previousSimulation?void 0:previousSimulation.pointLight)&&void 0!==_previousSimulation$p2?_previousSimulation$p2:new three__WEBPACK_IMPORTED_MODULE_17__.gb(16777215,1.5),meshItems=null!==(_previousSimulation$m=null==previousSimulation?void 0:previousSimulation.meshItems)&&void 0!==_previousSimulation$m?_previousSimulation$m:[],bevelEnabled=props.bevelEnabled,fontName=props.fontName,fontWeight=props.fontWeight,size=props.size,text=props.text,state=Object.assign({firstLetter:!0,pointerX:0,pointerXOnPointerDown:0,targetRotation:0,targetRotationOnPointerDown:0},null!==(_previousSimulation$s2=null==previousSimulation?void 0:previousSimulation.state)&&void 0!==_previousSimulation$s2?_previousSimulation$s2:{},{isStopped:!1}),onPointerMove=function onPointerMove(pointerEvent){pointerEvent.isPrimary&&(state.pointerX=pointerEvent.clientX-halfWidth,state.targetRotation=state.targetRotationOnPointerDown+.02*(state.pointerX-state.pointerXOnPointerDown))},onPointerUp=function onPointerUp(pointerEvent){pointerEvent.isPrimary&&(document.removeEventListener("pointermove",onPointerMove),document.removeEventListener("pointerup",onPointerUp))},onPointerDown=function onPointerDown(pointerEvent){pointerEvent.isPrimary&&(state.pointerXOnPointerDown=pointerEvent.clientX-halfWidth,state.targetRotationOnPointerDown=state.targetRotation,document.addEventListener("pointermove",onPointerMove),document.addEventListener("pointerup",onPointerUp))},createSimulation=function createSimulation(){return{camera:camera,cameraTarget:cameraTarget,dirLight:dirLight,group:group,meshItems:meshItems,plane:plane,pointLight:pointLight,props:props,renderer:renderer,scene:scene,state:state,stop:function stop(){container.removeEventListener("pointerdown",onPointerDown),state.isStopped=!0}}},addListeners=function addListeners(){container.addEventListener("pointerdown",onPointerDown)},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),group.rotation.y+=.05*(state.targetRotation-group.rotation.y),camera.lookAt(cameraTarget),renderer.clear(),renderer.render(scene,camera))},getFont=function getFont(){var fontsData=fontsMap[fontName][fontWeight];return new three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_19__.a(fontsData)},refreshText=function refreshText(){meshItems.forEach((function(meshItem){group.remove(meshItem)})),meshItems.length=0,text&&function createText(){var textGeo=new three_examples_jsm_geometries_TextGeometry__WEBPACK_IMPORTED_MODULE_18__.a(text,{bevelEnabled:bevelEnabled,bevelSize:1.5,bevelThickness:2,curveSegments:4,font:getFont(),height:20,size:size});textGeo.computeBoundingBox();var centerOffset=-.5*(textGeo.boundingBox.max.x-textGeo.boundingBox.min.x),textMesh1=new three__WEBPACK_IMPORTED_MODULE_17__.P(textGeo,materials);textMesh1.position.x=centerOffset,textMesh1.position.y=30,textMesh1.position.z=0,textMesh1.rotation.x=0,textMesh1.rotation.y=2*Math.PI,group.add(textMesh1),meshItems.push(textMesh1);var textMesh2=new three__WEBPACK_IMPORTED_MODULE_17__.P(textGeo,materials);textMesh2.position.x=centerOffset,textMesh2.position.y=-30,textMesh2.position.z=20,textMesh2.rotation.x=Math.PI,textMesh2.rotation.y=2*Math.PI,group.add(textMesh2),meshItems.push(textMesh2)}()};return previousSimulation?(addListeners(),animate(),refreshText(),createSimulation()):(addListeners(),dirLight.position.set(0,0,1).normalize(),scene.add(dirLight),camera.position.set(0,400,700),pointLight.position.set(0,100,90),scene.add(pointLight),scene.background=new three__WEBPACK_IMPORTED_MODULE_17__.n(16777215),scene.fog=new three__WEBPACK_IMPORTED_MODULE_17__.w(13421772,250,1400),pointLight.color.setHSL(Math.random(),1,.5),group.position.y=100,scene.add(group),refreshText(),plane.position.y=100,plane.rotation.x=-Math.PI/2,scene.add(plane),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,400),container.innerHTML="",container.appendChild(renderer.domElement),container.style.touchAction="none",animate(),createSimulation())},ThreeJSText=function ThreeJSText(props){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_16___default.a.useState(null),2),previousSimulation=_React$useState2[0],setPreviousSimulation=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_16___default.a.useEffect((function(){var newSimulation=createDemo({previousSimulation:previousSimulation,props:props});return setPreviousSimulation(newSimulation),function(){newSimulation.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_common__WEBPACK_IMPORTED_MODULE_20__.StoryInfo,{docs:[_common__WEBPACK_IMPORTED_MODULE_20__.webAPIDocs.pointerEvent],source:"https://threejs.org/examples/webgl_geometry_text.html#FF00CB010#three.js",sourceText:"Source (official example, ported to TS)",storyName:"ThreeJSText"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)("div",{id:"example"})]})};ThreeJSText.displayName="ThreeJSText";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(ThreeJSText,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({}),_createSelectControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_20__.createSelectControl)(Object.values(FontName)),2),fontNameArg=_createSelectControl2[0],fontNameControl=_createSelectControl2[1],_createSelectControl4=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_20__.createSelectControl)(Object.values(FontWeight)),2),fontWeightArg=_createSelectControl4[0],fontWeightControl=_createSelectControl4[1],_createRangeControl2=_slicedToArray(Object(_common__WEBPACK_IMPORTED_MODULE_20__.createRangeControl)({diffMax:100,diffMin:20,initialValue:70,step:1}),2),sizeArg=_createRangeControl2[0],sizeControls=_createRangeControl2[1],args={bevelEnabled:!0,fontName:fontNameArg,fontWeight:fontWeightArg,size:sizeArg,text:"Demos"};Common.args=args,__webpack_exports__.default={argTypes:{fontName:fontNameControl,fontWeight:fontWeightControl,size:sizeControls},component:ThreeJSText,title:"ThreeJS/Text"}},991:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(61),__webpack_require__(31),__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8),__webpack_require__(21);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__),three__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1),three_examples_fonts_helvetiker_regular_typeface_json__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(344),three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(41),three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(98),three_examples_jsm_loaders_SVGLoader_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(350),_common__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var font=new three_examples_jsm_loaders_FontLoader__WEBPACK_IMPORTED_MODULE_19__.a(three_examples_fonts_helvetiker_regular_typeface_json__WEBPACK_IMPORTED_MODULE_17__),ThreeJSTextStroke=function ThreeJSTextStroke(props){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_15___default.a.useState(null),2),prevSimulation=_React$useState2[0],setPrevSimulation=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_15___default.a.useEffect((function(){var newSimulation=function createDemo(_ref){var _prevSimulation$scene,_prevSimulation$camer,_prevSimulation$rende,prevSimulation=_ref.prevSimulation,props=_ref.props,message=props.text,container=document.getElementById("examples"),width=container.getBoundingClientRect().width,state={isStopped:!1},scene=null!==(_prevSimulation$scene=null==prevSimulation?void 0:prevSimulation.scene)&&void 0!==_prevSimulation$scene?_prevSimulation$scene:new three__WEBPACK_IMPORTED_MODULE_16__.qb,camera=null!==(_prevSimulation$camer=null==prevSimulation?void 0:prevSimulation.camera)&&void 0!==_prevSimulation$camer?_prevSimulation$camer:new three__WEBPACK_IMPORTED_MODULE_16__.db(45,width/500,1,1e4),renderer=null!==(_prevSimulation$rende=null==prevSimulation?void 0:prevSimulation.renderer)&&void 0!==_prevSimulation$rende?_prevSimulation$rende:new three__WEBPACK_IMPORTED_MODULE_16__.Jb({antialias:!0}),createSimulation=function createSimulation(){return{camera:camera,props:props,renderer:renderer,scene:scene,stop:function stop(){state.isStopped=!0}}};scene.background=new three__WEBPACK_IMPORTED_MODULE_16__.n(16777215);var color=new three__WEBPACK_IMPORTED_MODULE_16__.n(26265),matDark=new three__WEBPACK_IMPORTED_MODULE_16__.Q({color:color,side:three__WEBPACK_IMPORTED_MODULE_16__.q}),matLite=new three__WEBPACK_IMPORTED_MODULE_16__.Q({color:color,opacity:.4,side:three__WEBPACK_IMPORTED_MODULE_16__.q,transparent:!0}),generateText=function generateText(){scene.clear();var shapes=font.generateShapes(message,100),textGeometry=new three__WEBPACK_IMPORTED_MODULE_16__.ub(shapes);textGeometry.computeBoundingBox();var xMid=-.5*(textGeometry.boundingBox.max.x-textGeometry.boundingBox.min.x);textGeometry.translate(xMid,0,0);var text=new three__WEBPACK_IMPORTED_MODULE_16__.P(textGeometry,matLite);text.position.z=-150,scene.add(text);var holeShapes=[];shapes.forEach((function(shape){(shape.holes.length||0)>0&&shape.holes.forEach((function(hole){holeShapes.push(hole)}))})),shapes.push.apply(shapes,holeShapes);var style=three_examples_jsm_loaders_SVGLoader_js__WEBPACK_IMPORTED_MODULE_20__.a.getStrokeStyle(5,color.getStyle()),strokeText=new three__WEBPACK_IMPORTED_MODULE_16__.y;shapes.forEach((function(shape){var points=shape.getPoints(),svgGeo=three_examples_jsm_loaders_SVGLoader_js__WEBPACK_IMPORTED_MODULE_20__.a.pointsToStroke(points,style);svgGeo.translate(xMid,0,0);var strokeMesh=new three__WEBPACK_IMPORTED_MODULE_16__.P(svgGeo,matDark);strokeText.add(strokeMesh)})),scene.add(strokeText)},animate=function animate(){state.isStopped||(requestAnimationFrame(animate),renderer.render(scene,camera))};if(prevSimulation)return generateText(),animate(),createSimulation();camera.position.set(0,-400,600),generateText(),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(width,500),container.innerHTML="",container.appendChild(renderer.domElement);var controls=new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_18__.a(camera,renderer.domElement);return controls.target.set(0,0,0),controls.update(),animate(),createSimulation()}({prevSimulation:prevSimulation,props:props});return setPrevSimulation(newSimulation),function(){newSimulation.stop()}}),[props]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_common__WEBPACK_IMPORTED_MODULE_21__.StoryInfo,{docs:[],source:"https://threejs.org/examples/?q=text#webgl_geometry_text_stroke",sourceText:"Source (official example, ported to TS)",storyName:"ThreeJSTextStroke"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{id:"examples"})]})};ThreeJSTextStroke.displayName="ThreeJSTextStroke";var Template=function Template(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(ThreeJSTextStroke,Object.assign({},props))};Template.displayName="Template";var Common=Template.bind({});Common.args={text:"Demos\nExample"},__webpack_exports__.default={argTypes:{},component:ThreeJSTextStroke,title:"ThreeJS/Text Stroke"}},998:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(26),__webpack_require__(6),__webpack_require__(57),__webpack_require__(479),__webpack_require__(61),__webpack_require__(31),__webpack_require__(930),__webpack_require__(931),__webpack_require__(121);var client_api=__webpack_require__(1007),esm=__webpack_require__(10),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},previewTabs:{"storybook/docs/panel":{hidden:!0}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},999:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Common",(function(){return Common}));__webpack_require__(61),__webpack_require__(31),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(50),__webpack_require__(58),__webpack_require__(6),__webpack_require__(11),__webpack_require__(9),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(8);var src=__webpack_require__(39),react=__webpack_require__(0),react_default=__webpack_require__.n(react),common=__webpack_require__(5),dot=(__webpack_require__(24),function dot(g,x,y){return g[0]*x+g[1]*y}),grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],p=Array.from({length:256}).map((function(){return Math.floor(256*Math.random())})),perm=Array.from({length:512}).map((function(_,index){return p[255&index]})),jsx_runtime=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CanvasLayerWaves_stories_main=function main(_ref){var cols=_ref.cols,fov=_ref.fov,rows=_ref.rows,waveHeight=_ref.waveHeight,zoom=_ref.zoom,width=document.getElementById("example").getBoundingClientRect().width,state={isStopped:!1,offsetX:0,offsetY:0},ctx=Object(src.c)("#example").text("").append("canvas").attr("height",500).attr("width",width).node().getContext("2d"),wavesMesh=[],clip=function clip(_ref4){return _ref4.fragment-_ref4.total/2},drawMesh=function drawMesh(){!function projectMesh(){wavesMesh.forEach((function(triangle){triangle.forEach((function(point){var projectionScale=zoom*fov/(fov+point.z);point.x=clip({fragment:point.x,total:width})*projectionScale+width/2,point.y=clip({fragment:point.y,total:500})*projectionScale+500/3}))}))}(),ctx.clearRect(0,0,width,500),ctx.globalCompositeOperation="lighter",ctx.strokeStyle="black",wavesMesh.forEach((function(triangle){var firstPoint=triangle[0];ctx.beginPath(),ctx.moveTo(firstPoint.x,firstPoint.y),triangle.forEach((function(point){ctx.lineTo(point.x,point.y)})),ctx.closePath(),ctx.stroke()}))},addNoise=function addNoise(){wavesMesh.forEach((function(triangle){triangle.forEach((function(point){point.y+=waveHeight*function noise(xin,yin){var s=(xin+yin)*(.5*(Math.sqrt(3)-1)),i=Math.floor(xin+s),j=Math.floor(yin+s),G2=(3-Math.sqrt(3))/6,t=(i+j)*G2,x0=xin-(i-t),y0=yin-(j-t),i1=0,j1=0;x0>y0?(i1=1,j1=0):(i1=0,j1=1);var x1=x0-i1+G2,y1=y0-j1+G2,x2=x0-1+2*G2,y2=y0-1+2*G2,ii=255&i,jj=255&j,gi0=perm[ii+perm[jj]]%12,gi1=perm[ii+i1+perm[jj+j1]]%12,gi2=perm[ii+1+perm[jj+1]]%12,t0=.5-x0*x0-y0*y0,t1=.5-x1*x1-y1*y1,t2=.5-x2*x2-y2*y2;return 70*((t0<0?0:(t0*=t0)*t0*dot(grad3[gi0],x0,y0))+(t1<0?0:(t1*=t1)*t1*dot(grad3[gi1],x1,y1))+(t2<0?0:(t2*=t2)*t2*dot(grad3[gi2],x2,y2)))}(.02*point.x+state.offsetX,.02*point.y+state.offsetY)}))}))},updateSimulation=function updateSimulation(){state.offsetX+=.01,state.offsetY-=.01,function generateMesh(){wavesMesh.length=0;var gridWidth=width/cols,gridHeight=500/rows,gridDepth=fov/rows;Array.from({length:cols}).forEach((function(){for(var _len=arguments.length,_ref2=new Array(_len),_key=0;_key<_len;_key++)_ref2[_key]=arguments[_key];var col=_ref2[1];Array.from({length:rows}).forEach((function(){for(var _len2=arguments.length,_ref3=new Array(_len2),_key2=0;_key2<_len2;_key2++)_ref3[_key2]=arguments[_key2];var row=_ref3[1];wavesMesh.push([{x:col*gridWidth,y:row*gridHeight+gridHeight,z:fov-(row*gridDepth+gridDepth)},{x:col*gridWidth,y:row*gridHeight,z:fov-row*gridDepth},{x:col*gridWidth+gridWidth,y:row*gridHeight,z:fov-row*gridDepth}]),wavesMesh.push([{x:col*gridWidth+gridWidth,y:row*gridHeight,z:fov-row*gridDepth},{x:col*gridWidth+gridWidth,y:row*gridHeight+gridHeight,z:fov-(row*gridDepth+gridDepth)},{x:col*gridWidth,y:row*gridHeight+gridHeight,z:fov-(row*gridDepth+gridDepth)}])}))}))}(),addNoise()};return function loop(){!function draw(){updateSimulation(),drawMesh()}(),state.isStopped||requestAnimationFrame(loop)}(),{stop:function stop(){state.isStopped=!0}}},CanvasLayerWaves_stories_CanvasLayerWaves=function CanvasLayerWaves(props){return react_default.a.useEffect((function(){return CanvasLayerWaves_stories_main(props).stop})),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(common.StoryInfo,{docs:[common.canvasDocs.beginPath,common.canvasDocs.clearRect,common.canvasDocs.globalCompositeOperation,common.canvasDocs.strokeStyle],source:"https://codepen.io/MadeByMike/pen/zBrpBL",storyName:"CanvasLayerWaves"}),Object(jsx_runtime.jsx)("p",{children:"The approach of this simulation is to generate the mesh every time"}),Object(jsx_runtime.jsx)("p",{children:"It is interesting how it projects the mesh into the 2D. There are no interactions."}),Object(jsx_runtime.jsx)("div",{id:"example"})]})};CanvasLayerWaves_stories_CanvasLayerWaves.displayName="CanvasLayerWaves";var CanvasLayerWaves_stories_Template=function Template(props){return Object(jsx_runtime.jsx)(CanvasLayerWaves_stories_CanvasLayerWaves,Object.assign({},props))};CanvasLayerWaves_stories_Template.displayName="Template";var Common=CanvasLayerWaves_stories_Template.bind({}),_createRangeControl2=_slicedToArray(Object(common.createRangeControl)({diffMin:20,initialValue:40,step:1}),2),rowsArgs=_createRangeControl2[0],rowsControls=_createRangeControl2[1],_createRangeControl4=_slicedToArray(Object(common.createRangeControl)({diffMin:20,initialValue:40,step:1}),2),colsArgs=_createRangeControl4[0],colsControls=_createRangeControl4[1],_createRangeControl6=_slicedToArray(Object(common.createRangeControl)({diffMax:5,diffMin:.5,initialValue:1,step:.5}),2),zoomArgs=_createRangeControl6[0],zoomControls=_createRangeControl6[1],_createRangeControl8=_slicedToArray(Object(common.createRangeControl)({diffMax:35,diffMin:15,initialValue:15,step:1}),2),waveHeightArgs=_createRangeControl8[0],waveHeightControls=_createRangeControl8[1],args={cols:colsArgs,fov:200,rows:rowsArgs,waveHeight:waveHeightArgs,zoom:zoomArgs};Common.args=args;__webpack_exports__.default={argTypes:{cols:colsControls,rows:rowsControls,waveHeight:waveHeightControls,zoom:zoomControls},component:CanvasLayerWaves_stories_CanvasLayerWaves,title:"Canvas/LayerWaves"}}},[[577,2,3]]]);