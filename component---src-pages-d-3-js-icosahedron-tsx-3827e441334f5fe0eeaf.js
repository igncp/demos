"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[118],{307:function(t,o,n){n.r(o),n.d(o,{default:function(){return l}});var i=n(7294),e=n(4275),r=n(862),a="chart",c=function(){function t(o){var n=this;this.rootElId=o.rootElId,this.setConfig(),this.setDom(),this.setVars();var i=this.dom.svg.selectAll("path").data(t.getIcosahedronFaces()).enter().append("path").each((function(t){t.polygon=(0,r.WFE)(t.map(n.dom.projection))})).style("fill",(function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];var e=o[1];return n.config.color(e.toString())}));this.dom.faces=i,this.vars.velocity=this.config.defaultVelocity}t.getIcosahedronFaces=function(){for(var t=[],o=180*Math.atan2(1,2)/Math.PI,n=0;n<360;n+=72)t.push([[n+0,-90],[n+0,-o],[n+72,-o]],[[n+36,o],[n+72,-o],[n+0,-o]],[[n+36,o],[n+0,-o],[n-36,o]],[[n+36,o],[n-36,o],[n-36,90]]);return t};var o=t.prototype;return o.start=function(){var t=this;(0,r.HTH)((function(){return t.timer()}))},o.setConfig=function(){var t=(0,r.PKp)(r.i4X);this.config={color:t,defaultVelocity:[1,.4,.07],height:500,rotationFactor1:.001,rotationFactor2:4,t0:Date.now(),width:document.getElementById(this.rootElId).getBoundingClientRect().width,zeroVelocity:[0,0,0]}},o.setDom=function(){var t=this;document.getElementById(this.rootElId).classList.add("icosahedron-module--icosahedronChart--df262");var o=(0,r.WvA)().scale(this.config.height/2-10),n=(0,r.Ys)("#"+this.rootElId).append("svg").attr("width",this.config.width).attr("height",this.config.height).on("click",(function(){var o;t.vars.velocity=(null===(o=t.vars.velocity)||void 0===o?void 0:o.toString())===t.config.zeroVelocity.toString()?t.config.defaultVelocity:t.config.zeroVelocity}));this.dom={faces:null,projection:o,svg:n}},o.setVars=function(){this.vars={velocity:null}},o.calcNewPosition=function(t){var o=t.position,n=t.time,i=this.vars.velocity;return[i[0]*Math.abs(Math.sin(n*this.config.rotationFactor1)*this.config.rotationFactor2)+o[0],i[1]+o[1],o[2]+i[2]]},o.timer=function(){var t=this,o=Date.now()-this.config.t0,n=this.dom.projection.rotate();return this.dom.projection.rotate(this.calcNewPosition({position:n,time:o})),this.dom.faces.each((function(o){o.forEach((function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];var r=i[0],a=i[1];return o.polygon[a]=t.dom.projection(r),null}))})).style("display",(function(t){return(0,r.mIS)(t.polygon)>0?null:"none"})).attr("d",(function(t){return"M"+t.polygon.join("L")+"Z"})),null},t}(),s=function(){return new c({rootElId:a}).start(),Promise.resolve()},l=function(t){var o=t.pageContext;return i.createElement(e.Z,{main:s,pageContext:o},i.createElement("div",{id:a}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-icosahedron-tsx-3827e441334f5fe0eeaf.js.map