{"version":3,"sources":["webpack://demos/./src/demos/bars-3dimensional/bars-3dimensional.js","webpack://demos/./src/pages/raphael/bars-3dimensional.js"],"names":["ch","cb","$","ajax","ROOT_PATH","done","data","results","setData","keys","Object","seriesDisplayed","seriesLength","length","keysLength","forEach","item","dom","els","config","cg","_","extend","colorScheme","deep","easing","heightOffset","ratio","speed","width","paper","Raphael","i","_i","path","String","attr","fill","stroke","it","se","calcH5","calcH10","calcH0","index","inner","calcInnerPath","outer","calcOuterPath","opacity","el","push","transform","title","animate","bind","e","preventDefault","animateCountries","drawAxis","set","bindClickEvent","createCountries","setCg","setDom","getData","render","ready","demoInfo","pageContext","main","scripts","style","marginBottom","textAalign","className","href","id"],"mappings":"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","file":"component---src-pages-raphael-bars-3-dimensional-js-29fbfc0fed8212215e2f.js","sourcesContent":["const ch = {}\n\nch.getData = function (cb) {\n  return $.ajax(`${ROOT_PATH}data/raphael/bars-3dimensional/data.json`).done(\n    (data) => {\n      ch.data = data.results\n      ch.setData()\n\n      return cb()\n    }\n  )\n}\n\nch.setData = function () {\n  const { data } = ch\n\n  data.keys = Object.keys(data)\n  data.seriesDisplayed = 0\n  data.seriesLength = data[data.keys[0]].length\n  data.keysLength = data.keys.length\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item] = {}\n  })\n}\n\nch.setCg = function (config) {\n  if (config == null) {\n    config = {}\n  }\n\n  ch.cg = _.extend(\n    {\n      colorScheme: [\"#C1252D\", \"#5F3A5F\", \"#51A8D0\"],\n      deep: 5,\n      easing: \"bounce\",\n      heightOffset: 100,\n      ratio: 0.6,\n      speed: 800,\n      width: $(\"#chart\").width(),\n    },\n    config\n  )\n}\n\nch.setDom = function () {\n  ch.dom = {\n    els: {},\n    paper: Raphael(\"chart\", ch.cg.width, 245),\n  }\n}\n\nch.drawAxis = function () {\n  const { paper } = ch.dom\n  const { deep } = ch.cg\n\n  for (let i = 0, _i = 0; _i <= 3; i = ++_i) {\n    const path = `M5,${String(25 * i)} ${ch.cg.width},${String(\n      ch.cg.heightOffset + i * 25\n    )}`\n\n    paper.path(path).attr({\n      \"stroke-dasharray\": \". \",\n    })\n  }\n\n  return paper\n    .path(\n      `M0,${deep + 100} ${deep},100 ${ch.cg.width},${\n        100 + ch.cg.heightOffset\n      } ${ch.cg.width - deep},${100 + ch.cg.heightOffset + deep}Z`\n    )\n    .attr({\n      fill: \"#999\",\n      stroke: \"none\",\n    })\n}\n\nch.calcH0 = function (it, se) {\n  return 100 - ch.data[it][se]\n}\n\nch.calcH5 = function (it, se) {\n  return 100 - ch.data[it][se] + 5 * ch.cg.ratio\n}\n\nch.calcH10 = function (it, se) {\n  return 100 - ch.data[it][se] + 10 * ch.cg.ratio\n}\n\nch.calcInnerPath = function (it, se) {\n  return (\n    `M0,${ch.calcH5(it, se)} 15,${ch.calcH10(it, se)} ` +\n    `15,${100 + 10 * ch.cg.ratio} 0,${100 + 5 * ch.cg.ratio}Z`\n  )\n}\n\nch.calcOuterPath = function (it, se) {\n  return `M0,${ch.calcH5(it, se)} 5,${ch.calcH0(it, se)} 20,${ch.calcH5(\n    it,\n    se\n  )} 20,${100 + 5 * ch.cg.ratio} 15,${100 + 10 * ch.cg.ratio} 0,${\n    100 + 5 * ch.cg.ratio\n  }Z`\n}\n\nch.createCountries = function (i) {\n  const { data } = ch\n  const { paper } = ch.dom\n\n  return data.keys.forEach((item, index) => {\n    ch.dom.els[item].inner = paper.path(ch.calcInnerPath(item, i))\n    ch.dom.els[item].outer = paper.path(ch.calcOuterPath(item, i)).attr({\n      opacity: \".5\",\n    })\n    ch.dom.els[item].el.push(ch.dom.els[item].inner, ch.dom.els[item].outer)\n    ch.dom.els[item].el.transform(\n      `T ${String((ch.cg.width / data.keysLength) * index)},` +\n        `${String((ch.cg.heightOffset / data.keysLength) * index)}`\n    )\n\n    return ch.dom.els[item].el.attr({\n      fill: \"#C1252D\",\n      stroke: \"none\",\n      title: `${item}: ${data[item][i]}`,\n    })\n  })\n}\n\nch.animateCountries = function (i) {\n  const { data } = ch\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item].inner.animate(\n      {\n        path: ch.calcInnerPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n    ch.dom.els[item].outer.animate(\n      {\n        path: ch.calcOuterPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n\n    return ch.dom.els[item].el.animate(\n      {\n        fill: ch.cg.colorScheme[i],\n      },\n      ch.cg.speed\n    )\n  })\n}\n\nch.bindClickEvent = function () {\n  const { data } = ch\n\n  return $(\".animate-bars\").bind(\"click\", (e) => {\n    e.preventDefault()\n\n    if (data.seriesDisplayed + 1 === data.seriesLength) {\n      data.seriesDisplayed = 0\n    } else {\n      data.seriesDisplayed = data.seriesDisplayed + 1\n    }\n\n    return ch.animateCountries(data.seriesDisplayed)\n  })\n}\n\nch.render = function () {\n  ch.drawAxis()\n  ch.data.keys.forEach((item) => {\n    ch.dom.els[item].el = ch.dom.paper.set()\n  })\n  ch.bindClickEvent()\n\n  return ch.createCountries(ch.data.seriesDisplayed)\n}\n\nch.ready = function () {\n  ch.setCg()\n  ch.setDom()\n\n  return ch.getData(ch.render)\n}\n\nexport default () => {\n  ch.ready()\n}\n","import React from \"react\"\n\nimport Demo from \"../../components/demo\"\n\nimport main from \"../../demos/bars-3dimensional/bars-3dimensional\"\n\nimport \"../../demos/bars-3dimensional/bars-3dimensional.styl\"\n\nconst Bars3Dimensional = ({ pageContext: { demoInfo } }) => (\n  <Demo\n    demoInfo={demoInfo}\n    main={main}\n    scripts={[\"/vendors/raphael/raphael-min.js\"]}\n  >\n    <div\n      style={{\n        marginBottom: 20,\n        textAalign: \"center\",\n      }}\n    >\n      <a className=\"btn btn-info animate-bars\" href=\"\">\n        Change Series\n      </a>\n    </div>\n    <div className=\"bars-3dimensional-chart\" id=\"chart\" />\n  </Demo>\n)\n\nexport default Bars3Dimensional\n"],"sourceRoot":""}