"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[828],{9378:function(t,n,e){e.r(n),e.d(n,{default:function(){return ht}});var r=e(7294),o=e(1745),a=e(8634),i=e(2656),u=e.n(i),l=e(581),s=e(2203),f=e(5221),c="chart",d=function(t){return t.name},y=function(t){return t.name},h=function(t){var n=t.energySankeyData,e=t.onNodeClick,r=function(t){return(0,f.WUZ)(",.0f")(t)+" "+n.units};return{chartLinks:n.links,chartNodes:n.nodes,getLinkTitle:function(t){var n=t.sankeyLink,e=t.sankeyLinkSource,o=t.sankeyLinkTarget;return e.name+" â†’ "+o.name+"\n"+r(n.value)},getNodeId:d,getNodeText:y,getNodeTitle:function(t){var n=t.nodeValue,e=t.sankeyNode;return[e.category===e.name?"":e.category,e.name,r(n)].filter(Boolean).join("\n")},onNodeClick:e,rootElId:c}},v=e(7956),g=e(3873),p=e.n(g),k=e(2169);function m(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return x(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return x(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw a}}}}function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function w(t,n){var e=0;if(void 0===n){var r,o=m(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;(a=+a)&&(e+=a)}}catch(f){o.e(f)}finally{o.f()}}else{var i,u=-1,l=m(t);try{for(l.s();!(i=l.n()).done;){var s=i.value;(s=+n(s,++u,t))&&(e+=s)}}catch(f){l.e(f)}finally{l.f()}}return e}function b(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return _(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw a}}}}function _(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function L(t,n){var e;if(void 0===n){var r,o=b(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;null!=a&&(e<a||void 0===e&&a>=a)&&(e=a)}}catch(f){o.e(f)}finally{o.f()}}else{var i,u=-1,l=b(t);try{for(l.s();!(i=l.n()).done;){var s=i.value;null!=(s=n(s,++u,t))&&(e<s||void 0===e&&s>=s)&&(e=s)}}catch(f){l.e(f)}finally{l.f()}}return e}function A(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return S(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return S(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw a}}}}function S(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function M(t){return t.depth}function I(t,n){return t.sourceLinks.length?t.depth:n-1}function N(t){return function(){return t}}function T(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return j(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(u)throw a}}}}function j(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function C(t,n){return Z(t.source,n.source)||t.index-n.index}function E(t,n){return Z(t.target,n.target)||t.index-n.index}function Z(t,n){return t.y0-n.y0}function G(t){return t.value}function O(t){return t.index}function P(t){return t.nodes}function z(t){return t.links}function U(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function q(t){var n,e=T(t.nodes);try{for(e.s();!(n=e.n()).done;){var r,o=n.value,a=o.y0,i=a,u=T(o.sourceLinks);try{for(u.s();!(r=u.n()).done;){var l=r.value;l.y0=a+l.width/2,a+=l.width}}catch(d){u.e(d)}finally{u.f()}var s,f=T(o.targetLinks);try{for(f.s();!(s=f.n()).done;){var c=s.value;c.y1=i+c.width/2,i+=c.width}}catch(d){f.e(d)}finally{f.f()}}}catch(d){e.e(d)}finally{e.f()}}function V(){var t,n,e,r=0,o=0,a=1,i=1,u=24,l=8,s=O,f=I,c=P,d=z,y=6;function h(){var t={nodes:c.apply(null,arguments),links:d.apply(null,arguments)};return v(t),g(t),p(t),m(t),b(t),q(t),t}function v(t){var n,r=t.nodes,o=t.links,a=T(r.entries());try{for(a.s();!(n=a.n()).done;){var i=(0,k.Z)(n.value,2),u=i[0],l=i[1];l.index=u,l.sourceLinks=[],l.targetLinks=[]}}catch(L){a.e(L)}finally{a.f()}var f,c=new Map(r.map((function(t,n){return[s(t,n,r),t]}))),d=T(o.entries());try{for(d.s();!(f=d.n()).done;){var y=(0,k.Z)(f.value,2),h=y[0],v=y[1];v.index=h;var g=v.source,p=v.target;"object"!=typeof g&&(g=v.source=U(c,g)),"object"!=typeof p&&(p=v.target=U(c,p)),g.sourceLinks.push(v),p.targetLinks.push(v)}}catch(L){d.e(L)}finally{d.f()}if(null!=e){var m,x=T(r);try{for(x.s();!(m=x.n()).done;){var w=m.value,b=w.sourceLinks,_=w.targetLinks;b.sort(e),_.sort(e)}}catch(L){x.e(L)}finally{x.f()}}}function g(t){var n,e=T(t.nodes);try{for(e.s();!(n=e.n()).done;){var r=n.value;r.value=void 0===r.fixedValue?Math.max(w(r.sourceLinks,G),w(r.targetLinks,G)):r.fixedValue}}catch(o){e.e(o)}finally{e.f()}}function p(t){for(var n=t.nodes,e=n.length,r=new Set(n),o=new Set,a=0;r.size;){var i,u=T(r);try{for(u.s();!(i=u.n()).done;){var l=i.value;l.depth=a;var s,f=T(l.sourceLinks);try{for(f.s();!(s=f.n()).done;){var c=s.value.target;o.add(c)}}catch(d){f.e(d)}finally{f.f()}}}catch(d){u.e(d)}finally{u.f()}if(++a>e)throw new Error("circular link");r=o,o=new Set}}function m(t){for(var n=t.nodes,e=n.length,r=new Set(n),o=new Set,a=0;r.size;){var i,u=T(r);try{for(u.s();!(i=u.n()).done;){var l=i.value;l.height=a;var s,f=T(l.targetLinks);try{for(f.s();!(s=f.n()).done;){var c=s.value.source;o.add(c)}}catch(d){f.e(d)}finally{f.f()}}}catch(d){u.e(d)}finally{u.f()}if(++a>e)throw new Error("circular link");r=o,o=new Set}}function x(n){var e,r=function(t,n){var e;if(void 0===n){var r,o=A(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;null!=a&&(e>a||void 0===e&&a>=a)&&(e=a)}}catch(f){o.e(f)}finally{o.f()}}else{var i,u=-1,l=A(t);try{for(l.s();!(i=l.n()).done;){var s=i.value;null!=(s=n(s,++u,t))&&(e>s||void 0===e&&s>=s)&&(e=s)}}catch(f){l.e(f)}finally{l.f()}}return e}(n,(function(n){return(i-o-(n.length-1)*t)/w(n,G)})),a=T(n);try{for(a.s();!(e=a.n()).done;){var u,l=e.value,s=o,f=T(l);try{for(f.s();!(u=f.n()).done;){var c=u.value;c.y0=s,c.y1=s+c.value*r,s=c.y1+t;var d,y=T(c.sourceLinks);try{for(y.s();!(d=y.n()).done;){var h=d.value;h.width=h.value*r}}catch(p){y.e(p)}finally{y.f()}}}catch(p){f.e(p)}finally{f.f()}s=(i-s+t)/(l.length+1);for(var v=0;v<l.length;++v){var g=l[v];g.y0+=s*(v+1),g.y1+=s*(v+1)}D(l)}}catch(p){a.e(p)}finally{a.f()}}function b(e){var s=function(t){var e,o=t.nodes,i=L(o,(function(t){return t.depth}))+1,l=(a-r-u)/(i-1),s=new Array(i),c=T(o);try{for(c.s();!(e=c.n()).done;){var d=e.value,y=Math.max(0,Math.min(i-1,Math.floor(f.call(null,d,i))));d.layer=y,d.x0=r+y*l,d.x1=d.x0+u,s[y]?s[y].push(d):s[y]=[d]}}catch(g){c.e(g)}finally{c.f()}if(n){var h,v=T(s);try{for(v.s();!(h=v.n()).done;)h.value.sort(n)}catch(g){v.e(g)}finally{v.f()}}return s}(e);t=Math.min(l,(i-o)/(L(s,(function(t){return t.length}))-1)),x(s);for(var c=0;c<y;++c){var d=Math.pow(.99,c),h=Math.max(1-d,(c+1)/y);S(s,d,h),_(s,d,h)}}function _(t,e,r){for(var o=1,a=t.length;o<a;++o){var i,u=t[o],l=T(u);try{for(l.s();!(i=l.n()).done;){var s,f=i.value,c=0,d=0,y=T(f.targetLinks);try{for(y.s();!(s=y.n()).done;){var h=s.value,v=h.source,g=h.value*(f.layer-v.layer);c+=$(v,f)*g,d+=g}}catch(k){y.e(k)}finally{y.f()}if(d>0){var p=(c/d-f.y0)*e;f.y0+=p,f.y1+=p,B(f)}}}catch(k){l.e(k)}finally{l.f()}void 0===n&&u.sort(Z),M(u,r)}}function S(t,e,r){for(var o=t.length-2;o>=0;--o){var a,i=t[o],u=T(i);try{for(u.s();!(a=u.n()).done;){var l,s=a.value,f=0,c=0,d=T(s.sourceLinks);try{for(d.s();!(l=d.n()).done;){var y=l.value,h=y.target,v=y.value*(h.layer-s.layer);f+=W(s,h)*v,c+=v}}catch(p){d.e(p)}finally{d.f()}if(c>0){var g=(f/c-s.y0)*e;s.y0+=g,s.y1+=g,B(s)}}}catch(p){u.e(p)}finally{u.f()}void 0===n&&i.sort(Z),M(i,r)}}function M(n,e){var r=n.length>>1,a=n[r];V(n,a.y0-t,r-1,e),j(n,a.y1+t,r+1,e),V(n,i,n.length-1,e),j(n,o,0,e)}function j(n,e,r,o){for(;r<n.length;++r){var a=n[r],i=(e-a.y0)*o;i>1e-6&&(a.y0+=i,a.y1+=i),e=a.y1+t}}function V(n,e,r,o){for(;r>=0;--r){var a=n[r],i=(a.y1-e)*o;i>1e-6&&(a.y0-=i,a.y1-=i),e=a.y0-t}}function B(t){var n=t.sourceLinks,r=t.targetLinks;if(void 0===e){var o,a=T(r);try{for(a.s();!(o=a.n()).done;){o.value.source.sourceLinks.sort(E)}}catch(l){a.e(l)}finally{a.f()}var i,u=T(n);try{for(u.s();!(i=u.n()).done;){i.value.target.targetLinks.sort(C)}}catch(l){u.e(l)}finally{u.f()}}}function D(t){if(void 0===e){var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.sourceLinks,i=o.targetLinks;a.sort(E),i.sort(C)}}catch(u){r.e(u)}finally{r.f()}}}function $(n,e){var r,o=n.y0-(n.sourceLinks.length-1)*t/2,a=T(n.sourceLinks);try{for(a.s();!(r=a.n()).done;){var i=r.value,u=i.target,l=i.width;if(u===e)break;o+=l+t}}catch(h){a.e(h)}finally{a.f()}var s,f=T(e.targetLinks);try{for(f.s();!(s=f.n()).done;){var c=s.value,d=c.source,y=c.width;if(d===n)break;o-=y}}catch(h){f.e(h)}finally{f.f()}return o}function W(n,e){var r,o=e.y0-(e.targetLinks.length-1)*t/2,a=T(e.targetLinks);try{for(a.s();!(r=a.n()).done;){var i=r.value,u=i.source,l=i.width;if(u===n)break;o+=l+t}}catch(h){a.e(h)}finally{a.f()}var s,f=T(n.sourceLinks);try{for(f.s();!(s=f.n()).done;){var c=s.value,d=c.target,y=c.width;if(d===e)break;o-=y}}catch(h){f.e(h)}finally{f.f()}return o}return h.update=function(t){return q(t),t},h.nodeId=function(t){return arguments.length?(s="function"==typeof t?t:N(t),h):s},h.nodeAlign=function(t){return arguments.length?(f="function"==typeof t?t:N(t),h):f},h.nodeSort=function(t){return arguments.length?(n=t,h):n},h.nodeWidth=function(t){return arguments.length?(u=+t,h):u},h.nodePadding=function(n){return arguments.length?(l=t=+n,h):l},h.nodes=function(t){return arguments.length?(c="function"==typeof t?t:N(t),h):c},h.links=function(t){return arguments.length?(d="function"==typeof t?t:N(t),h):d},h.linkSort=function(t){return arguments.length?(e=t,h):e},h.size=function(t){return arguments.length?(r=o=0,a=+t[0],i=+t[1],h):[a-r,i-o]},h.extent=function(t){return arguments.length?(r=+t[0][0],a=+t[1][0],o=+t[0][1],i=+t[1][1],h):[[r,o],[a,i]]},h.iterations=function(t){return arguments.length?(y=+t,h):y},h}var B=Math.PI,D=2*B,$=1e-6,W=D-$;function F(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Y(){return new F}F.prototype=Y.prototype={constructor:F,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,o,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(t,n,e,r,o){t=+t,n=+n,e=+e,r=+r,o=+o;var a=this._x1,i=this._y1,u=e-t,l=r-n,s=a-t,f=i-n,c=s*s+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(c>$)if(Math.abs(f*u-l*s)>$&&o){var d=e-a,y=r-i,h=u*u+l*l,v=d*d+y*y,g=Math.sqrt(h),p=Math.sqrt(c),k=o*Math.tan((B-Math.acos((h+c-v)/(2*g*p)))/2),m=k/p,x=k/g;Math.abs(m-1)>$&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>s*y)+","+(this._x1=t+x*u)+","+(this._y1=n+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,o,a){t=+t,n=+n,a=!!a;var i=(e=+e)*Math.cos(r),u=e*Math.sin(r),l=t+i,s=n+u,f=1^a,c=a?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+l+","+s:(Math.abs(this._x1-l)>$||Math.abs(this._y1-s)>$)&&(this._+="L"+l+","+s),e&&(c<0&&(c=c%D+D),c>W?this._+="A"+e+","+e+",0,1,"+f+","+(t-i)+","+(n-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=l)+","+(this._y1=s):c>$&&(this._+="A"+e+","+e+",0,"+ +(c>=B)+","+f+","+(this._x1=t+e*Math.cos(o))+","+(this._y1=n+e*Math.sin(o))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var K=Y,Q=Array.prototype.slice;function R(t){return function(){return t}}function X(t){return t[0]}function H(t){return t[1]}function J(t){return t.source}function tt(t){return t.target}function nt(t){var n=J,e=tt,r=X,o=H,a=null;function i(){var i,u=Q.call(arguments),l=n.apply(this,u),s=e.apply(this,u);if(a||(a=i=K()),t(a,+r.apply(this,(u[0]=l,u)),+o.apply(this,u),+r.apply(this,(u[0]=s,u)),+o.apply(this,u)),i)return a=null,i+""||null}return i.source=function(t){return arguments.length?(n=t,i):n},i.target=function(t){return arguments.length?(e=t,i):e},i.x=function(t){return arguments.length?(r="function"==typeof t?t:R(+t),i):r},i.y=function(t){return arguments.length?(o="function"==typeof t?t:R(+t),i):o},i.context=function(t){return arguments.length?(a=null==t?null:t,i):a},i}function et(t,n,e,r,o){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,o,r,o)}function rt(t){return[t.source.x1,t.y0]}function ot(t){return[t.target.x0,t.y1]}function at(){return nt(et).source(rt).target(ot)}var it=e(8747),ut=e.n(it),lt="energy-sankey-module--chartNode--9f05c",st="energy-sankey-module--chartLink--b4a8a";"undefined"!=typeof window&&e(5356);var ft=function(t){var n=t.addedGradients,e=t.fromColor,r=t.svg,o=t.toColor,a=("link-gradient-"+e+"-"+o).replace(/#/g,"");if(a in n)return a;var i=function(t){var n=t.max,e=t.min,r=Math.ceil(e),o=Math.floor(n);return Math.floor(Math.random()*(o-r+1))+r}({max:3,min:1}),u=('\n<linearGradient id="'+a+'">\n  <stop offset="0%" stop-color="'+e+'" />\n  <stop offset="50%" stop-color="'+p().scale([e,o])(.5)+'">\n    <animate attributeName="offset"\n      values="'+[5,6,7,8,9,8,7,6,5,4,3,2,3,4].map((function(t){return"."+t})).join(";")+'"\n      dur="'+i+'s"\n      repeatCount="indefinite" />\n  </stop>\n  <stop offset="100%" stop-color="'+o+'" />\n</linearGradient>\n').trim();return r.append("defs").html(u),n[a]=!0,a},ct=function(){function t(t){this.state={addedGradients:{},isInTransition:!1,linkSelected:!1,selectedNode:""},this.config=t;var n=(0,f.Ys)("#"+t.rootElId).append("svg"),e=n.append("g").attr("stroke","#000"),r=n.append("g").attr("fill","none");this.elements={linkG:r,nodeG:e,svg:n},this.render()}return t.prototype.render=function(){var t,n=this,e=this.config,r=e.chartLinks,o=e.chartNodes,a=e.getNodeId,i=e.onNodeClick,u=e.rootElId,l=this.config,s=this.elements,c=document.getElementById(u),d=(t=(0,f.PKp)(f.i4X),function(n){return t(a(n))}),y=c.getBoundingClientRect().width;s.svg.attr("height",1e3).attr("width",y);var h=V().nodeId(a).nodeAlign(M).nodeWidth(15).nodePadding(10).extent([[1,5],[y-1,995]])({links:r.map((function(t){return Object.assign({},t)})),nodes:o.map((function(t){return Object.assign({},t)}))}),g=h.links,p=h.nodes,k=function(){},m=function(t){var e=t.linkPath,r=t.sankeyNode;if(!n.state.isInTransition){if(i)if(i(r))return;n.state.selectedNode===a(r)?(e.attr("display",null).style("opacity",null),n.state.selectedNode=""):(n.state.isInTransition=!0,n.state.selectedNode&&e.style("opacity",(function(t){return[a(t.source),a(t.target)].includes(n.state.selectedNode)?null:0})).attr("display",null),requestAnimationFrame((function(){e.transition().duration(500).style("opacity",(function(t){return[a(t.source),a(t.target)].includes(a(r))?null:0})).on("end",(function(){n.state.isInTransition=!1,e.attr("display",(function(t){return[a(t.source),a(t.target)].includes(a(r))?null:"none"}))})),n.state.selectedNode=a(r)})))}},x=s.nodeG.selectAll("rect").data(p).join("rect").attr("class",lt).attr("x",(function(t){return t.x0})).attr("y",(function(t){return t.y0})).attr("height",(function(t){return t.y1-t.y0})).attr("width",(function(t){return t.x1-t.x0})).attr("data-sankey-node",!0).attr("fill",d).on("mouseenter",(function(){var t=this;k();var n=(0,v.Z)({direction:"alternate",duration:1e3,easing:"easeInOutSine",loop:!1,strokeDashoffset:[v.Z.setDashoffset,0],targets:this}),e=(0,v.Z)({direction:"alternate",duration:2e3,easing:"spring(1, 80, 10, 0)",loop:!0,opacity:[.6,1,.6],targets:this});k=function(){n.seek(n.duration),e.seek(0),v.Z.remove(t),k=function(){}}})).on("mouseleave",(function(){k()})).on("click",(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n[1];m({linkPath:L,sankeyNode:r})}));x.attr("title",(function(t){return l.getNodeTitle({nodeValue:t.value,sankeyNode:t})})),ut()("."+lt).tooltip({track:!0});var w=s.linkG.selectAll("g").data(g).join("g").attr("class","energy-sankey-module--chartLinkG--74bd7"),b=at(),_=this.state,L=w.append("path").attr("d",(function(t){var n=t.y0===t.y1;return b(n?Object.assign({},t,{y1:t.y1+.1}):t)})).attr("stroke",(function(t){var n=d(t.source),e=d(t.target);return"url(#"+ft({addedGradients:_.addedGradients,fromColor:n,svg:s.svg,toColor:e})+")"})).attr("data-sankey-link",!0).attr("class",st).attr("stroke-width",(function(t){return Math.max(1,t.width)})).on("click",(function(){if(!_.isInTransition){var t=(0,f.Ys)(this);_.linkSelected?L.attr("display",null).style("opacity",null):(L.attr("display","none"),t.attr("display",null)),_.selectedNode="",_.linkSelected=!_.linkSelected}}));w.attr("title",(function(t){return l.getLinkTitle({sankeyLink:t,sankeyLinkSource:t.source,sankeyLinkTarget:t.target})})),ut()("."+st).tooltip({track:!0}),s.nodeG.each((function(){this.parentNode.appendChild(this)})),s.svg.append("g").attr("font-family","sans-serif").selectAll("text").data(p).join("text").attr("x",(function(t){return t.x0<y/2?t.x1+6:t.x0-6})).attr("y",(function(t){return(t.y1+t.y0)/2})).attr("dy","0.35em").style("font-size","16px").attr("text-anchor",(function(t){return t.x0<y/2?"start":"end"})).style("pointer-events","none").text(l.getNodeText)},t}(),dt=function(){var t=(0,a.Z)(u().mark((function t(){var n,e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,l.Z)("control",(function(){})),t.next=3,(0,f.AVB)("/demos/data/d3js/energy-sankey/data.json");case 3:n=t.sent,e=h({energySankeyData:n,onNodeClick:function(t){return!!l.Z.isPressed("control")&&(window.open("https://www.google.com/search?"+s.stringify({ie:"UTF-8",q:"Energy "+t.name})),!0)}}),new ct(e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),yt=dt,ht=function(t){var n=t.pageContext;return r.createElement(o.Z,{main:yt,pageContext:n},r.createElement("div",{id:c}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-energy-sankey-tsx-9b56e9893c174b12a746.js.map