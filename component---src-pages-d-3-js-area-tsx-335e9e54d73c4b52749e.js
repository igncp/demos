(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[189],{6193:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return w}});var r=a(7294),n=a(1335),o=a(2137),i=a(7757),c=a.n(i),l=a(3241),p=a(2149),d="area-module--axis--3OeLF",u=function(t){return"Year: "+t.year+", Percent: "+t.percent+"%"},s="Share of top decile [aka top 10%] in national income",f=50,m=70,h=50,g=50,v=400-g-f,y=function(t){var e=t.data,a=t.rootElId,r=document.getElementById(a).getBoundingClientRect().width-m-h,n=(0,l.Ys)("#"+a).append("svg").attr("height",v+g+f).attr("width",r+m+h).append("g").attr("transform","translate("+m+","+g+")").attr("class","area-module--areaChart--18U7a");n.append("text").attr("class","area-module--chartTitle--2vijK").attr("text-anchor","middle").attr("transform","translate("+r/2+","+"-15)").text(s).style("font-weight","bold"),x("points",n,2,.5);var o=(0,l.Fp7)(e,(function(t){return t.year})),i=(0,l.VV$)(e,(function(t){return t.year})),c=(0,l.Fp7)(e,(function(t){return t.percent/100})),y=(0,l.VV$)(e,(function(t){return t.percent/100})),k=(0,l.BYU)().domain([i,o]).range([0,r]),w=(0,l.BYU)().domain([c+.05,y-.05]).range([0,v]),C=(0,l.LLu)(k).tickFormat((0,l.WUZ)(".0f")).tickSize(10),E=(0,l.y4O)(w).tickFormat((0,l.WUZ)(".0%")).tickSize(10);n.append("g").attr("class","area-module--x--3vSV5 "+d).attr("transform","translate(0,"+v+")").call(C).selectAll("text").attr("dy","1.25em"),n.append("g").attr("class","area-module--y--3xyOd "+d).call(E).selectAll("text").attr("dx","-.25em");var V=(0,l.SOn)().x((function(t){return k(t.year)})).y0(v).y1((function(t){return w(t.percent/100)})),b=(0,l.jvg)().x((function(t){return k(t.year)})).y((function(t){return w(t.percent/100)}));n.append("path").datum(e).attr("class","area-module--line--2fHic").attr("d",b).attr("clip-path","url(#clip)"),n.append("clipPath").attr("id","clip").append("rect").attr("height",v).attr("width",r),n.append("path").datum(e).attr("class","area-module--area--1qZz_").attr("d",V).attr("clip-path","url(#clip)");var Y=p.Z.from(e,(function(t){return k(t.year)}),(function(t){return w(t.percent/100)})).voronoi([-m,-g,r+h,v+f]);n.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+k(t.year)+","+w(t.percent/100)+")"})).attr("r","5px").attr("class",(function(t,e){return"area-module--point--29v1- point-"+e})).style("filter","url(#drop-shadow-points)");var S=n.append("g").attr("class","area-module--voronoi--1NIYY");return S.selectAll("path").data(e).enter().append("path").attr("d",(function(t,e){return t.index=e,Y.renderCell(e)})).on("mouseover",(function(t,e){(0,l.Ys)(".point-"+e.index).style("display","block")})).on("mouseleave",(function(t,e){(0,l.Ys)(".point-"+e.index).style("display","none")})).append("title").text(u),{toggleVoronoi:function(){var t=S.attr("class"),e="area-module--showVoronoi--1QHCR",a=t.includes(e)?t.replace(e,"").trim():t+" "+e;S.attr("class",a)}}},x=function(t,e,a,r){var n=e.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+t).attr("width","500%").attr("x","-200%").attr("y","-200%");n.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",a),n.append("feOffset").attr("dx",1).attr("dy",1),n.append("feComponentTransfer").append("feFuncA").attr("slope",r).attr("type","linear");var o=n.append("feMerge");o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},k=function(){var t=(0,o.Z)(c().mark((function t(){var e,a,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.gyn)("/demos/data/d3js/area/data.csv");case 2:e=t.sent,"chart",a=y({data:e,rootElId:"chart"}),r=a.toggleVoronoi,document.getElementById("toggle-voronoi").addEventListener("click",(function(t){t.preventDefault(),r()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){var e=t.pageContext;return r.createElement(n.Z,{main:k,pageContext:e},r.createElement("form",null,r.createElement("button",{className:"btn btn-info",id:"toggle-voronoi",type:"button"},"Toggle Voronoi")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-tsx-335e9e54d73c4b52749e.js.map