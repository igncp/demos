{"version":3,"sources":["webpack://demos/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://demos/./node_modules/topojson-client/src/identity.js","webpack://demos/./node_modules/topojson-client/src/feature.js","webpack://demos/./node_modules/topojson-client/src/transform.js","webpack://demos/./node_modules/topojson-client/src/reverse.js","webpack://demos/./node_modules/uuid/dist/esm-browser/rng.js","webpack://demos/./node_modules/uuid/dist/esm-browser/regex.js","webpack://demos/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://demos/./node_modules/uuid/dist/esm-browser/validate.js","webpack://demos/./node_modules/uuid/dist/esm-browser/v1.js","webpack://demos/./src/demos/spain-map/spain-map-chart.ts","webpack://demos/./src/demos/spain-map/spain-map-chart-data.ts","webpack://demos/./src/demos/spain-map/spain-map.ts","webpack://demos/./src/pages/d3js/spain-map.tsx"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","x","topology","o","objects","type","features","geometries","map","id","bbox","properties","geometry","transformPoint","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","arcs","arc","points","pop","a","k","push","array","t","reverse","point","p","line","ring","polygon","coordinates","object","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","byteToHex","toString","substr","_nodeId","_clockseq","arr","offset","toLowerCase","TypeError","_lastMSecs","_lastNSecs","options","buf","b","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","colorsScheme","height","margin","addDropShadowFilter","deviation","slope","filter","svg","append","attr","feMerge","renderChart","chartConfig","areasData","rootElId","chartWidth","document","getElementById","getBoundingClientRect","width","dataRoot","data1","dataGeoParsed","feature","areaData","areaIndex","colorScale","scaleLinear","domain","range","colorScaleConversion","colorFn","select","regionClass","uuidv1","slice","generateAreas","filterId","path","svgComp","selectAll","data","enter","style","on","getTitleText","widths","getWidths","svgs","forEach","svgItem","svgItemIndex","paths","projectionsCenters","center","centerIndex","geoMercator","projection","geoPath","$","tooltip","track","areaProperties","NAME_3","includes","NAME_2","NAME_1","v","join","widthCanarias","createChartConfig","json","ROOT_PATH","pageContext","links","main","scripts"],"mappings":"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","file":"component---src-pages-d-3-js-spain-map-tsx-bfdba522d2b95826efab.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function (x) {\n  return x;\n}","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) {\n      arc(arcs[i], points);\n    }\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) {\n      points.push(points[0]);\n    } // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n\n    while (j < n) {\n      output[j] = input[j], ++j;\n    }\n\n    return output;\n  };\n}","export default function (array, n) {\n  var t,\n      j = array.length,\n      i = j - n;\n\n  while (i < --j) {\n    t = array[i], array[i++] = array[j], array[j] = t;\n  }\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import {\n  BaseType,\n  GeoPath,\n  GeoPermissibleObjects,\n  GeoProjection,\n  Selection,\n  geoMercator,\n  geoPath,\n  range,\n  scaleLinear,\n  select,\n} from \"d3\"\nimport { GeoJsonProperties } from \"geojson\"\nimport { feature } from \"topojson-client\"\nimport { Objects, Topology } from \"topojson-specification\"\nimport { v1 as uuidv1 } from \"uuid\"\n\nconst colorsScheme = [\"#323247\", \"#7C7CC9\", \"#72B66C\", \"#429742\"]\nconst height = 500\nconst margin = {\n  bottom: 20,\n  top: 50,\n}\nconst strokeWidth = 0.4\n\ntype SVG = Selection<BaseType, unknown, HTMLElement, unknown>\n\nconst addDropShadowFilter = ({\n  deviation,\n  id,\n  slope,\n  svg,\n}: {\n  deviation: number\n  id: number\n  slope: number\n  svg: SVG\n}) => {\n  const defs = svg.append(\"defs\")\n  const filter = defs.append(\"filter\").attr(\"id\", `drop-shadow-${id}`)\n\n  filter\n    .append(\"feGaussianBlur\")\n    .attr(\"in\", \"SourceAlpha\")\n    .attr(\"stdDeviation\", deviation)\n\n  filter.append(\"feOffset\").attr(\"dx\", 1).attr(\"dy\", 1)\n  filter\n    .append(\"feComponentTransfer\")\n    .append(\"feFuncA\")\n    .attr(\"slope\", slope)\n    .attr(\"type\", \"linear\")\n\n  const feMerge = filter.append(\"feMerge\")\n\n  feMerge.append(\"feMergeNode\")\n\n  feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\")\n}\n\nexport type AreasData = Topology<Objects<GeoJsonProperties>>\n\nexport type ChartConfig<Properties> = {\n  areasData: AreasData\n  getTitleText: (o: Properties) => string\n  getWidths: (chartWidth: number) => number[]\n  projectionsCenters: Array<[number, number]>\n  rootElId: string\n}\n\nexport const renderChart = <Properties>(\n  chartConfig: ChartConfig<Properties>\n) => {\n  const { areasData, rootElId } = chartConfig\n\n  type DataShape = GeoPermissibleObjects & {\n    areaIndex: number\n    properties: Properties\n  }\n\n  const { width: chartWidth } = (document.getElementById(\n    rootElId\n  ) as HTMLElement).getBoundingClientRect()\n\n  const {\n    objects: { data1: dataRoot },\n  } = areasData\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const { features: dataGeo } = feature(areasData, dataRoot) as any\n\n  const dataGeoParsed = dataGeo.map(\n    (...[areaData, areaIndex]: [DataShape, number]) => ({\n      ...areaData,\n      areaIndex,\n    })\n  )\n\n  const colorScale = scaleLinear()\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    .domain([0, (dataRoot as any).geometries.length])\n    .range([0, 1])\n  const colorScaleConversion = scaleLinear<string>()\n    .domain(range(0, 1, 1.0 / colorsScheme.length))\n    .range(colorsScheme)\n\n  const colorFn = function (areaData: DataShape) {\n    return colorScaleConversion(colorScale(areaData.areaIndex))\n  }\n\n  const svg = select(`#${rootElId}`)\n\n  const generateSvg = function (width: number) {\n    return svg\n      .append(\"div\")\n      .style(\"display\", \"inline-block\")\n      .style(\"height\", `${height + margin.top + margin.bottom}px`)\n      .style(\"width\", `${width}px`)\n      .append(\"svg:svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"svg:g\")\n      .attr(\"transform\", `translate(${width / 2},${height / 2 + margin.top})`)\n  }\n\n  const generatePath = function (projection: GeoProjection) {\n    return geoPath().projection(projection)\n  }\n\n  const regionClass = `region-${uuidv1().slice(0, 6)}`\n\n  const generateAreas = ({\n    filterId,\n    path,\n    svgComp,\n  }: {\n    filterId: number\n    path: GeoPath<SVGPathElement>\n    svgComp: SVG\n  }) => {\n    svgComp\n      .selectAll(\".area\")\n      .data<DataShape>(dataGeoParsed)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", path)\n      .style(\"fill\", colorFn)\n      .style(\"stroke\", \"#FFF\")\n      .style(\"stroke-width\", strokeWidth)\n      .style(\"filter\", () => `url(#drop-shadow-${filterId})`)\n      .on(\"mouseover\", function () {\n        return select(this)\n          .style(\"fill\", \"#FFB61A\")\n          .style(\"stroke-width\", \"1px\")\n      })\n      .on(\"mouseleave\", function () {\n        return select<SVGPathElement, DataShape>(this)\n          .style(\"fill\", colorFn)\n          .style(\"stroke-width\", strokeWidth)\n      })\n      .attr(\"title\", (areaData) =>\n        chartConfig.getTitleText(areaData.properties)\n      )\n      .attr(\"class\", regionClass)\n  }\n\n  const widths = chartConfig.getWidths(chartWidth)\n\n  const generateProjection = (\n    ...[center, centerIndex]: [[number, number], number]\n  ) =>\n    geoMercator()\n      .center(center)\n      .scale(2650)\n      .translate([widths[centerIndex] / 2, height / 2])\n\n  const svgs = widths.map(generateSvg)\n\n  svgs.forEach((...[svgItem, svgItemIndex]) => {\n    addDropShadowFilter({\n      deviation: 2,\n      id: svgItemIndex + 1,\n      slope: 0.3,\n      svg: svgItem,\n    })\n  })\n\n  const projections = chartConfig.projectionsCenters.map(generateProjection)\n  const paths = projections.map(generatePath)\n\n  svgs.forEach((...[svgItem, svgItemIndex]) => {\n    generateAreas({\n      filterId: svgItemIndex + 1,\n      path: paths[svgItemIndex],\n      svgComp: svgItem,\n    })\n  })\n\n  $(`.${regionClass}`).tooltip({\n    track: true,\n  })\n}\n","import { json } from \"d3\"\n\nimport { AreasData, ChartConfig } from \"./spain-map-chart\"\n\nexport type Properties = {\n  ENGTYPE_3: string // e.g. Comarca\n  HASC_3: string\n  ID_0: number\n  ID_1: number\n  ID_2: number\n  ID_3: number\n  ISO: string // e.g. ESP\n  NAME_0: string // e.g. Spain\n  NAME_1: string // e.g. Castilla y Leon\n  NAME_2: string // e.g. Leon\n  NAME_3: string // Sometimes not defined, with 'n.a.'\n  NL_NAME_3: string\n  REMARKS_3: string\n  Shape_Area: number // eslint-disable-line camelcase\n  Shape_Leng: number // eslint-disable-line camelcase\n  TYPE_3: string // e.g. Comarca\n  VALIDFR_3: string\n  VALIDTO_3: string\n}\n\ntype Config = ChartConfig<Properties>\n\nconst getTitleText: Config[\"getTitleText\"] = (areaProperties) =>\n  [\n    (areaProperties.NAME_3 || \"\").includes(\"n.a.\") ? \"\" : areaProperties.NAME_3,\n    areaProperties.NAME_2,\n    areaProperties.NAME_1,\n  ]\n    .filter((v) => !!v)\n    .join(\", \")\n\nconst getWidths: Config[\"getWidths\"] = (chartWidth) => {\n  const widthCanarias = chartWidth / 3.5\n  const widthPeninsula = chartWidth - widthCanarias - 10\n\n  return [widthCanarias, widthPeninsula]\n}\n\nconst projectionsCenters: Config[\"projectionsCenters\"] = [\n  [-13, 23],\n  [10, 35.5],\n]\n\nexport const createChartConfig = (areasData: AreasData): Config => ({\n  areasData,\n  getTitleText,\n  getWidths,\n  projectionsCenters,\n  rootElId: \"chart\",\n})\n\nexport const fetchAreasData = () =>\n  (json(\n    `${ROOT_PATH}data/d3js/spain-map/data.json`\n  ) as unknown) as Promise<AreasData>\n","import { renderChart } from \"./spain-map-chart\"\nimport {\n  Properties,\n  createChartConfig,\n  fetchAreasData,\n} from \"./spain-map-chart-data\"\n\nconst main = async () => {\n  const areasData = await fetchAreasData()\n  const chartConfig = createChartConfig(areasData)\n\n  renderChart<Properties>(chartConfig)\n}\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main from \"@/demos/spain-map/spain-map\"\n\nconst SpainMap = ({ pageContext }: DemoPageProps) => (\n  <Demo\n    links={[\"/vendors/jquery-ui/themes/base/jquery-ui.min.css\"]}\n    main={main}\n    pageContext={pageContext}\n    scripts={[\"/vendors/jquery-ui/jquery-ui.min.js\"]}\n  >\n    <div id=\"chart\" />\n  </Demo>\n)\n\nexport default SpainMap\n"],"sourceRoot":""}