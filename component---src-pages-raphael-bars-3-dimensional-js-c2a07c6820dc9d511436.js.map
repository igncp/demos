{"version":3,"sources":["webpack://demos/./src/demos/bars-3dimensional/bars-3dimensional.js","webpack://demos/./src/pages/raphael/bars-3dimensional.js"],"names":["Raphael","window","require","ch","cb","$","ajax","ROOT_PATH","done","data","results","setData","keys","Object","seriesDisplayed","seriesLength","length","keysLength","forEach","item","dom","els","config","cg","_","extend","colorScheme","deep","easing","heightOffset","ratio","speed","width","paper","i","_i","path","String","attr","fill","stroke","it","se","calcH5","calcH10","calcH0","index","inner","calcInnerPath","outer","calcOuterPath","opacity","el","push","transform","title","animate","bind","e","preventDefault","animateCountries","drawAxis","set","bindClickEvent","createCountries","setCg","setDom","getData","render","ready","demoInfo","pageContext","main","style","marginBottom","textAalign","className","href","id"],"mappings":"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","file":"component---src-pages-raphael-bars-3-dimensional-js-c2a07c6820dc9d511436.js","sourcesContent":["const Raphael = typeof window === \"undefined\" ? null : require(\"raphael\")\n\nconst ch = {}\n\nch.getData = function (cb) {\n  return $.ajax(`${ROOT_PATH}data/raphael/bars-3dimensional/data.json`).done(\n    (data) => {\n      ch.data = data.results\n      ch.setData()\n\n      return cb()\n    }\n  )\n}\n\nch.setData = function () {\n  const { data } = ch\n\n  data.keys = Object.keys(data)\n  data.seriesDisplayed = 0\n  data.seriesLength = data[data.keys[0]].length\n  data.keysLength = data.keys.length\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item] = {}\n  })\n}\n\nch.setCg = function (config) {\n  if (config == null) {\n    config = {}\n  }\n\n  ch.cg = _.extend(\n    {\n      colorScheme: [\"#C1252D\", \"#5F3A5F\", \"#51A8D0\"],\n      deep: 5,\n      easing: \"bounce\",\n      heightOffset: 100,\n      ratio: 0.6,\n      speed: 800,\n      width: $(\"#chart\").width(),\n    },\n    config\n  )\n}\n\nch.setDom = function () {\n  ch.dom = {\n    els: {},\n    paper: Raphael(\"chart\", ch.cg.width, 245),\n  }\n}\n\nch.drawAxis = function () {\n  const { paper } = ch.dom\n  const { deep } = ch.cg\n\n  for (let i = 0, _i = 0; _i <= 3; i = ++_i) {\n    const path = `M5,${String(25 * i)} ${ch.cg.width},${String(\n      ch.cg.heightOffset + i * 25\n    )}`\n\n    paper.path(path).attr({\n      \"stroke-dasharray\": \". \",\n    })\n  }\n\n  return paper\n    .path(\n      `M0,${deep + 100} ${deep},100 ${ch.cg.width},${\n        100 + ch.cg.heightOffset\n      } ${ch.cg.width - deep},${100 + ch.cg.heightOffset + deep}Z`\n    )\n    .attr({\n      fill: \"#999\",\n      stroke: \"none\",\n    })\n}\n\nch.calcH0 = function (it, se) {\n  return 100 - ch.data[it][se]\n}\n\nch.calcH5 = function (it, se) {\n  return 100 - ch.data[it][se] + 5 * ch.cg.ratio\n}\n\nch.calcH10 = function (it, se) {\n  return 100 - ch.data[it][se] + 10 * ch.cg.ratio\n}\n\nch.calcInnerPath = function (it, se) {\n  return (\n    `M0,${ch.calcH5(it, se)} 15,${ch.calcH10(it, se)} ` +\n    `15,${100 + 10 * ch.cg.ratio} 0,${100 + 5 * ch.cg.ratio}Z`\n  )\n}\n\nch.calcOuterPath = function (it, se) {\n  return `M0,${ch.calcH5(it, se)} 5,${ch.calcH0(it, se)} 20,${ch.calcH5(\n    it,\n    se\n  )} 20,${100 + 5 * ch.cg.ratio} 15,${100 + 10 * ch.cg.ratio} 0,${\n    100 + 5 * ch.cg.ratio\n  }Z`\n}\n\nch.createCountries = function (i) {\n  const { data } = ch\n  const { paper } = ch.dom\n\n  return data.keys.forEach((item, index) => {\n    ch.dom.els[item].inner = paper.path(ch.calcInnerPath(item, i))\n    ch.dom.els[item].outer = paper.path(ch.calcOuterPath(item, i)).attr({\n      opacity: \".5\",\n    })\n    ch.dom.els[item].el.push(ch.dom.els[item].inner, ch.dom.els[item].outer)\n    ch.dom.els[item].el.transform(\n      `T ${String((ch.cg.width / data.keysLength) * index)},` +\n        `${String((ch.cg.heightOffset / data.keysLength) * index)}`\n    )\n\n    return ch.dom.els[item].el.attr({\n      fill: \"#C1252D\",\n      stroke: \"none\",\n      title: `${item}: ${data[item][i]}`,\n    })\n  })\n}\n\nch.animateCountries = function (i) {\n  const { data } = ch\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item].inner.animate(\n      {\n        path: ch.calcInnerPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n    ch.dom.els[item].outer.animate(\n      {\n        path: ch.calcOuterPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n\n    return ch.dom.els[item].el.animate(\n      {\n        fill: ch.cg.colorScheme[i],\n      },\n      ch.cg.speed\n    )\n  })\n}\n\nch.bindClickEvent = function () {\n  const { data } = ch\n\n  return $(\".animate-bars\").bind(\"click\", (e) => {\n    e.preventDefault()\n\n    if (data.seriesDisplayed + 1 === data.seriesLength) {\n      data.seriesDisplayed = 0\n    } else {\n      data.seriesDisplayed = data.seriesDisplayed + 1\n    }\n\n    return ch.animateCountries(data.seriesDisplayed)\n  })\n}\n\nch.render = function () {\n  ch.drawAxis()\n  ch.data.keys.forEach((item) => {\n    ch.dom.els[item].el = ch.dom.paper.set()\n  })\n  ch.bindClickEvent()\n\n  return ch.createCountries(ch.data.seriesDisplayed)\n}\n\nch.ready = function () {\n  ch.setCg()\n  ch.setDom()\n\n  return ch.getData(ch.render)\n}\n\nexport default () => {\n  ch.ready()\n}\n","import React from \"react\"\n\nimport Demo from \"@/components/demo\"\n\nimport main from \"@/demos/bars-3dimensional/bars-3dimensional\"\nimport \"@/demos/bars-3dimensional/bars-3dimensional.styl\"\n\nconst Bars3Dimensional = ({ pageContext: { demoInfo } }) => (\n  <Demo demoInfo={demoInfo} main={main}>\n    <div\n      style={{\n        marginBottom: 20,\n        textAalign: \"center\",\n      }}\n    >\n      <a className=\"btn btn-info animate-bars\" href=\"\">\n        Change Series\n      </a>\n    </div>\n    <div className=\"bars-3dimensional-chart\" id=\"chart\" />\n  </Demo>\n)\n\nexport default Bars3Dimensional\n"],"sourceRoot":""}