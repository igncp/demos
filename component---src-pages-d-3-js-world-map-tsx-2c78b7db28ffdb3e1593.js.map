{"version":3,"file":"component---src-pages-d-3-js-world-map-tsx-2c78b7db28ffdb3e1593.js","mappings":"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","sources":["webpack://demos/./node_modules/topojson-client/src/identity.js","webpack://demos/./node_modules/topojson-client/src/feature.js","webpack://demos/./node_modules/topojson-client/src/transform.js","webpack://demos/./node_modules/topojson-client/src/reverse.js","webpack://demos/./src/components/demo-title.tsx","webpack://demos/./src/ui-constants.ts","webpack://demos/./src/utils/getDemoE2ETestFilePath.ts","webpack://demos/./src/components/hooks/useBrowserInitialWidth.ts","webpack://demos/./src/utils/getBrowserWidth.ts","webpack://demos/./src/components/code-fragment.tsx","webpack://demos/./src/components/files-details.tsx","webpack://demos/./src/components/demo.tsx","webpack://demos/./src/components/footer.tsx","webpack://demos/./src/components/page-title.tsx","webpack://demos/./src/components/layout.tsx","webpack://demos/./src/demos/world-map/ui-constants.ts","webpack://demos/./src/demos/world-map/world-map.ts","webpack://demos/./src/pages/d3js/world-map.tsx","webpack://demos/./src/components/styles/styles.module.css","webpack://demos/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["export default function (x) {\n  return x;\n}","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\nexport default function (topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\" ? {\n    type: \"FeatureCollection\",\n    features: o.geometries.map(function (o) {\n      return feature(topology, o);\n    })\n  } : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {\n    type: \"Feature\",\n    properties: properties,\n    geometry: geometry\n  } : bbox == null ? {\n    type: \"Feature\",\n    id: id,\n    properties: properties,\n    geometry: geometry\n  } : {\n    type: \"Feature\",\n    id: id,\n    bbox: bbox,\n    properties: properties,\n    geometry: geometry\n  };\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n\n    for (var i = 0, n = arcs.length; i < n; ++i) {\n      arc(arcs[i], points);\n    }\n\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n\n    while (points.length < 4) {\n      points.push(points[0]);\n    } // This may happen if an arc has only two points.\n\n\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type,\n        coordinates;\n\n    switch (type) {\n      case \"GeometryCollection\":\n        return {\n          type: type,\n          geometries: o.geometries.map(geometry)\n        };\n\n      case \"Point\":\n        coordinates = point(o.coordinates);\n        break;\n\n      case \"MultiPoint\":\n        coordinates = o.coordinates.map(point);\n        break;\n\n      case \"LineString\":\n        coordinates = line(o.arcs);\n        break;\n\n      case \"MultiLineString\":\n        coordinates = o.arcs.map(line);\n        break;\n\n      case \"Polygon\":\n        coordinates = polygon(o.arcs);\n        break;\n\n      case \"MultiPolygon\":\n        coordinates = o.arcs.map(polygon);\n        break;\n\n      default:\n        return null;\n    }\n\n    return {\n      type: type,\n      coordinates: coordinates\n    };\n  }\n\n  return geometry(o);\n}","import identity from \"./identity.js\";\nexport default function (transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function (input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n\n    while (j < n) {\n      output[j] = input[j], ++j;\n    }\n\n    return output;\n  };\n}","export default function (array, n) {\n  var t,\n      j = array.length,\n      i = j - n;\n\n  while (i < --j) {\n    t = array[i], array[i++] = array[j], array[j] = t;\n  }\n}","import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nimport { BACK_HOME_ATTR } from \"@/ui-constants\"\n\ntype Props = {\n  isCompleted: boolean\n  mainSource: string\n  name: string\n}\n\nconst DemoTitle = ({ isCompleted, mainSource, name }: Props) => (\n  <h2 className=\"row\" id={styles.demoTitle}>\n    <span className=\"col-xs-12 col-sm-10 p-0\">\n      <span className={styles.demoName}>{name} Chart </span>\n      <small id={styles.mainSource} title=\"Main Source\">\n        <a href={mainSource} rel=\"noreferrer\" target=\"_blank\">\n          source\n        </a>\n      </small>\n      {!isCompleted && (\n        <small id={styles.demoWip} title=\"This demo is still work in progress\">\n          WIP\n        </small>\n      )}\n    </span>\n    <span\n      className={`col-sm-2 p-0 d-xs-none ${styles.backHome}`}\n      {...{ [BACK_HOME_ATTR]: \"\" }}\n    >\n      <a className=\"btn btn-info\" href={ROOT_PATH} role=\"button\">\n        <span className=\"glyphicon glyphicon-home\" /> Home\n      </a>\n    </span>\n  </h2>\n)\n\nexport default DemoTitle\n","const BACK_HOME_ATTR = \"data-back-home\"\n\nexport { BACK_HOME_ATTR }\n","export const getDemoE2ETestFilePath = (demoName: string) =>\n  `src/demos/${demoName}/tests/${demoName}.e2e.ts`\n","import { useEffect, useState } from \"react\"\n\nimport { getBrowserWidth } from \"@/utils/getBrowserWidth\"\n\nconst useBrowserInitialWidth = () => {\n  const [browserWidth, setBrowserWidth] = useState<number | null>(null)\n\n  useEffect(() => {\n    const browserWidthInitial = getBrowserWidth()\n\n    if (browserWidthInitial !== null) {\n      setBrowserWidth(browserWidthInitial)\n    }\n  }, [])\n\n  return browserWidth\n}\n\nexport default useBrowserInitialWidth\n","export const getBrowserWidth = () => {\n  if (typeof window === \"undefined\") {\n    return null\n  }\n\n  return Math.max(\n    document.body.scrollWidth,\n    document.documentElement.scrollWidth,\n    document.body.offsetWidth,\n    document.documentElement.offsetWidth,\n    document.documentElement.clientWidth\n  )\n}\n","import React, { useState } from \"react\"\n\nimport useBrowserInitialWidth from \"@/components/hooks/useBrowserInitialWidth\"\n\nimport * as styles from \"./styles/styles.module.css\"\n\ntype Props = { content: string }\n\nconst CodeFragment = ({ content }: Props) => {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const browserWidth = useBrowserInitialWidth()\n\n  if (browserWidth === null) {\n    return null\n  }\n\n  if (!browserWidth || (browserWidth < 1280 && !isExpanded)) {\n    return (\n      <div className={styles.codeFragment}>\n        <button\n          className={`${styles.codeFragmentButton} btn btn-light`}\n          onClick={() => setIsExpanded(true)}\n          type=\"button\"\n        >\n          Show Code\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <pre>\n      <code\n        dangerouslySetInnerHTML={{\n          __html: content,\n        }}\n      />\n    </pre>\n  )\n}\n\nexport default CodeFragment\n","import \"prismjs/themes/prism-coy.css\"\nimport React from \"react\"\n\nimport { DemoInfo } from \"@/common\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nimport { getDemoE2ETestFilePath } from \"@/utils/getDemoE2ETestFilePath\"\n\nimport CodeFragment from \"./code-fragment\"\n\nconst CodeInGH = ({ filePath }: { filePath: string }) => (\n  <>\n    <span>| </span>\n    <a\n      href={`https://github.com/igncp/demos/blob/main/${filePath}`}\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    >\n      Code in Github\n    </a>\n  </>\n)\nconst CoverageReport = ({ filePath }: { filePath: string }) => (\n  <>\n    <span>| </span>\n    <a\n      href={`https://igncp.github.io/demos/coverage-ts/files/${filePath}.html`}\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    >\n      TypeScript coverage report\n    </a>\n  </>\n)\n\ntype Props = {\n  demoInfo: DemoInfo\n}\n\nconst FilesDetails = ({ demoInfo }: Props) => {\n  if (typeof window === \"undefined\") {\n    return null\n  }\n\n  const pageFilePath = `pages/${demoInfo.category}/${demoInfo.key}.${demoInfo.files.page.type}`\n\n  return (\n    <div>\n      {!!demoInfo.notes.length && (\n        <div className={`bs-callout bs-callout-info${styles.notes}`}>\n          <p>\n            <strong>Notes:</strong>\n          </p>\n          <ul>\n            {demoInfo.notes.map((...[note, noteIndex]) => (\n              <li dangerouslySetInnerHTML={{ __html: note }} key={noteIndex} />\n            ))}\n          </ul>\n        </div>\n      )}\n      {!!demoInfo.summary.length && (\n        <div className={`bs-callout bs-callout-summary ${styles.notes}`}>\n          <p>\n            <strong>Implementation Summary:</strong>\n          </p>\n          <ul>\n            {demoInfo.summary.map((...[summaryLine, summaryIndex]) => (\n              <p\n                dangerouslySetInnerHTML={{ __html: summaryLine }}\n                key={summaryIndex}\n              />\n            ))}\n          </ul>\n        </div>\n      )}\n      <div className=\"bs-callout bs-callout-primary\" id={styles.sourcesList}>\n        <p>\n          <strong>Sources:</strong>\n        </p>\n        <ul>\n          {demoInfo.sources.map((...[source, sourceIndex]) => (\n            <li key={sourceIndex}>\n              <span className={styles.sourceNumber}>[{sourceIndex + 1}]</span>:{\" \"}\n              <a href={source}>{source}</a>\n            </li>\n          ))}\n        </ul>\n      </div>\n      {!!demoInfo.docs.length && (\n        <div className=\"bs-callout bs-callout-secondary\" id=\"docs\">\n          <p>\n            <strong>Docs:</strong>\n          </p>\n          <div className={styles.tagCollection}>\n            {demoInfo.docs.map((doc) => (\n              <span className={styles.tag} key={doc[1]}>\n                <a href={doc[1]} rel=\"noreferrer\" target=\"_blank\">\n                  {doc[0]}\n                </a>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n      {!!demoInfo.dataFiles.length && (\n        <div className=\"bs-callout bs-callout-warning\" id={styles.dataList}>\n          <p>\n            <strong>Data files: </strong>\n            {demoInfo.dataFiles.map((...[file, fileIndex]) => (\n              <a\n                href={`${ROOT_PATH}data/${demoInfo.category}/${demoInfo.key}/${file}`}\n                key={fileIndex}\n              >\n                {file}\n              </a>\n            ))}\n          </p>\n        </div>\n      )}\n      <div className=\"bs-callout bs-callout-success\" id=\"code\">\n        <p>\n          <strong>Code:</strong>\n        </p>\n        <ul>\n          {demoInfo.files.demoTS.map(\n            (...[{ content, filePath }, fileIndex]) => (\n              <li key={filePath}>\n                <p>\n                  <span className={styles.fileNameWrapper}>{filePath}</span>{\" \"}\n                  <CodeInGH filePath={filePath} />{\" \"}\n                  <CoverageReport filePath={filePath} />\n                  {fileIndex === 0 && (\n                    <>\n                      <span> | </span>\n                      <a\n                        href={`https://github.com/igncp/demos/blob/main/${getDemoE2ETestFilePath(\n                          demoInfo.key\n                        )}`}\n                        rel=\"noreferrer\"\n                        target=\"_blank\"\n                      >\n                        E2E tests\n                      </a>\n                    </>\n                  )}\n                </p>\n                <CodeFragment content={content} />\n                <div className={styles.divisor} />\n              </li>\n            )\n          )}\n          <li>\n            <p>\n              <span className={styles.fileNameWrapper}>{pageFilePath}</span>{\" \"}\n              <CodeInGH filePath={pageFilePath} />{\" \"}\n              <CoverageReport filePath={pageFilePath} />\n            </p>\n            <CodeFragment content={demoInfo.files.page.content} />\n            {!!demoInfo.files.demoCSS.length && (\n              <div className={styles.divisor} />\n            )}\n          </li>\n          {demoInfo.files.demoCSS.map(\n            (...[{ content, filePath }, cssIndex]) => (\n              <li key={filePath}>\n                <p>\n                  <span className={styles.fileNameWrapper}>{filePath}</span>{\" \"}\n                  {(() => (\n                    <CodeInGH filePath={filePath} />\n                  ))()}\n                </p>\n                <CodeFragment content={content} />\n                {cssIndex !== demoInfo.files.demoCSS.length - 1 && (\n                  <div className={styles.divisor} />\n                )}\n              </li>\n            )\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default FilesDetails\n","import React, { useEffect } from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport DemoTitle from \"./demo-title\"\nimport FilesDetails from \"./files-details\"\nimport Layout from \"./layout\"\n\nconst parsePath = (str: string) =>\n  str[0] === \"/\" ? ROOT_PATH + str.replace(/^\\//, \"\") : str\n\ntype Props = {\n  children: React.ReactNode\n  links?: string[]\n  main: () => Promise<void>\n  pageContext: DemoPageProps[\"pageContext\"]\n  scripts?: string[]\n}\n\nconst Demo = ({\n  main,\n  children,\n  scripts = [],\n  links = [],\n  pageContext,\n}: Props) => {\n  const { demoInfo, meta } = pageContext\n  const { isCompleted, name, sources } = demoInfo\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return\n    }\n\n    main().catch((mainError) => {\n      // eslint-disable-next-line no-console\n      console.error(\"error:\", mainError)\n    })\n  }, [])\n\n  return (\n    <Layout>\n      <Helmet\n        link={(process.env.NODE_ENV === \"production\" ? links : []).map(\n          (href) => ({\n            href: parsePath(href),\n            rel: \"stylesheet\",\n            type: \"text/css\",\n          })\n        )}\n        meta={[\n          {\n            content: meta.description,\n            name: \"description\",\n          },\n        ]}\n        script={(process.env.NODE_ENV === \"production\" ? scripts : []).map(\n          (src) => ({\n            src: parsePath(src),\n            type: \"text/javascript\",\n          })\n        )}\n        title={`${demoInfo.name} | Demos igncp`}\n      />\n      <DemoTitle\n        isCompleted={isCompleted}\n        mainSource={sources[0]}\n        name={name}\n      />\n      {children}\n      <FilesDetails demoInfo={demoInfo} />\n    </Layout>\n  )\n}\n\nexport default Demo\n","import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nconst Footer = () => (\n  <div className={styles.footer}>\n    <p>{new Date().getFullYear()}</p>\n  </div>\n)\n\nexport default Footer\n","import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nconst PageTitle = () => (\n  <div className={styles.pageHeader}>\n    <h1>\n      <span className={styles.titleWrapper}>\n        <a href={ROOT_PATH}>Demos</a>{\" \"}\n        <small className=\"hide-tablet\">\n          interactive data visualization examples\n        </small>\n      </span>\n      <span id={styles.ghButtons}>\n        <iframe\n          className=\"hide-mobile\"\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=follow\"\n          width=\"119\"\n        />\n        <iframe\n          className=\"hide-mobile\"\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=fork\"\n          width=\"62\"\n        />\n        <iframe\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=watch\"\n          width=\"52\"\n        />\n      </span>\n    </h1>\n  </div>\n)\n\nexport default PageTitle\n","import React from \"react\"\n\nimport Footer from \"./footer\"\nimport PageTitle from \"./page-title\"\nimport \"./styles/styles.css\"\nimport * as styles from \"./styles/styles.module.css\"\n\ntype Props = {\n  children: React.ReactNode\n}\n\nconst Layout = ({ children }: Props) => (\n  <div className={`${styles.rootLayout} px-3 px-sm-5`}>\n    <div className={styles.navWrapper}>\n      <PageTitle />\n    </div>\n    <div className={styles.contentWrapper}>{children}</div>\n    <div className={styles.footerWrapper}>\n      <Footer />\n    </div>\n  </div>\n)\n\nexport default Layout\n","const CONTAINER_ID = \"chart\"\nconst COUNTRY_CLASS = \"world-map-country\"\nconst UPDATE_BUTTON_ID = \"update-colors\"\nconst COLOR_FNS_NUM = 5\n\nexport { COLOR_FNS_NUM, CONTAINER_ID, COUNTRY_CLASS, UPDATE_BUTTON_ID }\n","import {\n  D3DragEvent,\n  GeoPath,\n  GeoPermissibleObjects,\n  Selection,\n  drag as dragD3,\n  geoMercator,\n  geoPath,\n  interpolateBlues,\n  interpolateRdYlGn,\n  interpolateSpectral,\n  interpolateTurbo,\n  interpolateViridis,\n  json,\n  scaleLinear,\n  select,\n} from \"d3\"\nimport { feature } from \"topojson-client\"\n\nimport {\n  COLOR_FNS_NUM,\n  CONTAINER_ID,\n  COUNTRY_CLASS,\n  UPDATE_BUTTON_ID,\n} from \"./ui-constants\"\n\ntype CountryData = GeoPermissibleObjects & {\n  id: number\n}\n\nconst fetchData = () => json(`${ROOT_PATH}data/d3js/world-map/world.json`)\n\nconst transitionDuration = 1500\n\ntype WorldData = any // eslint-disable-line @typescript-eslint/no-explicit-any\n\ntype ChartConfig = {\n  rootElId: string\n  world: WorldData\n}\n\ntype Bounds = [[number, number], [number, number]]\n\nconst calculateBounds = ({\n  featuresData,\n  projectionPath,\n}: {\n  featuresData: any[] // eslint-disable-line @typescript-eslint/no-explicit-any\n  projectionPath: GeoPath\n}) =>\n  featuresData.reduce<Bounds>(\n    (...[acc, featureData]) => {\n      const dataBounds = projectionPath.bounds(featureData)\n\n      acc[0][0] = Math.min(acc[0][0], dataBounds[0][0])\n      acc[0][1] = Math.min(acc[0][1], dataBounds[0][1])\n      acc[1][0] = Math.max(acc[1][0], dataBounds[1][0])\n      acc[1][1] = Math.max(acc[1][1], dataBounds[1][1])\n\n      return acc\n    },\n    [\n      [Infinity, Infinity],\n      [-Infinity, -Infinity],\n    ]\n  )\n\nconst boundDrag = ({\n  bounds,\n  dragPoint,\n  height,\n  width,\n}: {\n  bounds: Bounds\n  dragPoint: { draggedX: number; draggedY: number }\n  height: number\n  width: number\n}) => {\n  if (dragPoint.draggedX * -1 < bounds[0][0]) {\n    dragPoint.draggedX = bounds[0][0] * -1\n  } else if (dragPoint.draggedX * -1 > bounds[1][0] - width) {\n    dragPoint.draggedX = (bounds[1][0] - width) * -1\n  }\n\n  if (dragPoint.draggedY * -1 < bounds[0][1]) {\n    dragPoint.draggedY = bounds[0][1] * -1\n  } else if (dragPoint.draggedY * -1 > bounds[1][1] - height) {\n    dragPoint.draggedY = (bounds[1][1] - height) * -1\n  }\n}\n\ntype ChartElements = Readonly<{\n  backgroundSel: Selection<SVGRectElement, unknown, HTMLElement, unknown>\n  contentSel: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  svgDragSel: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  svgSel: Selection<SVGSVGElement, unknown, HTMLElement, unknown>\n}>\n\nconst addDropShadowFilter = ({\n  deviation,\n  slope,\n  svg,\n}: {\n  deviation: number\n  slope: number\n  svg: Selection<SVGSVGElement, unknown, HTMLElement, unknown>\n}) => {\n  const defs = svg.append(\"defs\")\n  const filter = defs.append(\"filter\").attr(\"id\", `drop-shadow`)\n\n  filter\n    .append(\"feGaussianBlur\")\n    .attr(\"in\", \"SourceAlpha\")\n    .attr(\"stdDeviation\", deviation)\n\n  filter.append(\"feOffset\").attr(\"dx\", 1).attr(\"dy\", 1)\n  filter\n    .append(\"feComponentTransfer\")\n    .append(\"feFuncA\")\n    .attr(\"slope\", slope)\n    .attr(\"type\", \"linear\")\n\n  const feMerge = filter.append(\"feMerge\")\n\n  feMerge.append(\"feMergeNode\")\n\n  feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\")\n}\n\nconst colorFns = [\n  interpolateRdYlGn,\n  interpolateSpectral,\n  interpolateBlues,\n  interpolateViridis,\n  interpolateTurbo,\n]\n\nif (colorFns.length !== COLOR_FNS_NUM) {\n  throw new Error(`Expected ${COLOR_FNS_NUM} color functions`)\n}\n\nclass WorldMap {\n  private readonly config: ChartConfig\n  private readonly state: {\n    colorFnIndex: number\n    draggedX: number\n    draggedY: number\n    lastZoomId: number | null\n  } = {\n    colorFnIndex: 0,\n    draggedX: 0,\n    draggedY: 0,\n    lastZoomId: null,\n  }\n\n  private dimensions!: {\n    height: number\n    width: number\n  }\n\n  private projectionPath!: GeoPath\n  private bounds!: Bounds\n\n  private readonly elements: ChartElements\n\n  public constructor(config: ChartConfig) {\n    this.config = config\n\n    const {\n      config: { rootElId },\n    } = this\n\n    const svgSel = select(`#${rootElId}`).append(\"svg\")\n    const svgDragSel = svgSel.append(\"g\")\n    const backgroundSel = svgDragSel\n      .append(\"rect\")\n      .attr(\"class\", \"background\")\n      .style(\"fill\", \"#daedff\")\n    const contentSel = svgDragSel.append(\"g\")\n\n    addDropShadowFilter({\n      deviation: 2,\n      slope: 0.5,\n      svg: svgSel,\n    })\n\n    this.elements = {\n      backgroundSel,\n      contentSel,\n      svgDragSel,\n      svgSel,\n    }\n\n    this.render()\n    this.setupDrag()\n\n    window.addEventListener(\"resize\", this.handleWindowResize)\n  }\n\n  public teardown() {\n    window.removeEventListener(\"resize\", this.handleWindowResize)\n  }\n\n  public updateColors() {\n    this.state.colorFnIndex += 1\n\n    if (this.state.colorFnIndex >= colorFns.length) {\n      this.state.colorFnIndex = 0\n    }\n\n    this.render()\n  }\n\n  private setDimensions() {\n    const {\n      config: { rootElId },\n    } = this\n    const { width } = (\n      document.getElementById(rootElId) as HTMLElement\n    ).getBoundingClientRect()\n    const height = 500\n\n    this.dimensions = {\n      height,\n      width,\n    }\n  }\n\n  private render() {\n    const {\n      config: { world },\n      elements: { backgroundSel, svgSel },\n    } = this\n\n    this.setDimensions()\n\n    const {\n      dimensions: { height, width },\n    } = this\n    const projection = geoMercator()\n      .center([0, 45.4])\n      .scale(Math.max((150 * width) / 750, 140))\n      .translate([width / 2, height / 2])\n\n    this.projectionPath = geoPath().projection(projection)\n\n    const { features: featuresData } = feature(\n      world,\n      world.objects.countries\n    ) as any // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    this.bounds = calculateBounds({\n      featuresData,\n      projectionPath: this.projectionPath,\n    })\n\n    const colorScale = scaleLinear()\n      .domain([0, featuresData.length - 1])\n      .range([0, 1])\n\n    const colorFn = (...[, countryIndex]: [unknown, number]) =>\n      colorFns[this.state.colorFnIndex](colorScale(countryIndex))\n\n    svgSel.attr(\"width\", width).attr(\"height\", height)\n\n    const backgroundSize = 100_000\n\n    backgroundSel\n      .on(\"click\", this.setZoom as any) // eslint-disable-line @typescript-eslint/no-explicit-any\n      .attr(\"height\", backgroundSize)\n      .attr(\"width\", backgroundSize)\n      .attr(\n        \"transform\",\n        `translate(${Math.min(0, (backgroundSize - width) / -2)}, ${Math.min(\n          0,\n          (backgroundSize - height) / -2\n        )})`\n      )\n\n    const countriesUpdateSel =\n      this.getCountriesSel().data<CountryData>(featuresData)\n\n    const countriesStrokeWidth = \"1px\"\n\n    countriesUpdateSel.exit().remove()\n    countriesUpdateSel\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", COUNTRY_CLASS)\n      .style(\"stroke\", \"#fff\")\n      .style(\"stroke-width\", countriesStrokeWidth)\n      .attr(\"filter\", \"url(#drop-shadow)\")\n\n    const countriesSel = this.getCountriesSel()\n      .attr(\"d\", this.projectionPath)\n      .style(\"fill\", colorFn)\n      .on(\"mouseenter\", function handleCountryMouseEnter() {\n        select(this)\n          .attr(\"filter\", \"url(#drop-shadow)\")\n          .style(\"stroke-width\", \"2px\")\n      })\n      .on(\"mouseleave\", () => {\n        countriesSel\n          .attr(\"filter\", \"url(#drop-shadow)\")\n          .style(\"stroke-width\", countriesStrokeWidth)\n      })\n      .on(\"click\", this.setZoom)\n\n    this.updateDrag()\n  }\n\n  private getCountriesSel() {\n    return this.elements.contentSel.selectAll<SVGPathElement, CountryData>(\n      `.${COUNTRY_CLASS}`\n    )\n  }\n\n  private updateDrag() {\n    const {\n      bounds,\n      dimensions: { height, width },\n      elements: { svgDragSel },\n    } = this\n\n    boundDrag({\n      bounds,\n      dragPoint: this.state,\n      height,\n      width,\n    })\n\n    svgDragSel.attr(\n      \"transform\",\n      `translate(${this.state.draggedX},${this.state.draggedY})`\n    )\n  }\n\n  private setupDrag() {\n    const {\n      elements: { svgSel },\n    } = this\n\n    const dragHandler = (\n      dragEvent: D3DragEvent<SVGSVGElement, unknown, unknown>\n    ) => {\n      this.state.draggedX += dragEvent.dx\n      this.state.draggedY += dragEvent.dy\n\n      this.updateDrag()\n    }\n\n    const dragBehavior = dragD3<SVGSVGElement, unknown>().on(\n      \"drag\",\n      dragHandler\n    )\n\n    svgSel.style(\"cursor\", \"move\").call(dragBehavior).on(\"drag\", dragHandler)\n  }\n\n  private readonly setZoom = (...[, countryData]: [unknown, CountryData]) => {\n    const {\n      dimensions: { height, width },\n    } = this\n    const countriesSel = this.getCountriesSel()\n\n    if (!(countryData as unknown) || this.state.lastZoomId === countryData.id) {\n      this.state.lastZoomId = null\n\n      countriesSel\n        .transition()\n        .duration(transitionDuration)\n        .attr(\n          \"transform\",\n          `translate(${width / 2},${height / 2})scale(${1})translate(${\n            -width / 2\n          },${-height / 2})`\n        )\n\n      return\n    }\n\n    this.state.lastZoomId = countryData.id\n\n    const centroid = this.projectionPath.centroid(countryData)\n\n    const x = centroid[0]\n    const y = centroid[1]\n\n    countriesSel\n      .transition()\n      .duration(transitionDuration)\n      .attr(\n        \"transform\",\n        `translate(${width / 2},${height / 2})scale(${8})translate(${-x},${-y})`\n      )\n  }\n\n  private readonly handleWindowResize = () => {\n    this.render()\n  }\n}\n\nconst main = async () => {\n  const world = await fetchData()\n\n  const worldMap = new WorldMap({\n    rootElId: CONTAINER_ID,\n    world,\n  })\n\n  document.getElementById(UPDATE_BUTTON_ID)?.addEventListener(\"click\", () => {\n    worldMap.updateColors()\n  })\n}\n\nexport { CONTAINER_ID, UPDATE_BUTTON_ID }\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main, {\n  CONTAINER_ID,\n  UPDATE_BUTTON_ID,\n} from \"@/demos/world-map/world-map\"\n\nconst WorldMap = ({ pageContext }: DemoPageProps) => (\n  <Demo main={main} pageContext={pageContext}>\n    <form style={{ marginBottom: 20 }}>\n      <button className=\"btn btn-info\" id={UPDATE_BUTTON_ID} type=\"button\">\n        Update colors\n      </button>\n    </form>\n    <div id={CONTAINER_ID} />\n  </Demo>\n)\n\nexport default WorldMap\n","// extracted by mini-css-extract-plugin\nexport var backHome = \"styles-module--backHome--b9e05\";\nexport var bullet = \"styles-module--bullet--337e0\";\nexport var d3js = \"styles-module--d3js--ff3aa\";\nexport var raphael = \"styles-module--raphael--40af0\";\nexport var storybook = \"styles-module--storybook--f1bcc\";\nexport var testing = \"styles-module--testing--9f8b3\";\nexport var codeFragment = \"styles-module--codeFragment--8d705\";\nexport var codeFragmentButton = \"styles-module--codeFragmentButton--98bc0\";\nexport var contentWrapper = \"styles-module--contentWrapper--2c2b6\";\nexport var demoName = \"styles-module--demoName--4057d\";\nexport var divisor = \"styles-module--divisor--4c75d\";\nexport var fileNameWrapper = \"styles-module--fileNameWrapper--e0bd4\";\nexport var footer = \"styles-module--footer--a0f96\";\nexport var footerWrapper = \"styles-module--footerWrapper--5365d\";\nexport var homeDemoNumber = \"styles-module--homeDemoNumber--755fe\";\nexport var homeDemoNameLink = \"styles-module--homeDemoNameLink--4b57a\";\nexport var listGroup = \"styles-module--listGroup--88893\";\nexport var navWrapper = \"styles-module--navWrapper--08cc9\";\nexport var notes = \"styles-module--notes--e1c07\";\nexport var rootLayout = \"styles-module--rootLayout--03362\";\nexport var sourceNumber = \"styles-module--sourceNumber--335c1\";\nexport var pageHeader = \"styles-module--pageHeader--06484\";\nexport var titleWrapper = \"styles-module--titleWrapper--81a79\";\nexport var rowWrapper = \"styles-module--rowWrapper--9f3a4\";\nexport var tagCollection = \"styles-module--tagCollection--c96c8\";\nexport var tag = \"styles-module--tag--8c674\";\nexport var demosLegend = \"styles-module--demosLegend--16d25\";\nexport var demosLists = \"styles-module--demosLists--52492\";\nexport var highlightStorybook = \"styles-module--highlightStorybook--b465e\";\nexport var highlightTesting = \"styles-module--highlightTesting--b7d3f\";\nexport var demoWip = \"styles-module--demoWip--18449\";\nexport var demoTitle = \"styles-module--demoTitle--7c73a\";\nexport var mainSource = \"styles-module--mainSource--f7ebb\";\nexport var dataList = \"styles-module--dataList--54f77\";\nexport var sourcesList = \"styles-module--sourcesList--27e91\";\nexport var ghButtons = \"styles-module--ghButtons--1d466\";","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["x","topology","o","objects","type","features","geometries","map","id","bbox","properties","geometry","transformPoint","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","arcs","arc","points","pop","a","k","push","array","t","reverse","point","p","line","ring","polygon","coordinates","object","isCompleted","mainSource","name","className","styles","title","href","rel","target","ROOT_PATH","role","getDemoE2ETestFilePath","demoName","useState","browserWidth","setBrowserWidth","useEffect","browserWidthInitial","window","Math","max","document","body","scrollWidth","documentElement","offsetWidth","clientWidth","content","isExpanded","setIsExpanded","useBrowserInitialWidth","onClick","dangerouslySetInnerHTML","__html","CodeInGH","filePath","CoverageReport","demoInfo","pageFilePath","category","key","files","page","notes","note","noteIndex","summary","summaryLine","summaryIndex","sources","source","sourceIndex","docs","doc","dataFiles","file","fileIndex","demoTS","demoCSS","cssIndex","parsePath","str","replace","main","children","scripts","links","pageContext","meta","catch","mainError","console","error","Helmet","link","description","script","src","Date","getFullYear","frameBorder","height","scrolling","width","CONTAINER_ID","COUNTRY_CLASS","UPDATE_BUTTON_ID","transitionDuration","colorFns","interpolateRdYlGn","interpolateSpectral","interpolateBlues","interpolateViridis","interpolateTurbo","Error","WorldMap","config","state","colorFnIndex","draggedX","draggedY","lastZoomId","setZoom","countryData","dimensions","countriesSel","getCountriesSel","transition","duration","attr","centroid","projectionPath","y","handleWindowResize","render","this","rootElId","svgSel","select","append","svgDragSel","backgroundSel","style","contentSel","deviation","slope","filter","svg","feMerge","addDropShadowFilter","elements","setupDrag","addEventListener","teardown","removeEventListener","updateColors","setDimensions","getElementById","getBoundingClientRect","world","projection","geoMercator","center","geoPath","featuresData","feature","countries","bounds","reduce","acc","featureData","dataBounds","min","Infinity","calculateBounds","colorScale","scaleLinear","domain","range","backgroundSize","on","countriesUpdateSel","data","exit","remove","enter","countryIndex","updateDrag","selectAll","dragPoint","boundDrag","dragHandler","dragEvent","dragBehavior","dragD3","call","json","worldMap","marginBottom","backHome","bullet","d3js","raphael","storybook","testing","codeFragment","codeFragmentButton","contentWrapper","divisor","fileNameWrapper","footer","footerWrapper","homeDemoNumber","homeDemoNameLink","listGroup","navWrapper","rootLayout","sourceNumber","pageHeader","titleWrapper","rowWrapper","tagCollection","tag","demosLegend","demosLists","highlightStorybook","highlightTesting","demoWip","demoTitle","dataList","sourcesList","ghButtons","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined"],"sourceRoot":""}