(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[189],{1146:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return x}});var a=r(7294),n=r(4275),o=r(2137),i=r(7757),l=r.n(i),u=r(7723),s=r(2149),c="area-module--axis--3OeLF",p=function(t){var e=t.areaPoints,r=t.rootElId,a=document.getElementById(r).getBoundingClientRect().width,n=a<500,o=50,i=n?50:70,l=n?10:50,p=50,d=400-p-o,m=a-i-l,f=(0,u.Ys)("#"+r).append("svg").attr("height",d+p+o).attr("width",m+i+l).append("g").attr("transform","translate("+i+","+p+")").attr("class","area-module--areaChart--18U7a");f.append("text").attr("class","area-module--chartTitle--2vijK").attr("text-anchor","middle").attr("transform","translate("+m/2+","+"-15)").text(t.getChartTitle()).style("font-weight","bold"),function(t){var e=t.deviation,r=t.id,a=t.slope,n=t.svg.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+r).attr("width","500%").attr("x","-200%").attr("y","-200%");n.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",e),n.append("feOffset").attr("dx",1).attr("dy",1),n.append("feComponentTransfer").append("feFuncA").attr("slope",a).attr("type","linear");var o=n.append("feMerge");o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")}({deviation:2,id:"points",slope:.5,svg:f});var g=(0,u.Fp7)(e,t.getItemXValue),v=(0,u.VV$)(e,t.getItemXValue),h=(0,u.Fp7)(e,t.getItemYValue),y=(0,u.VV$)(e,t.getItemYValue),I=(0,u.BYU)().domain([v,g]).range([0,m]),x=(0,u.BYU)().domain([h+.05,y-.05]).range([0,d]),w=function(e){return I(t.getItemXValue(e))},V=function(e){return x(t.getItemYValue(e))},k=n?(0,u.aE8)().domain([0,500]).range(Array.from({length:6}).map((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=e[1];return a})))(a):null,Y=(0,u.LLu)(I).tickFormat((0,u.WUZ)(".0f")).ticks(k),b=(0,u.y4O)(x).tickFormat((0,u.WUZ)(".0%")).tickSize(10);f.append("g").attr("class","area-module--x--3vSV5 "+c).attr("transform","translate(0,"+d+")").call(Y).selectAll("text").attr("dy","1.25em"),f.append("g").attr("class","area-module--y--3xyOd "+c).call(b).selectAll("text").attr("dx","-.25em");var A=(0,u.SOn)().x(w).y0(d).y1(V),C=(0,u.jvg)().x(w).y(V);f.append("path").datum(e).attr("class","area-module--line--2fHic").attr("d",C).attr("clip-path","url(#clip)"),f.append("clipPath").attr("id","clip").append("rect").attr("height",d).attr("width",m),f.append("path").datum(e).attr("class","area-module--area--1qZz_").attr("d",A).attr("clip-path","url(#clip)");var E=s.Z.from(e,w,V).voronoi([-i,-p,m+l,d+o]);f.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+w(t)+","+V(t)+")"})).attr("r","5px").attr("class",(function(e){return"area-module--point--29v1- point-"+t.getItemId(e)})).style("filter","url(#drop-shadow-points)");var j=f.append("g").attr("class","area-module--voronoi--1NIYY");return j.selectAll("path").data(e).enter().append("path").attr("d",(function(e){return E.renderCell(t.getItemId(e))})).on("mouseover",(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var n=r[1];(0,u.Ys)(".point-"+t.getItemId(n)).style("display","block")})).on("mouseleave",(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var n=r[1];(0,u.Ys)(".point-"+t.getItemId(n)).style("display","none")})).attr("class","voronoi-group").attr("title",t.getItemTitle),$(".voronoi-group").tooltip({track:!0}),{toggleVoronoi:function(){var t=j.attr("class"),e="area-module--showVoronoi--1QHCR",r=t.includes(e)?t.replace(e,"").trim():t+" "+e;j.attr("class",r)}}},d=function(){var t=(0,o.Z)(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.gyn)("/demos/data/d3js/area/data.csv");case 2:return e=t.sent,t.abrupt("return",e.map((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=e[0],n=e[1];return Object.assign({},a,{pointIndex:n})})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(t){return t.year},f=function(t){return t.percent/100},g=function(t){return t.pointIndex},v=function(t){return"Year: "+t.year+", Percent: "+t.percent+"%"},h=function(){return"Share of top decile [aka top 10%] in national income"},y=function(t){return{areaPoints:t,getChartTitle:h,getItemId:g,getItemTitle:v,getItemXValue:m,getItemYValue:f,rootElId:"chart"}},I=function(){var t=(0,o.Z)(l().mark((function t(){var e,r,a,n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:e=t.sent,r=y(e),a=p(r),n=a.toggleVoronoi,document.getElementById("toggle-voronoi").addEventListener("click",(function(t){t.preventDefault(),n()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(t){var e=t.pageContext;return a.createElement(n.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:I,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},a.createElement("form",null,a.createElement("button",{className:"btn btn-info",id:"toggle-voronoi",type:"button"},"Toggle Voronoi")),a.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-tsx-8cf1f40fde872bb3a542.js.map