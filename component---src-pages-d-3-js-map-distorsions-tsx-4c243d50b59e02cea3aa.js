"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[640],{5052:function(t,e,n){n.r(e),n.d(e,{default:function(){return U}});var a,r,s=n(7294),o=n(6126),i=n(4275),l=n(8634),c=n(2656),d=n.n(c),u=n(5221),p=n(2203),m="map-distorsions-module--background--bd031",f="map-distorsions-module--foreground--c78ab",h="map-distorsions-module--axis--cd688",g="map-distorsions-module--title--9d8e9",v="map-distorsions-module--inactive--dc4a0",y="map-distorsions-module--active--8e5d5",A="chart",w=function(t){return t.length>20?t.slice(0,20)+"...":t},b=20,x=200,C=40,k=90,B=750-k-b,N=["#7C7CC9","#429742","#63BD28","#D14141"],S="Comparison of 41 map projections by four different types of distortion. Lower is better.";!function(t){t.Acc40="Acc. 40ยบ 150%",t.Angular="Angular",t.Areal="Areal",t.Scale="Scale"}(a||(a={})),function(t){t.Number="number",t.String="string"}(r||(r={}));var Y=function(t){var e=[a.Acc40,a.Scale,a.Areal,a.Angular].map((function(e){return Number(t[e]).toFixed(2)+" ("+e+")"}));return t.name+": "+e.join(", ")},E=function(t){var e=t.mapsDistorsions,n=t.rootElId,s=document.getElementById(n);s.classList.add("map-distorsions-module--mapDistorsionsChart--5416d");var o=s.getBoundingClientRect().width-x-C,i=[{name:"name",scale:(0,u.q2y)().range([0,B]),type:r.String},{name:a.Acc40,scale:(0,u.BYU)().range([0,B]),type:r.Number},{name:a.Scale,scale:(0,u.BYU)().range([B,0]),type:r.Number},{name:a.Areal,scale:(0,u.PUr)().range([B,0]),type:r.Number},{name:a.Angular,scale:(0,u.BYU)().range([B,0]),type:r.Number}],l=(0,u.Ys)("#"+n).append("svg").attr("height",B+k+b).attr("width",o+x+C).append("g").attr("transform","translate("+x+","+k+")");l.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+o/2+",-60)").text(S).style("font-weight","bold");var c,d,A,E,D,O=(0,u.q2y)().domain(i.map((function(t){return t.name}))).range([0,o]),U=(0,u.jvg)().defined((function(t){return!isNaN(t[1])})),j=l.selectAll(".dimension").data(i).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+O(t.name)+")"}));d=(c={deviation:2,id:"lines",slope:.4,svg:l}).deviation,A=c.id,E=c.slope,(D=c.svg.append("defs").append("filter").attr("id","drop-shadow-"+A)).append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),D.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",d),D.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),D.append("feComponentTransfer").append("feFuncA").attr("slope",E).attr("type","linear");var I,q,G,H=e.slice(0).sort((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0].name,r=e[1].name;return a===r?0:a<r?-1:1})),L=(I=[0,H.length-1],q=(0,u.BYU)().domain(I).range([0,1]),G=(0,u.BYU)().domain((0,u.w6H)(0,1,1/N.length)).range(N),function(t){return G(q(t))});i.forEach((function(t){return t.scale.domain(t.type===r.Number?(0,u.Wem)(H,(function(e){return+e[t.name]})):H.map((function(e){var n=e[t.name];return w(n)})).sort())}));var T=function(t){var e=i.map((function(e){var n=t[e.name];return[O(e.name),e.scale("string"==typeof n?w(n):n)]}));return U(e)};l.append("g").attr("class",m).selectAll("path").data(H).enter().append("path").attr("d",T).style("cursor","pointer").attr("title",Y).on("click",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];window.open("https://www.google.com/search?"+p.stringify({q:a.name+" map projection",tbm:"isch"}))})),l.append("g").attr("class",f).selectAll("path").data(H).enter().append("path").attr("d",T).attr("data-title",Y),j.append("g").attr("class",h).each((function(t){var e=(0,u.y4O)(t.scale);return(0,u.Ys)(this).call(e)})).append("text").attr("class",g).attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),l.select("."+h).selectAll("text:not(."+g+")").attr("class","map-distorsions-module--label--b1604").data(H,(function(t){return t.name})).style("fill",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return L(a)}));var F=function(){this.parentNode.appendChild(this)},P=l.selectAll("."+h+" text,."+m+" path,."+f+" path");l.selectAll("."+f+" path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return L(a)})),P.on("mouseover",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];l.selectAll("."+f+" path").style("filter","none"),l.classed(y,!0),P.classed(v,(function(t){return t.name!==a.name})),P.filter((function(t){return t.name===a.name})).each(F)})).on("mouseout",(function(){l.selectAll("."+f+" path").style("filter","url(#drop-shadow-lines)"),l.classed(y,!1),P.classed(v,!1)})),$("."+m+" path, ."+f+" path").tooltip({track:!0})},D=function(){var t=(0,l.Z)(d().mark((function t(){var e;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.pvA)("/demos/data/d3js/map-distorsions/data.tsv");case 2:e=t.sent,A,E({mapsDistorsions:e,rootElId:"chart"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=D,U=function(t){var e=t.pageContext;return s.createElement(i.Z,{links:[o.H.STYLE],main:O,pageContext:e,scripts:[o.H.SCRIPT]},s.createElement("div",{id:A}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-tsx-4c243d50b59e02cea3aa.js.map