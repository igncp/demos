(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[894],{8905:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(7294),a=n(7538),i=function(){var t="chart",e=20,n=120,r=120,a=20,i=document.getElementById(t).getBoundingClientRect().width-r-n,l=800-a-e,c=null,o=0,d=750,s=d3.layout.tree().size([l,i]),u=d3.svg.diagonal().projection((function(t){return[t.y,t.x]})),f=d3.select("#chart").append("svg").attr("width",i+r+n).attr("height",l+a+e).append("g").attr("transform","translate("+n+","+a+")"),h=function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),p(t)},p=function(t){var e=s.nodes(c).reverse(),n=s.links(e);e.forEach((function(t){t.y=180*t.depth}));var r=f.selectAll("g.node").data(e,(function(t){return t.id||(t.id=++o),t.id})),a=r.enter().append("g").attr("class","node").attr("transform",(function(){return"translate("+t.y0+","+t.x0+")"})).on("click",h);a.append("circle").attr("r",1e-6).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),a.append("text").attr("x",(function(t){return t.children||t._children?-10:10})).attr("dy",".35em").attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.name})).style("fill-opacity",1e-6);var i=r.transition().duration(d).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"}));i.select("circle").attr("r",4.5).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),i.select("text").style("fill-opacity",1);var l=r.exit().transition().duration(d).attr("transform",(function(){return"translate("+t.y+","+t.x+")"})).remove();l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6);var p=f.selectAll("path.link").data(n,(function(t){return t.target.id}));p.enter().insert("path","g").attr("class","link").attr("d",(function(){var e={x:t.x0,y:t.y0};return u({source:e,target:e})})),p.transition().duration(d).attr("d",u),p.exit().transition().duration(d).attr("d",(function(){var e={x:t.x,y:t.y};return u({source:e,target:e})})).remove(),e.forEach((function(t){t.x0=t.x,t.y0=t.y}))};d3.json("/demos/data/d3js/collapsible-tree/data.json",(function(t,e){(c=e).x0=l/2,c.y0=0;c.children.forEach((function t(e){e.children&&(e._children=e.children,e._children.forEach(t),e.children=null)})),p(c)}))},l=function(t){var e=t.pageContext.demoInfo;return r.createElement(a.Z,{demoInfo:e,main:i,scripts:["/vendors/d3/d3.min.js"]},r.createElement("div",{className:"collapsible-tree-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-collapsible-tree-js-c517bb25016e6fd4ae39.js.map