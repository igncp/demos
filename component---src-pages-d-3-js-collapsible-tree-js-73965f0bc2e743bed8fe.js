(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[894],{8905:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(7294),a=n(7538),i=function(){var t=20,e=120,n=120,r=20,a=$("#chart").innerWidth()-n-e,i=800-r-t,l=null,c=0,o=750,d=d3.layout.tree().size([i,a]),s=d3.svg.diagonal().projection((function(t){return[t.y,t.x]})),u=d3.select("#chart").append("svg").attr("width",a+n+e).attr("height",i+r+t).append("g").attr("transform","translate("+e+","+r+")"),f=function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),h(t)},h=function(t){var e=d.nodes(l).reverse(),n=d.links(e);e.forEach((function(t){t.y=180*t.depth}));var r=u.selectAll("g.node").data(e,(function(t){return t.id||(t.id=++c),t.id})),a=r.enter().append("g").attr("class","node").attr("transform",(function(){return"translate("+t.y0+","+t.x0+")"})).on("click",f);a.append("circle").attr("r",1e-6).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),a.append("text").attr("x",(function(t){return t.children||t._children?-10:10})).attr("dy",".35em").attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.name})).style("fill-opacity",1e-6);var i=r.transition().duration(o).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"}));i.select("circle").attr("r",4.5).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),i.select("text").style("fill-opacity",1);var h=r.exit().transition().duration(o).attr("transform",(function(){return"translate("+t.y+","+t.x+")"})).remove();h.select("circle").attr("r",1e-6),h.select("text").style("fill-opacity",1e-6);var p=u.selectAll("path.link").data(n,(function(t){return t.target.id}));p.enter().insert("path","g").attr("class","link").attr("d",(function(){var e={x:t.x0,y:t.y0};return s({source:e,target:e})})),p.transition().duration(o).attr("d",s),p.exit().transition().duration(o).attr("d",(function(){var e={x:t.x,y:t.y};return s({source:e,target:e})})).remove(),e.forEach((function(t){t.x0=t.x,t.y0=t.y}))};d3.json("/demos/data/d3js/collapsible-tree/data.json",(function(t,e){(l=e).x0=i/2,l.y0=0;l.children.forEach((function t(e){e.children&&(e._children=e.children,e._children.forEach(t),e.children=null)})),h(l)}))},l=function(t){var e=t.pageContext.demoInfo;return r.createElement(a.Z,{demoInfo:e,main:i,scripts:["/vendors/d3/d3.min.js"]},r.createElement("div",{className:"collapsible-tree-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-collapsible-tree-js-73965f0bc2e743bed8fe.js.map