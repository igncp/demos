"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[118],{307:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var o=n(7294),i=n(4275),r=n(5221),s="chart",a=function(){function t(t){var e=this;this.handleResize=function(){e.setDimensions()},this.rootElId=t.rootElId,this.config={defaultVelocity:[1,.4,.07],height:500,rotationFactor1:.001,rotationFactor2:4,t0:Date.now(),zeroVelocity:[0,0,0]},this.setVars(),this.setDom(),this.setDimensions(),window.addEventListener("resize",this.handleResize)}t.getIcosahedronFaces=function(){for(var t=[],e=180*Math.atan2(1,2)/Math.PI,n=0;n<360;n+=72)t.push([[n+0,-90],[n+0,-e],[n+72,-e]],[[n+36,e],[n+72,-e],[n+0,-e]],[[n+36,e],[n+0,-e],[n-36,e]],[[n+36,e],[n-36,e],[n-36,90]]);return t.map((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[0],i=e[1];return Object.assign(o,{faceIndex:i})}))};var e=t.prototype;return e.start=function(){var t=this;(0,r.HTH)((function(){return t.timer()}))},e.teardown=function(){window.removeEventListener("resize",this.handleResize)},e.setDom=function(){var e=this;document.getElementById(this.rootElId).classList.add("icosahedron-module--icosahedronChart--df262");var n=(0,r.WvA)().scale(this.config.height/2-10),o=(0,r.Ys)("#"+this.rootElId).append("svg").attr("height",this.config.height),i=o.append("g"),s=(0,r.PKp)(r.i4X),a="orange",c=this.vars,l=function(t){return c.selectedIndex===t.faceIndex?a:s(t.faceIndex)},h=i.selectAll("path").data(t.getIcosahedronFaces()).enter().append("path").each((function(t){t.polygon=(0,r.WFE)(t.map(n))})).style("fill",l).on("mouseenter",(function(){(0,r.Ys)(this).style("fill",a)})).on("mouseleave",(function(){(0,r.Ys)(this).style("fill",l)})).on("click",(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=n[1];e.vars.selectedIndex===i.faceIndex?(e.vars.velocity=e.config.defaultVelocity,e.vars.selectedIndex=null):(e.vars.velocity=e.config.zeroVelocity,e.vars.selectedIndex=i.faceIndex),h.style("fill",l)}));this.dom={faces:h,gSel:i,projection:n,svg:o}},e.setDimensions=function(){var t=document.getElementById(this.rootElId).getBoundingClientRect().width;this.dom.svg.attr("width",t);var e=t<475?.5:1,n=1!==e?475*e/2:0;this.dom.gSel.attr("transform","translate("+(t/2-475*e)+", "+n+") scale("+e+")")},e.setVars=function(){this.vars={selectedIndex:null,velocity:this.config.defaultVelocity}},e.calcNewPosition=function(t){var e=t.position,n=t.time,o=this.vars.velocity;return[o[0]*Math.abs(Math.sin(n*this.config.rotationFactor1)*this.config.rotationFactor2)+e[0],o[1]+e[1],e[2]+o[2]]},e.timer=function(){var t=this,e=Date.now()-this.config.t0,n=this.dom.projection.rotate();return this.dom.projection.rotate(this.calcNewPosition({position:n,time:e})),this.dom.faces.each((function(e){e.forEach((function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var r=o[0],s=o[1];return e.polygon[s]=t.dom.projection(r),null}))})).style("display",(function(t){return(0,r.mIS)(t.polygon)>0?null:"none"})).attr("d",(function(t){return"M"+t.polygon.join("L")+"Z"})),null},t}(),c=function(){return new a({rootElId:s}).start(),Promise.resolve()},l=function(t){var e=t.pageContext;return o.createElement(i.Z,{main:c,pageContext:e},o.createElement("div",{id:s}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-icosahedron-tsx-f19889cae29977b90e27.js.map