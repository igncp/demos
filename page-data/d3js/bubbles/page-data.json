{"componentChunkName":"component---src-pages-d-3-js-bubbles-js","path":"/d3js/bubbles/","result":{"pageContext":{"demoInfo":{"data":["data.json"],"name":"Bubbles","notes":["Using the <a href=\"https://github.com/novus/nvd3\">NV3D</a> extension for D3JS","Data taken from the Nike API (via the Codepen)"],"sources":["http://codepen.io/linghzang3/pen/GFdzh"],"category":"d3js","files":{"js":"const main = function () {\n  const width = $(\"#chart\").innerWidth()\n  const color = d3.scale.category20b()\n\n  const strToMinutes = function (str) {\n    str = str.split(\":\")\n\n    return 60 * str[0] + 1 * str[1] + str[2] / 60\n  }\n\n  const defaultScatterPlot = function () {\n    const chart = nv.models.scatterChart()\n\n    chart.margin({\n      bottom: 100,\n      left: 100,\n      right: 100,\n      top: 100,\n    })\n    chart.xAxis.axisLabelDistance(45).tickFormat(d3.format(\".1f\"))\n    chart.yAxis.axisLabelDistance(45).tickFormat(d3.format(\".2f\"))\n    nv.utils.windowResize(chart.update)\n\n    return chart.forceY([4.5, 6.5]).forceX([0, 135])\n  }\n\n  const showChart = function (chart, data) {\n    d3.select(\"#chart\")\n      .append(\"svg\")\n      .attr({\n        width,\n      })\n      .datum(data)\n      .call(chart)\n  }\n\n  d3.json(\"/data/d3js/bubbles/data.json\", (_error, jsonData) => {\n    const data = []\n\n    jsonData.data.forEach((d, i, arr) => {\n      const distance = +d.metricSummary.distance\n      const time = strToMinutes(d.metricSummary.duration)\n      const pace = time / distance\n\n      data.push({\n        color: color(distance),\n        size: distance,\n        x: arr.length - i,\n        y: pace,\n      })\n    })\n\n    const chartData = [\n      {\n        key: \"Data\",\n        values: data,\n      },\n    ]\n\n    const chart = defaultScatterPlot()\n\n    chart.tooltipContent(\n      (_key, _x, _y, obj) => `${obj.point.size.toFixed(1)} km`\n    )\n    chart.xAxis.tickFormat(d3.format(\"f\")).axisLabel(\"Person Number\")\n    chart.yAxis.axisLabelDistance(10).axisLabel(\"Pace (min/km)\")\n\n    showChart(chart, chartData, \"Pace Trend\")\n  })\n}\n\nexport default main\n","page":"import React from \"react\"\n\nimport Demo from \"@/components/demo\"\n\nimport main from \"@/demos/bubbles/bubbles\"\n\nimport \"../../demos/bubbles/bubbles.styl\"\n\nconst Bubbles = ({ pageContext: { demoInfo } }) => (\n  <Demo\n    demoInfo={demoInfo}\n    links={[\"/vendors/nvd3/nv.d3.min.css\"]}\n    main={main}\n    scripts={[\"/vendors/d3/d3.min.js\", \"/vendors/nvd3/nv.d3.min.js\"]}\n  >\n    <div className=\"bubbles-chart\" id=\"chart\" style={{ height: 600 }} />\n  </Demo>\n)\n\nexport default Bubbles\n","styl":".bubbles-chart\n    .nvd3 .nv-axis.nv-x path.domain\n        stroke-opacity .75\n    .nvd3 .nv-axis line\n        stroke-opacity .4","ts":null},"key":"bubbles"}}},"staticQueryHashes":[]}