(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[189],{1146:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return x}});var r=a(7294),n=a(4275),o=a(2137),i=a(7757),l=a.n(i),u=a(6660),c=a(2149),s="area-module--axis--3OeLF",p=function(t){var e=t.items,a=t.rootElId,r=document.getElementById(a).getBoundingClientRect().width,n=r<500,o=50,i=n?50:70,l=n?10:50,p=50,m=400-p-o,f=r-i-l,g=(0,u.Ys)("#"+a).append("svg").attr("height",m+p+o).attr("width",f+i+l).append("g").attr("transform","translate("+i+","+p+")").attr("class","area-module--areaChart--18U7a");g.append("text").attr("class","area-module--chartTitle--2vijK").attr("text-anchor","middle").attr("transform","translate("+f/2+","+"-15)").text(t.getChartTitle()).style("font-weight","bold"),d("points",g,2,.5);var h=(0,u.Fp7)(e,t.getItemXValue),v=(0,u.VV$)(e,t.getItemXValue),y=(0,u.Fp7)(e,t.getItemYValue),I=(0,u.VV$)(e,t.getItemYValue),x=(0,u.BYU)().domain([v,h]).range([0,f]),V=(0,u.BYU)().domain([y+.05,I-.05]).range([0,m]),k=function(e){return x(t.getItemXValue(e))},w=function(e){return V(t.getItemYValue(e))},Y=n?(0,u.aE8)().domain([0,500]).range(Array.from({length:6}).map((function(t,e){return e})))(r):null,b=(0,u.LLu)(x).tickFormat((0,u.WUZ)(".0f")).ticks(Y),C=(0,u.y4O)(V).tickFormat((0,u.WUZ)(".0%")).tickSize(10);g.append("g").attr("class","area-module--x--3vSV5 "+s).attr("transform","translate(0,"+m+")").call(b).selectAll("text").attr("dy","1.25em"),g.append("g").attr("class","area-module--y--3xyOd "+s).call(C).selectAll("text").attr("dx","-.25em");var E=(0,u.SOn)().x(k).y0(m).y1(w),j=(0,u.jvg)().x(k).y(w);g.append("path").datum(e).attr("class","area-module--line--2fHic").attr("d",j).attr("clip-path","url(#clip)"),g.append("clipPath").attr("id","clip").append("rect").attr("height",m).attr("width",f),g.append("path").datum(e).attr("class","area-module--area--1qZz_").attr("d",E).attr("clip-path","url(#clip)");var A=c.Z.from(e,k,w).voronoi([-i,-p,f+l,m+o]);g.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+k(t)+","+w(t)+")"})).attr("r","5px").attr("class",(function(e){return"area-module--point--29v1- point-"+t.getItemId(e)})).style("filter","url(#drop-shadow-points)");var T=g.append("g").attr("class","area-module--voronoi--1NIYY");return T.selectAll("path").data(e).enter().append("path").attr("d",(function(e){return A.renderCell(t.getItemId(e))})).on("mouseover",(function(e,a){(0,u.Ys)(".point-"+t.getItemId(a)).style("display","block")})).on("mouseleave",(function(e,a){(0,u.Ys)(".point-"+t.getItemId(a)).style("display","none")})).attr("class","voronoi-group").attr("title",t.getItemTitle),$(".voronoi-group").tooltip({track:!0}),{toggleVoronoi:function(){var t=T.attr("class"),e="area-module--showVoronoi--1QHCR",a=t.includes(e)?t.replace(e,"").trim():t+" "+e;T.attr("class",a)}}},d=function(t,e,a,r){var n=e.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+t).attr("width","500%").attr("x","-200%").attr("y","-200%");n.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",a),n.append("feOffset").attr("dx",1).attr("dy",1),n.append("feComponentTransfer").append("feFuncA").attr("slope",r).attr("type","linear");var o=n.append("feMerge");o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},m=function(){var t=(0,o.Z)(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.gyn)("/demos/data/d3js/area/data.csv");case 2:return e=t.sent,t.abrupt("return",e.map((function(t,e){return Object.assign({},t,{index:e})})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(t){return t.year},g=function(t){return t.percent/100},h=function(t){return t.index},v=function(t){return"Year: "+t.year+", Percent: "+t.percent+"%"},y=function(){return"Share of top decile [aka top 10%] in national income"},I=function(){var t=(0,o.Z)(l().mark((function t(){var e,a,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:e=t.sent,a=p({getChartTitle:y,getItemId:h,getItemTitle:v,getItemXValue:f,getItemYValue:g,items:e,rootElId:"chart"}),r=a.toggleVoronoi,document.getElementById("toggle-voronoi").addEventListener("click",(function(t){t.preventDefault(),r()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(t){var e=t.pageContext;return r.createElement(n.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:I,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},r.createElement("form",null,r.createElement("button",{className:"btn btn-info",id:"toggle-voronoi",type:"button"},"Toggle Voronoi")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-tsx-c7b51e33bacebfb607f4.js.map