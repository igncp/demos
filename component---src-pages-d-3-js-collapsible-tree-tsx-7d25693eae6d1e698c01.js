(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[692],{8008:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return N}});var e=n(7294),a=n(4275),o=n(8634),i=n(2656),c=n.n(i),d=n(2084),u=20,s=120,l=120,f=20,p=750,h=800-f-u,v=function t(r){var n;return Object.assign({},r,{_children:void 0,children:(null!==(n=r.children)&&void 0!==n?n:[]).map((function(r){return t(r)})),x:0,x0:0,y:0,y0:0})},x=function(t){var r=t.rootData,n=t.rootElId,e=document.getElementById(n);e.classList.add("collapsible-tree-module--collapsibleTreeChart--39sg1");var a=e.getBoundingClientRect().width-l-s,o=v(r),i=(0,d.bT9)(o);i.data.x0=h/2,i.data.y0=0;var c=(0,d.G_s)().nodeSize([40,250]),x=c(i);x.descendants().forEach((function(t){t.data._children=t.children,t.depth&&(t.children=void 0)}));var y=(0,d.h5h)().x((function(t){return t.y})).y((function(t){return t.x})),g=(0,d.Ys)("#"+n).append("svg").attr("width",a+l+s).attr("height",h+f+u).append("g");!function(t){var r=s,n=h/2,e={x:0,y:0},a=(0,d.ohM)().on("drag",(function(a){e.x+=a.dx,e.y+=a.dy,t.attr("transform","translate("+(r+e.x)+","+(n+e.y)+")")}));t.attr("transform","translate("+r+","+n+")"),(0,d.Ys)(t.node().parentNode).style("cursor","move").call(a)}(g);var m=g.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),w=g.append("g").attr("pointer-events","all");!function r(n){var e=x.descendants().reverse(),a=x.links();c(i);var o=i,u=i;i.eachBefore((function(t){t.data.x<o.data.x&&(o=t),t.data.x>u.data.x&&(u=t)}));var s=w.selectAll("g").data(e,(function(r){return t.getNodeId(r.data)})),l=function(t){return t.data._children?"green":"red"},f=s.enter().append("g").attr("transform",(function(){return"translate("+n.data.y0+","+n.data.x0+")"})).attr("cursor",(function(t){return t.data._children?"pointer":"default"})).attr("fill-opacity",0).attr("stroke-opacity",0).on("click",(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var a=n[1];a.children=a.children?void 0:a.data._children,r(a)})).on("mouseenter",(function(){(0,d.Ys)(this).select("circle").attr("fill",(function(t){return t.data._children?"blue":l(t)}))})).on("mouseleave",(function(){(0,d.Ys)(this).select("circle").attr("fill",l)}));f.append("circle").attr("r",10).attr("fill",l).attr("stroke-width",10),f.append("text").attr("dy","5px").attr("dx",(function(t){return t.data._children?"-10px":"10px"})).attr("x",(function(t){return t.data._children?-6:6})).style("font-size","20px").attr("text-anchor",(function(t){return t.data._children?"end":"start"})).text((function(r){return t.getNodeLabel(r.data)})).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","white"),s.merge(f).transition().duration(p).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"})).attr("fill-opacity",1).attr("stroke-opacity",1),s.exit().transition().duration(p).remove().attr("transform",(function(){return"translate("+n.y+","+n.x+")"})).attr("fill-opacity",0).attr("stroke-opacity",0);var h=m.selectAll("path").data(a,(function(r){return t.getNodeId(r.target.data)})),v=h.enter().append("path").attr("d",(function(){var t={x:n.data.x0,y:n.data.y0};return y({source:t,target:t})}));h.merge(v).transition().duration(p).attr("d",y),h.exit().transition().duration(p).remove().attr("d",(function(){var t={x:n.x,y:n.y};return y({source:t,target:t})})),x.eachBefore((function(t){t.data.x0=t.x,t.data.y0=t.y}))}(x)},y="chart",g=function t(r){var n,e=r.context,a=r.rawNode,o=e.id;return e.id+=1,Object.assign({},a,{children:(null!==(n=a.children)&&void 0!==n?n:[]).map((function(r){return t({context:e,rawNode:r})})),id:o})},m=function(){var t=(0,o.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.AVB)("/demos/data/d3js/collapsible-tree/data.json");case 2:return r=t.sent,t.abrupt("return",g({context:{id:0},rawNode:r}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){return t.name},k=function(t){return t.id},b=function(t){return{getNodeId:k,getNodeLabel:w,rootData:t,rootElId:y}},_=function(){var t=(0,o.Z)(c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:r=t.sent,n=b(r),x(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(t){var r=t.pageContext;return e.createElement(a.Z,{main:_,pageContext:r},e.createElement("div",{id:y}))}},2656:function(t,r,n){t.exports=n(3076)},8634:function(t,r,n){"use strict";function e(t,r,n,e,a,o,i){try{var c=t[o](i),d=c.value}catch(u){return void n(u)}c.done?r(d):Promise.resolve(d).then(e,a)}function a(t){return function(){var r=this,n=arguments;return new Promise((function(a,o){var i=t.apply(r,n);function c(t){e(i,a,o,c,d,"next",t)}function d(t){e(i,a,o,c,d,"throw",t)}c(void 0)}))}}n.d(r,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-collapsible-tree-tsx-7d25693eae6d1e698c01.js.map