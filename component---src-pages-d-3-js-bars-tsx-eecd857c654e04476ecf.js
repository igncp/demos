(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[964],{9511:function(t,n,r){"use strict";r.r(n),r.d(n,{default:function(){return A}});var e=r(7294),a=r(4275),i=r(8634),s=r(2656),o=r.n(s),l=r(2084),u="bars-module--axis--_Qwuv",c="bars-module--addItemButton--3NA4a",d=160,h=100,f=500-2*h,v=30,p=["#323247","#7C7CC9","#72B66C","#429742"],m=function(t){return f-7*t},g=function(t){return 7*t},b=function(){function t(t){var n=t.bars,r=t.rootElId;this.bars=n,this.rootElId=r,this.interval=null,this.chart=null,this.color=null}var n=t.prototype;return n.render=function(){var t=this.bars,n=this.rootElId,r=document.getElementById(n).getBoundingClientRect().width,e=(0,l.BYU)().domain((0,l.Wem)(t)).range([0,1]),a=(0,l.BYU)().domain((0,l.w6H)(0,1,1/p.length)).range(p);this.color=function(t){return a(e(t))};var i=(0,l.Ys)("#"+n).append("svg");i.attr("height",500).attr("width",r).attr("class","bars-module--barsChart--3abBv");var s=i.append("g");this.chart=s,s.attr("transform","translate("+d+","+h+")"),this.interval=setInterval(this.getIntervalFn(),1e3);var o=(0,l.BYU)().domain([.5,t.length+.5]).range([1,v*t.length]),c=(0,l.BYU)().domain([0,(0,l.Fp7)(t)]).rangeRound([0,-7*(0,l.Fp7)(t)]),m=s.append("g");m.attr("class","xAxis "+u).attr("transform","translate(0,"+f+")").call((0,l.LLu)(o)),m.append("text").attr("transform","translate("+v*t.length/2+" ,0)").attr("class","xAxisLabel").attr("y",40).attr("font-size","1.3em").attr("fill","black").style("text-anchor","end").text("Number");var g=s.append("g");g.attr("class","yAxis "+u).attr("transform","translate(0,"+f+")").call((0,l.y4O)(c)),g.append("text").attr("transform","translate(-30,-220)").attr("y",40).attr("font-size","1.3em").attr("fill","black").style("text-anchor","end").text("Value"),this.drawRectangles()},n.refresh=function(){this.drawRectangles(),this.redraw()},n.clearInterval=function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){this.interval&&clearInterval(this.interval)})),n.drawRectangles=function(){var t=this,n=this.bars,r=this.chart,e=this.color;r.selectAll("rect").data(n).enter().append("rect").attr("x",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var e=n[1];return v*e})).attr("y",m).attr("width",v).attr("height",g).attr("fill",(function(t){return e(t)})).on("mouseover",(function(){t.clearInterval()})).on("mouseleave",(function(){t.clearInterval(),t.interval=setInterval(t.getIntervalFn(),1e3)})).append("title").text((function(t){return t}))},n.getIntervalFn=function(){var t=this;return function(){var n=t.bars;n.unshift(n.pop()),t.redraw()}},n.redraw=function(){var t=this.bars,n=this.chart,r=this.color;if(n){var e=(0,l.BYU)().domain([.5,t.length+.5]).range([1,v*t.length]),a=(0,l.LLu)(e);n.select(".xAxis").transition().duration(500).call(a),n.select(".xAxisLabel").transition().duration(500).attr("transform","translate("+v*t.length/2+" ,0)"),n.selectAll("rect").data(t).transition().duration(500).attr("y",m).attr("height",g).attr("fill",r).select("title").text((function(t){return t}))}},t}(),x="chart",w=function(){var t=(0,i.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/demos/data/d3js/bars/data.json");case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=(0,i.Z)(o().mark((function t(){var n,r,e,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:n=t.sent,i={bars:n},r={bars:i.bars,rootElId:x},(e=new b(r)).render(),(a=document.getElementById(c)).addEventListener("click",(function(){n.push(Math.floor(Math.random()*(0,l.Fp7)(n))+1),e.refresh(),n.length>=20&&a.setAttribute("disabled","disabled")}));case 8:case"end":return t.stop()}var i}),t)})));return function(){return t.apply(this,arguments)}}(),I=y,A=function(t){var n=t.pageContext;return e.createElement(a.Z,{main:I,pageContext:n},e.createElement("form",null,e.createElement("button",{className:"btn btn-info",id:c,type:"button"},"Add item")),e.createElement("div",{id:x}))}},2656:function(t,n,r){t.exports=r(3076)},8634:function(t,n,r){"use strict";function e(t,n,r,e,a,i,s){try{var o=t[i](s),l=o.value}catch(u){return void r(u)}o.done?n(l):Promise.resolve(l).then(e,a)}function a(t){return function(){var n=this,r=arguments;return new Promise((function(a,i){var s=t.apply(n,r);function o(t){e(s,a,i,o,l,"next",t)}function l(t){e(s,a,i,o,l,"throw",t)}o(void 0)}))}}r.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-bars-tsx-eecd857c654e04476ecf.js.map