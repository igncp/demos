{"version":3,"file":"component---src-pages-d-3-js-bars-tsx-e95fb9f1d75377d0a027.js","mappings":"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","sources":["webpack://demos/./node_modules/uuid/dist/esm-browser/rng.js","webpack://demos/./node_modules/uuid/dist/esm-browser/regex.js","webpack://demos/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://demos/./node_modules/uuid/dist/esm-browser/validate.js","webpack://demos/./node_modules/uuid/dist/esm-browser/v1.js","webpack://demos/./src/common.ts","webpack://demos/./src/demos/bars/bars.module.css","webpack://demos/./src/demos/bars/bars-chart.ts","webpack://demos/./src/demos/bars/bars-chart-config.ts","webpack://demos/./src/demos/bars/bars.ts","webpack://demos/./src/pages/d3js/bars.tsx","webpack://demos/./node_modules/gatsby/node_modules/@babel/runtime/regenerator/index.js","webpack://demos/./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","type DocName = string\ntype DocLink = string\n\ntype Meta = {\n  description: string\n}\n\ntype DemoBase = {\n  dataFiles: string[]\n  docs: Array<[DocName, DocLink]>\n  isCompleted: boolean\n  name: string\n  notes: string[]\n  sources: string[]\n  summary: string[]\n}\n\ntype DemoFile = {\n  content: string\n  filePath: string\n}\n\ntype DemoInfo = DemoBase & {\n  category: string\n  files: {\n    demoCSS: DemoFile[]\n    demoTS: DemoFile[]\n    page: {\n      content: string\n      type: string\n    }\n  }\n  key: string\n}\n\ntype DemoSummary = {\n  category: string\n  key: string\n  name: DemoBase[\"name\"]\n  route: string\n}\n\ntype IndexPageProps = {\n  pageContext: {\n    groupedDemos: DemoSummary[][]\n    meta: Meta\n    numberPerGroup: number\n  }\n}\n\ntype DemoPageProps = {\n  pageContext: {\n    demoInfo: DemoInfo\n    meta: Meta\n  }\n}\n\nenum SPECIAL_DEMO_KEYS {\n  STORYBOOK = \"storybook\",\n  TESTING = \"testing\",\n}\n\nconst JQUERYUI = {\n  SCRIPT: \"/vendors/jquery-ui/jquery-ui.min.js\",\n  STYLE: \"/vendors/jquery-ui/themes/base/jquery-ui.min.css\",\n}\n\nexport {\n  DemoBase,\n  DemoInfo,\n  DemoPageProps,\n  DemoSummary,\n  IndexPageProps,\n  JQUERYUI,\n  Meta,\n  SPECIAL_DEMO_KEYS,\n}\n","// extracted by mini-css-extract-plugin\nexport var barsChart = \"bars-module--barsChart--3abBv\";\nexport var axis = \"bars-module--axis--_Qwuv\";\nexport var addItemButton = \"bars-module--addItemButton--3NA4a\";","import {\n  Selection,\n  axisBottom,\n  axisLeft,\n  extent,\n  max,\n  range,\n  scaleLinear,\n  select,\n} from \"d3\"\nimport { v1 as uuidv1 } from \"uuid\"\n\nimport * as styles from \"./bars.module.css\"\n\ntype ChartData = {\n  id: number\n  metric: number\n}\n\nconst height = 500\nconst margin = { left: 160, top: 100 }\nconst floor = height - margin.top * 2\n\nconst barWidth = 30\nconst barHeight = 7\n\nconst colours = [\"#323247\", \"#7C7CC9\", \"#72B66C\", \"#429742\"]\nconst barYFn = (barItem: ChartData) => floor - barHeight * barItem.metric\nconst barHeightFn = (barItem: ChartData) => barItem.metric * barHeight\n\ntype ChartConfig = {\n  bars: ChartData[]\n  rootElId: string\n}\n\ntype Interval = ReturnType<typeof setInterval>\ntype Chart = Selection<SVGGElement, ChartData, HTMLElement, unknown>\ntype ColorFn = (c: ChartData) => string\n\nclass BarsChart {\n  private readonly bars: ChartData[]\n  private readonly rootElId: string\n  private interval: Interval | null\n  private readonly barClassName: string\n  private chart: Chart | null\n  private color: ColorFn | null\n\n  public constructor({ bars, rootElId }: ChartConfig) {\n    this.bars = bars\n    this.rootElId = rootElId\n    this.barClassName = `bars-${uuidv1().slice(0, 6)}`\n\n    this.interval = null\n    this.chart = null\n    this.color = null\n  }\n\n  public render() {\n    const { bars, rootElId } = this\n    const { width } = (\n      document.getElementById(rootElId) as HTMLElement\n    ).getBoundingClientRect()\n\n    const colorScale = scaleLinear()\n      .domain(extent(bars, (bar) => bar.metric) as [number, number])\n      .range([0, 1])\n    const heatmapColour = scaleLinear<string>()\n      .domain(range(0, 1, 1.0 / colours.length))\n      .range(colours)\n\n    const color = (barItem: ChartData) =>\n      heatmapColour(colorScale(barItem.metric))\n\n    this.color = color\n\n    const svg = select<HTMLElement, ChartData>(`#${rootElId}`).append(\"svg\")\n\n    svg\n      .attr(\"height\", height)\n      .attr(\"width\", width)\n      .attr(\"class\", styles.barsChart)\n\n    svg\n      .append(\"g\")\n      .append(\"filter\")\n      .attr(\"height\", \"300%\")\n      .attr(\"x\", \"-100%\")\n      .attr(\"y\", \"-100%\")\n      .attr(\"id\", \"blur\")\n      .attr(\"width\", \"300%\")\n      .append(\"feGaussianBlur\")\n      .attr(\"stdDeviation\", \"2 2\")\n\n    const chart = svg.append(\"g\")\n\n    this.chart = chart\n\n    chart.attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n    this.interval = setInterval(this.getIntervalFn(), 1000)\n\n    const x = scaleLinear()\n      .domain([0.5, bars.length + 0.5])\n      .range([1, barWidth * bars.length])\n\n    const y = scaleLinear()\n      .domain([0, max(bars, (bar) => bar.metric) as number])\n      .rangeRound([\n        0,\n        -1 * barHeight * (max(bars, (bar) => bar.metric) as number),\n      ])\n\n    const xAxisG = chart.append(\"g\")\n\n    xAxisG\n      .attr(\"class\", `xAxis ${styles.axis}`)\n      .attr(\"transform\", `translate(0,${floor})`)\n      .call(axisBottom(x))\n\n    xAxisG\n      .append(\"text\")\n      .attr(\"transform\", `translate(${(barWidth * bars.length) / 2} ,0)`)\n      .attr(\"class\", \"xAxisLabel\")\n      .attr(\"y\", 40)\n      .attr(\"font-size\", \"1.3em\")\n      .attr(\"fill\", \"black\")\n      .style(\"text-anchor\", \"end\")\n      .text(\"Number\")\n\n    const yAxisG = chart.append(\"g\")\n\n    yAxisG\n      .attr(\"class\", `yAxis ${styles.axis}`)\n      .attr(\"transform\", `translate(0,${floor})`)\n      .call(axisLeft(y))\n\n    yAxisG\n      .append(\"text\")\n      .attr(\"transform\", `translate(-30,${(-1 * (height - 60)) / 2})`)\n      .attr(\"y\", 40)\n      .attr(\"font-size\", \"1.3em\")\n      .attr(\"fill\", \"black\")\n      .style(\"text-anchor\", \"end\")\n      .text(\"Value\")\n\n    this.drawRectangles()\n  }\n\n  public addBar(newBar: ChartData) {\n    this.bars.push(newBar)\n  }\n\n  public getBars(): ChartData[] {\n    return this.bars.slice()\n  }\n\n  public refresh() {\n    this.drawRectangles()\n    this.redraw()\n  }\n\n  private clearInterval() {\n    if (this.interval) {\n      clearInterval(this.interval)\n    }\n  }\n\n  private getBarsSelection() {\n    const { chart } = this\n\n    return (chart as Chart).selectAll<SVGRectElement, ChartData>(\"rect\")\n  }\n\n  private drawRectangles() {\n    const { bars, color } = this\n\n    this.getBarsSelection()\n      .data(bars)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", (...[, barIndex]) => barWidth * barIndex)\n      .attr(\"y\", barYFn)\n      .attr(\"width\", barWidth)\n      .attr(\"height\", barHeightFn)\n      .attr(\"class\", this.barClassName)\n      .attr(\"fill\", (barItem) => color!(barItem))\n      .on(\"mouseover\", (...[, mouseBar]) => {\n        this.getBarsSelection().style(\"filter\", (bar) =>\n          bar.id === mouseBar.id ? null : \"url(#blur)\"\n        )\n        this.clearInterval()\n      })\n      .on(\"mouseleave\", () => {\n        this.getBarsSelection().style(\"filter\", null)\n        this.clearInterval()\n        this.interval = setInterval(this.getIntervalFn(), 1000)\n      })\n      .attr(\"title\", (bar) => bar.metric)\n\n    $(`.${this.barClassName}`).tooltip({\n      track: true,\n    })\n  }\n\n  private getIntervalFn() {\n    return () => {\n      const { bars } = this\n\n      bars.unshift(bars.pop() as ChartData)\n\n      this.redraw()\n    }\n  }\n\n  private redraw() {\n    const { bars, chart, color } = this\n\n    if (!chart) {\n      return\n    }\n\n    const newX = scaleLinear()\n      .domain([0.5, bars.length + 0.5])\n      .range([1, barWidth * bars.length])\n\n    const newAxis = axisBottom(newX)\n\n    chart.select<SVGGElement>(\".xAxis\").transition().duration(500).call(newAxis)\n\n    chart\n      .select(\".xAxisLabel\")\n      .transition()\n      .duration(500)\n      .attr(\"transform\", `translate(${(barWidth * bars.length) / 2} ,0)`)\n\n    chart\n      .selectAll(\"rect\")\n      .data(bars)\n      .transition()\n      .duration(500)\n      .attr(\"y\", barYFn)\n      .attr(\"height\", barHeightFn)\n      .attr(\"fill\", color!)\n      .select(\"title\")\n      .text((barItem) => barItem.metric)\n  }\n}\n\nexport { BarsChart, ChartConfig }\n","import { ChartConfig } from \"./bars-chart\"\n\nconst CONTAINER_ID = \"chart\"\n\ntype BarData = number\n\nconst fetchData = async (): Promise<BarData[]> => {\n  const rawData = await fetch(`${ROOT_PATH}data/d3js/bars/data.json`)\n\n  return rawData.json()\n}\n\nconst createChartConfig = ({ bars }: { bars: BarData[] }): ChartConfig => ({\n  bars: bars.map((...[metric, metricIndex]) => ({\n    id: metricIndex,\n    metric,\n  })),\n  rootElId: CONTAINER_ID,\n})\n\nexport { CONTAINER_ID, createChartConfig, fetchData }\n","import { max } from \"d3\"\n\nimport { BarsChart } from \"./bars-chart\"\nimport { CONTAINER_ID, createChartConfig, fetchData } from \"./bars-chart-config\"\nimport * as styles from \"./bars.module.css\"\n\nconst main = async () => {\n  const initialBars = await fetchData()\n\n  const chartConfig = createChartConfig({ bars: initialBars })\n\n  const barsChart = new BarsChart(chartConfig)\n\n  barsChart.render()\n\n  const addItemEl = document.getElementById(styles.addItemButton) as HTMLElement\n\n  addItemEl.addEventListener(\"click\", () => {\n    const bars = barsChart.getBars()\n    const newId = max(bars, (bar) => bar.id)! + 1\n\n    barsChart.addBar({\n      id: newId,\n      metric:\n        Math.floor(Math.random() * (max(bars, (bar) => bar.metric) as number)) +\n        1,\n    })\n    barsChart.refresh()\n\n    if (bars.length >= 20) {\n      addItemEl.setAttribute(\"disabled\", \"disabled\")\n    }\n  })\n}\n\nexport { CONTAINER_ID }\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps, JQUERYUI } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main, { CONTAINER_ID } from \"@/demos/bars/bars\"\nimport * as styles from \"@/demos/bars/bars.module.css\"\n\nconst Bars = ({ pageContext }: DemoPageProps) => (\n  <Demo\n    links={[JQUERYUI.STYLE]}\n    main={main}\n    pageContext={pageContext}\n    scripts={[JQUERYUI.SCRIPT]}\n  >\n    <form>\n      <button className=\"btn btn-info\" id={styles.addItemButton} type=\"button\">\n        Add item\n      </button>\n    </form>\n    <div id={CONTAINER_ID} />\n  </Demo>\n)\n\nexport default Bars\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","byteToHex","i","push","toString","substr","_nodeId","_clockseq","arr","offset","arguments","length","undefined","toLowerCase","TypeError","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","SPECIAL_DEMO_KEYS","JQUERYUI","SCRIPT","STYLE","axis","addItemButton","margin","floor","barWidth","colours","barYFn","barItem","metric","barHeightFn","BarsChart","bars","rootElId","this","barClassName","uuidv1","slice","interval","chart","color","render","width","document","getElementById","getBoundingClientRect","colorScale","scaleLinear","domain","extent","bar","range","heatmapColour","svg","select","append","attr","setInterval","getIntervalFn","x","y","max","rangeRound","xAxisG","styles","call","axisBottom","style","text","yAxisG","axisLeft","drawRectangles","addBar","newBar","getBars","refresh","redraw","clearInterval","getBarsSelection","selectAll","data","enter","barIndex","on","mouseBar","id","$","tooltip","track","unshift","pop","newX","newAxis","transition","duration","CONTAINER_ID","fetchData","fetch","ROOT_PATH","rawData","json","main","initialBars","chartConfig","map","metricIndex","barsChart","addItemEl","addEventListener","newId","Math","setAttribute","pageContext","links","scripts","className","type","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","apply","err"],"sourceRoot":""}