{"version":3,"sources":["webpack://demos/./src/demos/_utils/browserRaphael.ts","webpack://demos/./src/demos/circular-arcs/circular-arcs.ts","webpack://demos/./src/pages/raphael/circular-arcs.tsx"],"names":["Raphael","window","require","arcFn","angle","endX","endY","radius1","radius2","startX","startY","arcSVG","join","this","path","circularArc","centerX","centerY","radius","startAngle","endAngle","Math","cos","PI","sin","arc","createArc","stroke","fill","arcI","paper","center","width","pow","height","attr","hover","animate","strokeWidth","rootElId","chartWrapper","document","getElementById","classList","add","getBoundingClientRect","demoInfo","pageContext","main","id"],"mappings":"kGAAA,IAAMA,EAA4B,oBAAXC,OAAyB,KAAOC,EAAQ,MAE/D,O,gHCqBA,SAASC,EAAT,GAGG,IADCC,EACF,EADEA,MAAOC,EACT,EADSA,KAAMC,EACf,EADeA,KAAMC,EACrB,EADqBA,QAASC,EAC9B,EAD8BA,QAASC,EACvC,EADuCA,OAAQC,EAC/C,EAD+CA,OAEzCC,EAAS,CAACJ,EAASC,EAASJ,EAAO,EAAG,EAAGC,EAAMC,GAAMM,KAAK,KAEhE,OAAOC,KAAKC,KAAL,IAAcL,EAAd,IAAwBC,EAAxB,MAAoCC,GAW7C,SAASI,EAAT,GAGG,IADCC,EACF,EADEA,QAASC,EACX,EADWA,QAASC,EACpB,EADoBA,OAAQC,EAC5B,EAD4BA,WAAYC,EACxC,EADwCA,SAElCX,EAASO,EAAUE,EAASG,KAAKC,IAAKH,EAAaE,KAAKE,GAAM,KAC9Db,EAASO,EAAUC,EAASG,KAAKG,IAAKL,EAAaE,KAAKE,GAAM,KAE9DlB,EAAOW,EAAUE,EAASG,KAAKC,IAAKF,EAAWC,KAAKE,GAAM,KAC1DjB,EAAOW,EAAUC,EAASG,KAAKG,IAAKJ,EAAWC,KAAKE,GAAM,KAEhE,OAAOV,KAAKY,IAAI,CACdrB,MAAO,EACPC,KAAMA,EAAOI,EACbH,KAAMA,EAAOI,EACbH,QAASW,EACTV,QAASU,EACTT,SACAC,WAIJ,IAoCMgB,EAAY,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,OAAQC,EAAuC,EAAvCA,KAAMC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,MACjCC,EAASD,EAAME,OAAS,EAAIH,GAAnB,EAETJ,EAAMK,EAAMf,YAAY,CAC5BC,QAASe,EAAS,GAAKV,KAAKY,IAAIJ,EAAM,KACtCZ,QAASa,EAAMI,QAAU,IAAa,EAAPL,GAC/BT,SAAU,EACVF,OAAQY,EAAME,OAAS,EAAIH,GAC3BV,WAAY,MAGdM,EACGU,KAAK,OAAQP,GACbO,KAAK,eAAgB,IACrBA,KAAK,SAAUR,GACfQ,KAAK,eA1GU,GA4GDV,EAlDdW,OACD,WACEvB,KAAKsB,KAAK,eAAgB,IAE1BtB,KAAKwB,QACH,CACE,eAAgBC,KAElB,IACA,aAGJ,WACEzB,KAAKsB,KAAK,eAAgB,IAE1BtB,KAAKwB,QACH,CACE,eA3EU,GA6EZ,IACA,cAyDR,EAxBa,WACX,IAAME,EAAW,QACXC,EAAeC,SAASC,eAAeH,GAE7CC,EAAaG,UAAUC,IAAI,uBAE3B,IAAQZ,EAAUQ,EAAaK,wBAAvBb,MAGRhC,mBAAyBe,EACzBf,WAAiBG,EAIjB,IAFA,IAAM2B,GAAQ9B,OAAQuC,EAAUP,EALjB,KAONH,EAAO,EAAGA,GAAQ,KAAMA,EAC/BH,EAAU,CACRG,OACAD,KAAM,UACNE,QACAH,OAAQ,aC1Hd,EANqB,SAAC,GAAD,IAAkBmB,EAAlB,EAAGC,YAAeD,SAAlB,OACnB,gBAAC,IAAD,CAAMA,SAAUA,EAAUE,KAAMA,GAC9B,uBAAKC,GAAG","file":"component---src-pages-raphael-circular-arcs-tsx-d6633bec29ba8c25ac7c.js","sourcesContent":["const Raphael = typeof window === \"undefined\" ? null : require(\"raphael\")\n\nexport default Raphael\n","import { RaphaelPaper, RaphaelPath } from \"raphael\"\n\nimport Raphael from \"@/demos/_utils/browserRaphael\"\n\nimport \"./circular-arcs.styl\"\n\nconst strokeWidth = 3\n\ntype ExtendedRaphael = RaphaelPaper & {\n  arc: typeof arcFn\n  circularArc: typeof circularArc\n}\n\ntype ArcFnOpts = {\n  angle: number\n  endX: number\n  endY: number\n  radius1: number\n  radius2: number\n  startX: number\n  startY: number\n}\n\nfunction arcFn(\n  this: RaphaelPaper,\n  { angle, endX, endY, radius1, radius2, startX, startY }: ArcFnOpts\n) {\n  const arcSVG = [radius1, radius2, angle, 0, 1, endX, endY].join(\" \")\n\n  return this.path(`M${startX} ${startY} a ${arcSVG}`)\n}\n\ntype CircularArcOpts = {\n  centerX: number\n  centerY: number\n  endAngle: number\n  radius: number\n  startAngle: number\n}\n\nfunction circularArc(\n  this: ExtendedRaphael,\n  { centerX, centerY, radius, startAngle, endAngle }: CircularArcOpts\n) {\n  const startX = centerX + radius * Math.cos((startAngle * Math.PI) / 180)\n  const startY = centerY + radius * Math.sin((startAngle * Math.PI) / 180)\n\n  const endX = centerX + radius * Math.cos((endAngle * Math.PI) / 180)\n  const endY = centerY + radius * Math.sin((endAngle * Math.PI) / 180)\n\n  return this.arc({\n    angle: 0,\n    endX: endX - startX,\n    endY: endY - startY,\n    radius1: radius,\n    radius2: radius,\n    startX,\n    startY,\n  })\n}\n\nconst addHoverHandlers = function (el: RaphaelPath) {\n  const widthMultiplier = 2.5\n\n  el.hover(\n    function () {\n      this.attr(\"fill-opacity\", 0.3)\n\n      this.animate(\n        {\n          \"stroke-width\": strokeWidth * widthMultiplier,\n        },\n        500,\n        \"bounce\"\n      )\n    },\n    function () {\n      this.attr(\"fill-opacity\", 0.2)\n\n      this.animate(\n        {\n          \"stroke-width\": strokeWidth,\n        },\n        500,\n        \"bounce\"\n      )\n    }\n  )\n}\n\ntype CreateArcOpts = {\n  arcI: number\n  fill: string\n  paper: ExtendedRaphael\n  stroke: string\n}\n\nconst createArc = ({ stroke, fill, arcI, paper }: CreateArcOpts) => {\n  const center = paper.width / (4 + arcI) + (strokeWidth - 1)\n\n  const arc = paper.circularArc({\n    centerX: center + 30 + Math.pow(arcI, 1.5),\n    centerY: paper.height - (100 - arcI * 2),\n    endAngle: 0,\n    radius: paper.width / (4 + arcI),\n    startAngle: 180,\n  })\n\n  arc\n    .attr(\"fill\", fill)\n    .attr(\"fill-opacity\", 0.2)\n    .attr(\"stroke\", stroke)\n    .attr(\"stroke-width\", strokeWidth)\n\n  addHoverHandlers(arc)\n}\n\nconst main = () => {\n  const rootElId = \"chart\"\n  const chartWrapper = document.getElementById(rootElId) as HTMLElement\n\n  chartWrapper.classList.add(\"circular-arcs-chart\")\n\n  const { width } = chartWrapper.getBoundingClientRect()\n  const height = 500\n\n  Raphael.fn.circularArc = circularArc\n  Raphael.fn.arc = arcFn\n\n  const paper = Raphael(rootElId, width, height)\n\n  for (let arcI = 0; arcI <= 50; ++arcI) {\n    createArc({\n      arcI,\n      fill: \"#85D588\",\n      paper,\n      stroke: \"#558857\",\n    })\n  }\n}\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main from \"@/demos/circular-arcs/circular-arcs\"\n\nconst CircularArcs = ({ pageContext: { demoInfo } }: DemoPageProps) => (\n  <Demo demoInfo={demoInfo} main={main}>\n    <div id=\"chart\" />\n  </Demo>\n)\n\nexport default CircularArcs\n"],"sourceRoot":""}