(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[239],{2137:function(t,e,n){"use strict";function i(t,e,n,i,r,a,s){try{var h=t[a](s),l=h.value}catch(o){return void n(o)}h.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function h(t){i(s,r,a,h,l,"next",t)}function l(t){i(s,r,a,h,l,"throw",t)}h(void 0)}))}}n.d(e,{Z:function(){return r}})},2149:function(t,e,n){"use strict";n.d(e,{Z:function(){return O}});var i=n(6610),r=n(5991),a=n(7757),s=n.n(a),h=(n(5438),134217729);function l(t,e,n,i,r){var a,s,h,l,o=e[0],u=i[0],c=0,f=0;u>o==u>-o?(a=o,o=e[++c]):(a=u,u=i[++f]);var v=0;if(c<t&&f<n)for(u>o==u>-o?(h=a-((s=o+a)-o),o=e[++c]):(h=a-((s=u+a)-u),u=i[++f]),a=s,0!==h&&(r[v++]=h);c<t&&f<n;)u>o==u>-o?(h=a-((s=a+o)-(l=s-a))+(o-l),o=e[++c]):(h=a-((s=a+u)-(l=s-a))+(u-l),u=i[++f]),a=s,0!==h&&(r[v++]=h);for(;c<t;)h=a-((s=a+o)-(l=s-a))+(o-l),o=e[++c],a=s,0!==h&&(r[v++]=h);for(;f<n;)h=a-((s=a+u)-(l=s-a))+(u-l),u=i[++f],a=s,0!==h&&(r[v++]=h);return 0===a&&0!==v||(r[v++]=a),v}function o(t){return new Float64Array(t)}var u=o(4),c=o(8),f=o(12),v=o(16),d=o(4);function y(t,e,n,i,r,a){var s=(e-a)*(n-r),o=(t-r)*(i-a),y=s-o;if(0===s||0===o||s>0!=o>0)return y;var g=Math.abs(s+o);return Math.abs(y)>=33306690738754716e-32*g?y:-function(t,e,n,i,r,a,s){var o,y,g,_,x,m,k,p,b,w,A,T,M,S,I,P,Z,U,j=t-r,z=n-r,F=e-a,K=i-a;x=(I=(p=j-(k=(m=h*j)-(m-j)))*(w=K-(b=(m=h*K)-(m-K)))-((S=j*K)-k*b-p*b-k*w))-(A=I-(Z=(p=F-(k=(m=h*F)-(m-F)))*(w=z-(b=(m=h*z)-(m-z)))-((P=F*z)-k*b-p*b-k*w))),u[0]=I-(A+x)+(x-Z),x=(M=S-((T=S+A)-(x=T-S))+(A-x))-(A=M-P),u[1]=M-(A+x)+(x-P),x=(U=T+A)-T,u[2]=T-(U-x)+(A-x),u[3]=U;var L=function(t,e){for(var n=e[0],i=1;i<t;i++)n+=e[i];return n}(4,u),C=22204460492503146e-32*s;if(L>=C||-L>=C)return L;if(o=t-(j+(x=t-j))+(x-r),g=n-(z+(x=n-z))+(x-r),y=e-(F+(x=e-F))+(x-a),_=i-(K+(x=i-K))+(x-a),0===o&&0===y&&0===g&&0===_)return L;if(C=11093356479670487e-47*s+33306690738754706e-32*Math.abs(L),(L+=j*_+K*o-(F*g+z*y))>=C||-L>=C)return L;x=(I=(p=o-(k=(m=h*o)-(m-o)))*(w=K-(b=(m=h*K)-(m-K)))-((S=o*K)-k*b-p*b-k*w))-(A=I-(Z=(p=y-(k=(m=h*y)-(m-y)))*(w=z-(b=(m=h*z)-(m-z)))-((P=y*z)-k*b-p*b-k*w))),d[0]=I-(A+x)+(x-Z),x=(M=S-((T=S+A)-(x=T-S))+(A-x))-(A=M-P),d[1]=M-(A+x)+(x-P),x=(U=T+A)-T,d[2]=T-(U-x)+(A-x),d[3]=U;var E=l(4,u,4,d,c);x=(I=(p=j-(k=(m=h*j)-(m-j)))*(w=_-(b=(m=h*_)-(m-_)))-((S=j*_)-k*b-p*b-k*w))-(A=I-(Z=(p=F-(k=(m=h*F)-(m-F)))*(w=g-(b=(m=h*g)-(m-g)))-((P=F*g)-k*b-p*b-k*w))),d[0]=I-(A+x)+(x-Z),x=(M=S-((T=S+A)-(x=T-S))+(A-x))-(A=M-P),d[1]=M-(A+x)+(x-P),x=(U=T+A)-T,d[2]=T-(U-x)+(A-x),d[3]=U;var H=l(E,c,4,d,f);x=(I=(p=o-(k=(m=h*o)-(m-o)))*(w=_-(b=(m=h*_)-(m-_)))-((S=o*_)-k*b-p*b-k*w))-(A=I-(Z=(p=y-(k=(m=h*y)-(m-y)))*(w=g-(b=(m=h*g)-(m-g)))-((P=y*g)-k*b-p*b-k*w))),d[0]=I-(A+x)+(x-Z),x=(M=S-((T=S+A)-(x=T-S))+(A-x))-(A=M-P),d[1]=M-(A+x)+(x-P),x=(U=T+A)-T,d[2]=T-(U-x)+(A-x),d[3]=U;var O=l(H,f,4,d,v);return v[O-1]}(t,e,n,i,r,a,g)}o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(8),o(8),o(8),o(4),o(8),o(8),o(8),o(12),o(192),o(192);o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(8),o(8),o(8),o(8),o(8),o(8),o(8),o(8),o(8),o(4),o(4),o(4),o(8),o(16),o(16),o(16),o(32),o(32),o(48),o(64),o(1152),o(1152);o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(4),o(24),o(24),o(24),o(24),o(24),o(24),o(24),o(24),o(24),o(24),o(1152),o(1152),o(1152),o(1152),o(1152),o(2304),o(2304),o(3456),o(5760),o(8),o(8),o(8),o(16),o(24),o(48),o(48),o(96),o(192),o(384),o(384),o(384),o(768);o(96),o(96),o(96),o(1152);var g=Math.pow(2,-52),_=new Uint32Array(512),x=function(){function t(e){(0,i.Z)(this,t);var n=e.length>>1;if(n>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return(0,r.Z)(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,i=this._hullTri,r=this._hullHash,a=t.length>>1,s=1/0,h=1/0,l=-1/0,o=-1/0,u=0;u<a;u++){var c=t[2*u],f=t[2*u+1];c<s&&(s=c),f<h&&(h=f),c>l&&(l=c),f>o&&(o=f),this._ids[u]=u}for(var v,d,_,x=(s+l)/2,b=(h+o)/2,w=1/0,A=0;A<a;A++){var T=m(x,b,t[2*A],t[2*A+1]);T<w&&(v=A,w=T)}var M=t[2*v],S=t[2*v+1];w=1/0;for(var I=0;I<a;I++)if(I!==v){var P=m(M,S,t[2*I],t[2*I+1]);P<w&&P>0&&(d=I,w=P)}for(var Z=t[2*d],U=t[2*d+1],j=1/0,z=0;z<a;z++)if(z!==v&&z!==d){var F=k(M,S,Z,U,t[2*z],t[2*z+1]);F<j&&(_=z,j=F)}var K=t[2*_],L=t[2*_+1];if(j===1/0){for(var C=0;C<a;C++)this._dists[C]=t[2*C]-t[0]||t[2*C+1]-t[1];p(this._ids,this._dists,0,a-1);for(var E=new Uint32Array(a),H=0,O=0,N=-1/0;O<a;O++){var $=this._ids[O];this._dists[$]>N&&(E[H++]=$,N=this._dists[$])}return this.hull=E.subarray(0,H),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(y(M,S,Z,U,K,L)<0){var q=d,B=Z,D=U;d=_,Z=K,U=L,_=q,K=B,L=D}var G=function(t,e,n,i,r,a){var s=n-t,h=i-e,l=r-t,o=a-e,u=s*s+h*h,c=l*l+o*o,f=.5/(s*o-h*l);return{x:t+(o*u-h*c)*f,y:e+(s*c-l*u)*f}}(M,S,Z,U,K,L);this._cx=G.x,this._cy=G.y;for(var J=0;J<a;J++)this._dists[J]=m(t[2*J],t[2*J+1],G.x,G.y);p(this._ids,this._dists,0,a-1),this._hullStart=v;var Q=3;n[v]=e[_]=d,n[d]=e[v]=_,n[_]=e[d]=v,i[v]=0,i[d]=1,i[_]=2,r.fill(-1),r[this._hashKey(M,S)]=v,r[this._hashKey(Z,U)]=d,r[this._hashKey(K,L)]=_,this.trianglesLen=0,this._addTriangle(v,d,_,-1,-1,-1);for(var R,V,W=0;W<this._ids.length;W++){var X=this._ids[W],Y=t[2*X],tt=t[2*X+1];if(!(W>0&&Math.abs(Y-R)<=g&&Math.abs(tt-V)<=g)&&(R=Y,V=tt,X!==v&&X!==d&&X!==_)){for(var et=0,nt=0,it=this._hashKey(Y,tt);nt<this._hashSize&&(-1===(et=r[(it+nt)%this._hashSize])||et===n[et]);nt++);for(var rt=et=e[et],at=void 0;at=n[rt],y(Y,tt,t[2*rt],t[2*rt+1],t[2*at],t[2*at+1])>=0;)if((rt=at)===et){rt=-1;break}if(-1!==rt){var st=this._addTriangle(rt,X,n[rt],-1,-1,i[rt]);i[X]=this._legalize(st+2),i[rt]=st,Q++;for(var ht=n[rt];at=n[ht],y(Y,tt,t[2*ht],t[2*ht+1],t[2*at],t[2*at+1])<0;)st=this._addTriangle(ht,X,at,i[X],-1,i[ht]),i[X]=this._legalize(st+2),n[ht]=ht,Q--,ht=at;if(rt===et)for(;y(Y,tt,t[2*(at=e[rt])],t[2*at+1],t[2*rt],t[2*rt+1])<0;)st=this._addTriangle(at,X,rt,-1,i[rt],i[at]),this._legalize(st+2),i[at]=st,n[rt]=rt,Q--,rt=at;this._hullStart=e[X]=rt,n[rt]=e[ht]=X,n[X]=ht,r[this._hashKey(Y,tt)]=X,r[this._hashKey(t[2*rt],t[2*rt+1])]=rt}}}this.hull=new Uint32Array(Q);for(var lt=0,ot=this._hullStart;lt<Q;lt++)this.hull[lt]=ot,ot=n[ot];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor((n=t-this._cx,i=e-this._cy,r=n/(Math.abs(n)+Math.abs(i)),(i>0?3-r:1+r)/4*this._hashSize))%this._hashSize;var n,i,r}},{key:"_legalize",value:function(t){for(var e,n,i,r,a,s,h,l,o,u,c,f,v,d,y,g,x=this._triangles,m=this._halfedges,k=this.coords,p=0,b=0;;){var w=m[t],A=t-t%3;if(b=A+(t+2)%3,-1!==w){var T=w-w%3,M=A+(t+1)%3,S=T+(w+2)%3,I=x[b],P=x[t],Z=x[M],U=x[S];if(e=k[2*I],n=k[2*I+1],i=k[2*P],r=k[2*P+1],a=k[2*Z],s=k[2*Z+1],h=k[2*U],l=k[2*U+1],o=void 0,u=void 0,c=void 0,f=void 0,v=void 0,d=void 0,void 0,y=void 0,g=void 0,(o=e-h)*((f=r-l)*(g=(v=a-h)*v+(d=s-l)*d)-(y=(c=i-h)*c+f*f)*d)-(u=n-l)*(c*g-y*v)+(o*o+u*u)*(c*d-f*v)<0){x[t]=U,x[w]=I;var j=m[S];if(-1===j){var z=this._hullStart;do{if(this._hullTri[z]===S){this._hullTri[z]=t;break}z=this._hullPrev[z]}while(z!==this._hullStart)}this._link(t,j),this._link(w,m[b]),this._link(b,S);var F=T+(w+1)%3;p<_.length&&(_[p++]=F)}else{if(0===p)break;t=_[--p]}}else{if(0===p)break;t=_[--p]}}return b}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,i,r,a){var s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,i),this._link(s+1,r),this._link(s+2,a),this.trianglesLen+=3,s}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,r=e.length,a=new Float64Array(2*r),s=0;s<r;s++){var h=e[s];a[2*s]=n(h),a[2*s+1]=i(h)}return new t(a)}}]),t}();function m(t,e,n,i){var r=t-n,a=e-i;return r*r+a*a}function k(t,e,n,i,r,a){var s=n-t,h=i-e,l=r-t,o=a-e,u=s*s+h*h,c=l*l+o*o,f=.5/(s*o-h*l),v=(o*u-h*c)*f,d=(s*c-l*u)*f;return v*v+d*d}function p(t,e,n,i){if(i-n<=20)for(var r=n+1;r<=i;r++){for(var a=t[r],s=e[a],h=r-1;h>=n&&e[t[h]]>s;)t[h+1]=t[h--];t[h+1]=a}else{var l=n+1,o=i;b(t,n+i>>1,l),e[t[n]]>e[t[i]]&&b(t,n,i),e[t[l]]>e[t[i]]&&b(t,l,i),e[t[n]]>e[t[l]]&&b(t,n,l);for(var u=t[l],c=e[u];;){do{l++}while(e[t[l]]<c);do{o--}while(e[t[o]]>c);if(o<l)break;b(t,l,o)}t[n+1]=t[o],t[o]=u,i-l+1>=o-n?(p(t,e,l,i),p(t,e,n,o-1)):(p(t,e,n,o-1),p(t,e,l,i))}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function w(t){return t[0]}function A(t){return t[1]}var T=1e-6,M=function(){function t(){(0,i.Z)(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,r.Z)(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var i=(t=+t)+(n=+n),r=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(i,",").concat(r):(Math.abs(this._x1-i)>T||Math.abs(this._y1-r)>T)&&(this._+="L"+i+","+r),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=i,",").concat(this._y1=r))}},{key:"rect",value:function(t,e,n,i){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+i,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),S=function(){function t(){(0,i.Z)(this,t),this._=[]}return(0,r.Z)(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}(),I=n(4699);function P(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){h=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(h)throw a}}}}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var U=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,I.Z)(n,4),a=r[0],s=r[1],h=r[2],l=r[3];if((0,i.Z)(this,t),!((h=+h)>=(a=+a)&&(l=+l)>=(s=+s)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=h,this.xmin=a,this.ymax=l,this.ymin=s,this._init()}return(0,r.Z)(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n=this.delaunay,i=n.points,r=n.hull,a=n.triangles,s=this.vectors,h=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),l=0,o=0,u=a.length;l<u;l+=3,o+=2){var c=2*a[l],f=2*a[l+1],v=2*a[l+2],d=i[c],y=i[c+1],g=i[f],_=i[f+1],x=i[v],m=i[v+1],k=g-d,p=_-y,b=x-d,w=m-y,A=2*(k*w-p*b);if(Math.abs(A)<1e-9){var T=1e9,M=2*a[0];t=(d+x)/2-(T*=Math.sign((i[M]-d)*w-(i[M+1]-y)*b))*w,e=(y+m)/2+T*b}else{var S=1/A,I=k*k+p*p,P=b*b+w*w;t=d+(w*I-p*P)*S,e=y+(k*P-b*I)*S}h[o]=t,h[o+1]=e}var Z,U,j,z=r[r.length-1],F=4*z,K=i[2*z],L=i[2*z+1];s.fill(0);for(var C=0;C<r.length;++C)Z=F,U=K,j=L,F=4*(z=r[C]),K=i[2*z],L=i[2*z+1],s[Z+2]=s[F]=j-L,s[Z+3]=s[F+1]=K-U}},{key:"render",value:function(t){var e=null==t?t=new M:void 0,n=this.delaunay,i=n.halfedges,r=n.inedges,a=n.hull,s=this.circumcenters,h=this.vectors;if(a.length<=1)return null;for(var l=0,o=i.length;l<o;++l){var u=i[l];if(!(u<l)){var c=2*Math.floor(l/3),f=2*Math.floor(u/3),v=s[c],d=s[c+1],y=s[f],g=s[f+1];this._renderSegment(v,d,y,g,t)}}for(var _,x=a[a.length-1],m=0;m<a.length;++m){_=x,x=a[m];var k=2*Math.floor(r[x]/3),p=s[k],b=s[k+1],w=4*_,A=this._project(p,b,h[w+2],h[w+3]);A&&this._renderSegment(p,b,A[0],A[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new M:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new M:void 0,i=this._clip(t);if(null!==i&&i.length){e.moveTo(i[0],i[1]);for(var r=i.length;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(var a=2;a<r;a+=2)i[a]===i[a-2]&&i[a+1]===i[a-1]||e.lineTo(i[a],i[a+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:s().mark((function t(){var e,n,i,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,i=e.length/2;case 2:if(!(n<i)){t.next=11;break}if(!(r=this.cellPolygon(n))){t.next=8;break}return r.index=n,t.next=8,r;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new S;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,i,r){var a,s=this._regioncode(t,e),h=this._regioncode(n,i);0===s&&0===h?(r.moveTo(t,e),r.lineTo(n,i)):(a=this._clipSegment(t,e,n,i,s,h))&&(r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:s().mark((function t(e){var n,i,r,a,h,l,o,u,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=33;break}i=P(this.delaunay.neighbors(e)),t.prev=3,i.s();case 5:if((r=i.n()).done){t.next=25;break}if(a=r.value,!(h=this._clip(a))){t.next=23;break}l=0,o=n.length;case 10:if(!(l<o)){t.next=23;break}u=0,c=h.length;case 12:if(!(u<c)){t.next=20;break}if(n[l]!=h[u]||n[l+1]!=h[u+1]||n[(l+2)%o]!=h[(u+c-2)%c]||n[(l+3)%o]!=h[(u+c-1)%c]){t.next=17;break}return t.next=16,a;case 16:return t.abrupt("break",23);case 17:u+=2,t.next=12;break;case 20:l+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),i.e(t.t0);case 30:return t.prev=30,i.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,27,30,33]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,i=n.inedges,r=n.halfedges,a=n.triangles,s=i[t];if(-1===s)return null;var h=[],l=s;do{var o=Math.floor(l/3);if(h.push(e[2*o],e[2*o+1]),a[l=l%3==2?l-2:l+1]!==t)break;l=r[l]}while(l!==s&&-1!==l);return h}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,i,r,a,s=e.length,h=null,l=e[s-2],o=e[s-1],u=this._regioncode(l,o),c=0,f=0;f<s;f+=2)if(n=l,i=o,l=e[f],o=e[f+1],r=u,u=this._regioncode(l,o),0===r&&0===u)a=c,c=0,h?h.push(l,o):h=[l,o];else{var v=void 0,d=void 0,y=void 0,g=void 0,_=void 0;if(0===r){if(null===(v=this._clipSegment(n,i,l,o,r,u)))continue;var x=v,m=(0,I.Z)(x,4);d=m[0],y=m[1],g=m[2],_=m[3]}else{if(null===(v=this._clipSegment(l,o,n,i,u,r)))continue;var k=v,p=(0,I.Z)(k,4);g=p[0],_=p[1],d=p[2],y=p[3],a=c,c=this._edgecode(d,y),a&&c&&this._edge(t,a,c,h,h.length),h?h.push(d,y):h=[d,y]}a=c,c=this._edgecode(g,_),a&&c&&this._edge(t,a,c,h,h.length),h?h.push(g,_):h=[g,_]}if(h)a=c,c=this._edgecode(h[0],h[1]),a&&c&&this._edge(t,a,c,h,h.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return h}},{key:"_clipSegment",value:function(t,e,n,i,r,a){for(;;){if(0===r&&0===a)return[t,e,n,i];if(r&a)return null;var s=void 0,h=void 0,l=r||a;8&l?(s=t+(n-t)*(this.ymax-e)/(i-e),h=this.ymax):4&l?(s=t+(n-t)*(this.ymin-e)/(i-e),h=this.ymin):2&l?(h=e+(i-e)*(this.xmax-t)/(n-t),s=this.xmax):(h=e+(i-e)*(this.xmin-t)/(n-t),s=this.xmin),r?(t=s,e=h,r=this._regioncode(t,e)):(n=s,i=h,a=this._regioncode(n,i))}}},{key:"_clipInfinite",value:function(t,e,n,i,r,a){var s,h=Array.from(e);if((s=this._project(h[0],h[1],n,i))&&h.unshift(s[0],s[1]),(s=this._project(h[h.length-2],h[h.length-1],r,a))&&h.push(s[0],s[1]),h=this._clipFinite(t,h))for(var l,o=0,u=h.length,c=this._edgecode(h[u-2],h[u-1]);o<u;o+=2)l=c,c=this._edgecode(h[o],h[o+1]),l&&c&&(o=this._edge(t,l,c,h,o),u=h.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(h=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return h}},{key:"_edge",value:function(t,e,n,i,r){for(;e!==n;){var a=void 0,s=void 0;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,s=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,s=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,s=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,s=this.ymin}i[r]===a&&i[r+1]===s||!this.contains(t,a,s)||(i.splice(r,0,a,s),r+=2)}if(i.length>4)for(var h=0;h<i.length;h+=2){var l=(h+2)%i.length,o=(h+4)%i.length;(i[h]===i[l]&&i[l]===i[o]||i[h+1]===i[l+1]&&i[l+1]===i[o+1])&&(i.splice(l,2),h-=2)}return r}},{key:"_project",value:function(t,e,n,i){var r,a,s,h=1/0;if(i<0){if(e<=this.ymin)return null;(r=(this.ymin-e)/i)<h&&(s=this.ymin,a=t+(h=r)*n)}else if(i>0){if(e>=this.ymax)return null;(r=(this.ymax-e)/i)<h&&(s=this.ymax,a=t+(h=r)*n)}if(n>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/n)<h&&(a=this.xmax,s=e+(h=r)*i)}else if(n<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/n)<h&&(a=this.xmin,s=e+(h=r)*i)}return[a,s]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),t}(),j=s().mark($);function z(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){h=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(h)throw a}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var K=2*Math.PI,L=Math.pow;function C(t){return t[0]}function E(t){return t[1]}function H(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var O=function(){function t(e){(0,i.Z)(this,t),this._delaunator=new x(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return(0,r.Z)(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,i=0;i<e.length;i+=3){var r=2*e[i],a=2*e[i+1],s=2*e[i+2];if((n[s]-n[r])*(n[a+1]-n[r+1])-(n[a]-n[r])*(n[s+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],i=this.collinear[this.collinear.length-1],r=[e[2*n],e[2*n+1],e[2*i],e[2*i+1]],a=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]),s=0,h=e.length/2;s<h;++s){var l=H(e[2*s],e[2*s+1],a);e[2*s]=l[0],e[2*s+1]=l[1]}this._delaunator=new x(e)}else delete this.collinear;for(var o=this.halfedges=this._delaunator.halfedges,u=this.hull=this._delaunator.hull,c=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),v=this._hullIndex.fill(-1),d=0,y=o.length;d<y;++d){var g=c[d%3==2?d-2:d+1];-1!==o[d]&&-1!==f[g]||(f[g]=d)}for(var _=0,m=u.length;_<m;++_)v[u[_]]=_;u.length<=2&&u.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=u[0],f[u[0]]=1,2===u.length&&(f[u[1]]=0,this.triangles[1]=u[1],this.triangles[2]=u[1]))}},{key:"voronoi",value:function(t){return new U(this,t)}},{key:"neighbors",value:s().mark((function t(e){var n,i,r,a,h,l,o,u,c,f,v;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,i=this.hull,r=this._hullIndex,a=this.halfedges,h=this.triangles,!(l=this.collinear)){t.next=10;break}if(!((o=l.indexOf(e))>0)){t.next=6;break}return t.next=6,l[o-1];case 6:if(!(o<l.length-1)){t.next=9;break}return t.next=9,l[o+1];case 9:return t.abrupt("return");case 10:if(-1!==(u=n[e])){t.next=13;break}return t.abrupt("return");case 13:c=u,f=-1;case 14:return t.next=16,f=h[c];case 16:if(h[c=c%3==2?c-2:c+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=a[c])){t.next=26;break}if((v=i[(r[e]+1)%i.length])===f){t.next=25;break}return t.next=25,v;case 25:return t.abrupt("return");case 26:if(c!==u){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;for(var i,r=n;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}},{key:"_step",value:function(t,e,n){var i=this.inedges,r=this.hull,a=this._hullIndex,s=this.halfedges,h=this.triangles,l=this.points;if(-1===i[t]||!l.length)return(t+1)%(l.length>>1);var o=t,u=L(e-l[2*t],2)+L(n-l[2*t+1],2),c=i[t],f=c;do{var v=h[f],d=L(e-l[2*v],2)+L(n-l[2*v+1],2);if(d<u&&(u=d,o=v),h[f=f%3==2?f-2:f+1]!==t)break;if(-1===(f=s[f])){if((f=r[(a[t]+1)%r.length])!==v&&L(e-l[2*f],2)+L(n-l[2*f+1],2)<u)return f;break}}while(f!==c);return o}},{key:"render",value:function(t){for(var e=null==t?t=new M:void 0,n=this.points,i=this.halfedges,r=this.triangles,a=0,s=i.length;a<s;++a){var h=i[a];if(!(h<a)){var l=2*r[a],o=2*r[h];t.moveTo(n[l],n[l+1]),t.lineTo(n[o],n[o+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;for(var n=null==t?t=new M:void 0,i=this.points,r=0,a=i.length;r<a;r+=2){var s=i[r],h=i[r+1];t.moveTo(s+e,h),t.arc(s,h,e,0,K)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new M:void 0,n=this.hull,i=this.points,r=2*n[0],a=n.length;t.moveTo(i[r],i[r+1]);for(var s=1;s<a;++s){var h=2*n[s];t.lineTo(i[h],i[h+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new S;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new M:void 0,i=this.points,r=this.triangles,a=2*r[t*=3],s=2*r[t+1],h=2*r[t+2];return e.moveTo(i[a],i[a+1]),e.lineTo(i[s],i[s+1]),e.lineTo(i[h],i[h+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:s().mark((function t(){var e,n,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,i=e.length/3;case 2:if(!(n<i)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new S;return this.renderTriangle(t,e),e.value()}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,r=arguments.length>3?arguments[3]:void 0;return new t("length"in e?N(e,n,i,r):Float64Array.from($(e,n,i,r)))}}]),t}();function N(t,e,n,i){for(var r=t.length,a=new Float64Array(2*r),s=0;s<r;++s){var h=t[s];a[2*s]=e.call(i,h,s,t),a[2*s+1]=n.call(i,h,s,t)}return a}function $(t,e,n,i){var r,a,h,l;return s().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r=0,a=z(t),s.prev=2,a.s();case 4:if((h=a.n()).done){s.next=13;break}return l=h.value,s.next=8,e.call(i,l,r,t);case 8:return s.next=10,n.call(i,l,r,t);case 10:++r;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),a.e(s.t0);case 18:return s.prev=18,a.f(),s.finish(18);case 21:case"end":return s.stop()}}),j,null,[[2,15,18,21]])}}}]);
//# sourceMappingURL=cf20055a1ec796a5dd789f924371b5983bff8b86-8265a188f45992d65792.js.map