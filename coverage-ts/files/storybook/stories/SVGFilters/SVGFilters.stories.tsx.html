
  <!DOCTYPE html>
  <html>
    <head>
      <title>SVGFilters.stories.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">storybook/stories/SVGFilters/SVGFilters.stories.tsx</td><td class="">100.00%</td><td class="">95%</td><td class="">245</td><td class="">245</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { Selection, select } from &quot;d3&quot;
import React from &quot;react&quot;

import { StoryInfo, createSelectControl } from &quot;../common&quot;

const SHAPE_CONTAINER_ID = &quot;example&quot;

enum FiltersNames {
  Blur12x12 = &quot;blur12x12&quot;,
  Blur2x2 = &quot;blur2x2&quot;,
  BlurShadow = &quot;blur-shadow&quot;,
  None = &quot;none&quot;,
  TurbulenceBlue = &quot;turbulence-blue&quot;,
}

enum ShapesNames {
  Circle = &quot;circle&quot;,
  Rect = &quot;rect&quot;,
}

type Props = {
  filterName: FiltersNames
  shapeName: ShapesNames
}

type FiltersObj = { [key in FiltersNames]: React.FC&lt;{ id: FiltersNames }&gt; }

const commonFilterProps = {
  height: &quot;300%&quot;,
  width: &quot;300%&quot;,
  x: &quot;-100%&quot;,
  y: &quot;-100%&quot;,
} as const

/* eslint-disable react/display-name */
const filtersObj: FiltersObj = {
  [FiltersNames.Blur12x12]: ({ id }) =&gt; (
    &lt;filter {...commonFilterProps} id={id}&gt;
      &lt;feGaussianBlur stdDeviation=&quot;12 12&quot; /&gt;
    &lt;/filter&gt;
  ),
  [FiltersNames.Blur2x2]: ({ id }) =&gt; (
    &lt;filter {...commonFilterProps} id={id}&gt;
      &lt;feGaussianBlur stdDeviation=&quot;2 2&quot; /&gt;
    &lt;/filter&gt;
  ),
  [FiltersNames.BlurShadow]: ({ id }) =&gt; (
    &lt;filter {...commonFilterProps} id={id}&gt;
      &lt;feGaussianBlur stdDeviation=&quot;7 5&quot; /&gt;
      &lt;feDropShadow
        dx=&quot;15&quot;
        dy=&quot;15&quot;
        floodColor=&quot;#777&quot;
        floodOpacity=&quot;0.25&quot;
        stdDeviation=&quot;5&quot;
      /&gt;
    &lt;/filter&gt;
  ),
  [FiltersNames.None]: () =&gt; &lt;g /&gt;,
  [FiltersNames.TurbulenceBlue]: ({ id }) =&gt; (
    &lt;filter {...commonFilterProps} id={id}&gt;
      &lt;feTurbulence
        baseFrequency=&quot;.05,.004&quot;
        height=&quot;200%&quot;
        numOctaves=&quot;4&quot;
        result=&quot;FRACTAL-TEXTURE_10&quot;
        seed=&quot;0&quot;
        type=&quot;fractalNoise&quot;
        width=&quot;200%&quot;
      /&gt;
      &lt;feComposite
        in=&quot;FRACTAL-TEXTURE_10&quot;
        in2=&quot;SourceAlpha&quot;
        operator=&quot;in&quot;
        result=&quot;myComposite&quot;
      /&gt;
      &lt;feColorMatrix
        in=&quot;myComposite&quot;
        type=&quot;matrix&quot;
        values=&quot;0   0   0   0   0
                0   0   0   0   0
                0   0   0   0   1
                0   0   0   0.5 0&quot;
      /&gt;
    &lt;/filter&gt;
  ),
}
/* eslint-enable react/display-name */

const filters = Object.values(FiltersNames).map((filterName: FiltersNames) =&gt; ({
  comp: filtersObj[filterName],
  id: filterName,
}))

const setupSVG = () =&gt; {
  const container = document.getElementById(SHAPE_CONTAINER_ID) as HTMLElement
  const { width } = container.getBoundingClientRect()

  select(`#${SHAPE_CONTAINER_ID}`).text(&quot;&quot;).append(&quot;svg&quot;).attr(&quot;width&quot;, width)
}

type GetShape = {
  [key in ShapesNames]: (
    svg: Selection&lt;SVGGElement, unknown, HTMLElement, unknown&gt;
  ) =&gt; Selection&lt;SVGElement, unknown, HTMLElement, unknown&gt;
}

const getShape: GetShape = {
  [ShapesNames.Circle]: (svg) =&gt; {
    const radius = 50
    const padding = 20

    return svg
      .append&lt;SVGElement&gt;(&quot;circle&quot;)
      .attr(&quot;fill&quot;, &quot;green&quot;)
      .attr(&quot;r&quot;, radius)
      .attr(&quot;cx&quot;, radius + padding)
      .attr(&quot;cy&quot;, radius + padding)
  },
  [ShapesNames.Rect]: (svg) =&gt;
    svg
      .append&lt;SVGElement&gt;(&quot;rect&quot;)
      .attr(&quot;width&quot;, 200)
      .attr(&quot;height&quot;, 80)
      .attr(&quot;x&quot;, 20)
      .attr(&quot;y&quot;, 20)
      .attr(&quot;fill&quot;, &quot;blue&quot;),
}

const demo = ({ filterName, shapeName }: Props) =&gt; {
  setupSVG()

  const svg = select&lt;SVGGElement, unknown&gt;(`#${SHAPE_CONTAINER_ID}`).text(&quot;&quot;)
  const shape = getShape[shapeName](svg)

  shape.style(
    &quot;filter&quot;,
    filterName === FiltersNames.None ? &quot;&quot; : `url(#${filterName})`
  )
}

const SVGFilters = (props: Props) =&gt; {
  React.useEffect(() =&gt; {
    demo(props)
  }, [props])

  return (
    &lt;div&gt;
      &lt;StoryInfo
        source={[
          &quot;https://alligator.io/svg/svg-filters/&quot;,
          &quot;https://www.smashingmagazine.com/2015/05/why-the-svg-filter-is-awesome/&quot;,
        ]}
        storyName=&quot;SVGFilters&quot;
      /&gt;
      &lt;p&gt;
        You can choose a wide options of SVG filters to apply in different
        shapes
      &lt;/p&gt;
      &lt;svg&gt;
        &lt;g&gt;
          {filters.map(({ comp: Filter, id }) =&gt; (
            &lt;Filter id={id} key={id} /&gt;
          ))}
        &lt;/g&gt;
        &lt;g id={SHAPE_CONTAINER_ID} /&gt;
      &lt;/svg&gt;
    &lt;/div&gt;
  )
}

const [filtersArgs, filtersControls] = createSelectControl(
  Object.values(FiltersNames)
)
const [shapesArgs, shapesControls] = createSelectControl(
  Object.values(ShapesNames)
)

export const Common = (props: Props) =&gt; &lt;SVGFilters {...props} /&gt;

const commonArgs: Props = {
  filterName: filtersArgs,
  shapeName: shapesArgs,
}

Common.args = commonArgs

export default {
  argTypes: {
    filterName: filtersControls,
    shapeName: shapesControls,
  },
  component: SVGFilters,
  title: &quot;SVG/Filters&quot;,
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Sat, 18 Sep 2021 10:48:19 GMT</p>
    </body>
  </html>
  