
  <!DOCTYPE html>
  <html>
    <head>
      <title>page-data.json</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">public/page-data/d3js/collapsible-tree/page-data.json</td><td class="">100.00%</td><td class="">95%</td><td class="">0</td><td class="">0</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">{&quot;componentChunkName&quot;:&quot;component---src-pages-d-3-js-collapsible-tree-tsx&quot;,&quot;path&quot;:&quot;/d3js/collapsible-tree/&quot;,&quot;result&quot;:{&quot;pageContext&quot;:{&quot;demoInfo&quot;:{&quot;dataFiles&quot;:[&quot;data.json&quot;],&quot;docs&quot;:[],&quot;isCompleted&quot;:true,&quot;name&quot;:&quot;Collapsible Tree&quot;,&quot;notes&quot;:[],&quot;sources&quot;:[&quot;http://bl.ocks.org/mbostock/4339083&quot;,&quot;https://observablehq.com/@d3/collapsible-tree&quot;],&quot;summary&quot;:[],&quot;category&quot;:&quot;d3js&quot;,&quot;files&quot;:{&quot;cssModule&quot;:&quot;.collapsibleTreeChart {\n  .node {\n    cursor: pointer;\n  }\n\n  .node circle {\n    fill: #fff;\n    stroke: steelblue;\n    stroke-width: 1.5px;\n  }\n\n  .node text {\n    font: 10px sans-serif;\n  }\n\n  .link {\n    fill: none;\n    stroke: #ccc;\n    stroke-width: 1.5px;\n  }\n}\n&quot;,&quot;demo&quot;:[{&quot;content&quot;:&quot;import {\n  HierarchyNode,\n  HierarchyPointLink,\n  HierarchyPointNode,\n  hierarchy,\n  json,\n  linkHorizontal,\n  select,\n  tree as treeD3,\n} from \&quot;d3\&quot;\n\nimport * as styles from \&quot;./collapsible-tree.module.css\&quot;\n\ntype DataNode = {\n  _children: Array&lt;HierarchyPointNode&lt;DataNode&gt;&gt; | undefined\n  children: DataNode[]\n  id: number\n  name: string\n  x: number\n  x0: number\n  y: number\n  y0: number\n}\ntype HierarchyDataNode = HierarchyNode&lt;DataNode&gt;\ntype TreeNode = HierarchyPointNode&lt;DataNode&gt;\ntype TreeLink = HierarchyPointLink&lt;DataNode&gt;\n\ntype DiagonalNode = { x: number; y: number }\ntype DiagonalLink = { source: DiagonalNode; target: DiagonalNode }\n\nconst fetchData = async (): Promise&lt;DataNode&gt; =&gt;\n  json(`${ROOT_PATH}data/d3js/collapsible-tree/data.json`) as Promise&lt;DataNode&gt;\n\nconst margin = {\n  bottom: 20,\n  left: 120,\n  right: 120,\n  top: 20,\n}\n\nconst duration = 750\nconst height = 800 - margin.top - margin.bottom\n\ntype RenderChart = (o: { rootData: DataNode; rootElId: string }) =&gt; void\n\nconst renderChart: RenderChart = ({ rootData, rootElId }) =&gt; {\n  const root = hierarchy&lt;DataNode&gt;(rootData)\n\n  const rootEl = document.getElementById(rootElId) as HTMLElement\n\n  rootEl.classList.add(styles.collapsibleTreeChart)\n\n  const width =\n    rootEl.getBoundingClientRect().width - margin.right - margin.left\n\n  root.data.x0 = height / 2\n  root.data.y0 = 0\n\n  const tree = treeD3&lt;DataNode&gt;().nodeSize([20, 100])\n\n  const rootTree = tree(root)\n\n  rootTree\n    .descendants()\n    .forEach((...[treeNode, treeNodeIndex]: [TreeNode, number]) =&gt; {\n      treeNode.data.id = treeNodeIndex\n      treeNode.data._children = treeNode.children\n\n      if (treeNode.depth) {\n        treeNode.children = undefined\n      }\n    })\n\n  const diagonal = linkHorizontal&lt;DiagonalLink, DiagonalNode&gt;()\n    .x((diagonalNode) =&gt; diagonalNode.y)\n    .y((diagonalNode) =&gt; diagonalNode.x)\n\n  const svg = select&lt;SVGElement, TreeNode&gt;(`#${rootElId}`)\n    .append(\&quot;svg\&quot;)\n    .attr(\&quot;width\&quot;, width + margin.right + margin.left)\n    .attr(\&quot;height\&quot;, height + margin.top + margin.bottom)\n    .append(\&quot;g\&quot;)\n    .attr(\&quot;transform\&quot;, `translate(${margin.left},${height / 2})`)\n\n  const gLink = svg\n    .append(\&quot;g\&quot;)\n    .attr(\&quot;fill\&quot;, \&quot;none\&quot;)\n    .attr(\&quot;stroke\&quot;, \&quot;#555\&quot;)\n    .attr(\&quot;stroke-opacity\&quot;, 0.4)\n    .attr(\&quot;stroke-width\&quot;, 1.5)\n\n  const gNode = svg\n    .append(\&quot;g\&quot;)\n    .attr(\&quot;cursor\&quot;, \&quot;pointer\&quot;)\n    .attr(\&quot;pointer-events\&quot;, \&quot;all\&quot;)\n\n  const update = function (source: TreeNode) {\n    const nodes = rootTree.descendants().reverse()\n    const links = rootTree.links()\n\n    tree(root)\n\n    let left = root\n    let right = root\n\n    root.eachBefore((node: HierarchyDataNode) =&gt; {\n      if (node.data.x &lt; left.data.x) {\n        left = node\n      }\n\n      if (node.data.x &gt; right.data.x) {\n        right = node\n      }\n    })\n\n    const node = gNode\n      .selectAll&lt;SVGGElement, TreeNode&gt;(\&quot;g\&quot;)\n      .data(nodes, (treeNode) =&gt; treeNode.data.id)\n\n    const nodeEnter = node\n      .enter()\n      .append(\&quot;g\&quot;)\n      .attr(\&quot;transform\&quot;, () =&gt; `translate(${source.data.y0},${source.data.x0})`)\n      .attr(\&quot;fill-opacity\&quot;, 0)\n      .attr(\&quot;stroke-opacity\&quot;, 0)\n      .on(\&quot;click\&quot;, (...[, treeNode]) =&gt; {\n        treeNode.children = treeNode.children\n          ? undefined\n          : treeNode.data._children\n\n        update(treeNode)\n      })\n\n    nodeEnter\n      .append(\&quot;circle\&quot;)\n      .attr(\&quot;r\&quot;, 2.5)\n      .attr(\&quot;fill\&quot;, (treeNode) =&gt; (treeNode.data._children ? \&quot;#555\&quot; : \&quot;#999\&quot;))\n      .attr(\&quot;stroke-width\&quot;, 10)\n\n    nodeEnter\n      .append(\&quot;text\&quot;)\n      .attr(\&quot;dy\&quot;, \&quot;0.31em\&quot;)\n      .attr(\&quot;x\&quot;, (treeNode) =&gt; (treeNode.data._children ? -6 : 6))\n      .attr(\&quot;text-anchor\&quot;, (treeNode) =&gt;\n        treeNode.data._children ? \&quot;end\&quot; : \&quot;start\&quot;\n      )\n      .text((treeNode) =&gt; treeNode.data.name)\n      .clone(true)\n      .lower()\n      .attr(\&quot;stroke-linejoin\&quot;, \&quot;round\&quot;)\n      .attr(\&quot;stroke-width\&quot;, 3)\n      .attr(\&quot;stroke\&quot;, \&quot;white\&quot;)\n\n    node\n      .merge(nodeEnter)\n      .transition()\n      .duration(duration)\n      .attr(\&quot;transform\&quot;, (treeNode) =&gt; `translate(${treeNode.y},${treeNode.x})`)\n      .attr(\&quot;fill-opacity\&quot;, 1)\n      .attr(\&quot;stroke-opacity\&quot;, 1)\n\n    node\n      .exit()\n      .transition()\n      .duration(duration)\n      .remove()\n      .attr(\&quot;transform\&quot;, () =&gt; `translate(${source.y},${source.x})`)\n      .attr(\&quot;fill-opacity\&quot;, 0)\n      .attr(\&quot;stroke-opacity\&quot;, 0)\n\n    const link = gLink\n      .selectAll&lt;SVGPathElement, TreeLink&gt;(\&quot;path\&quot;)\n      .data(links, (treeLink) =&gt; treeLink.target.data.id)\n\n    const linkEnter = link\n      .enter()\n      .append(\&quot;path\&quot;)\n      .attr(\&quot;d\&quot;, () =&gt; {\n        const o = {\n          x: source.data.x0,\n          y: source.data.y0,\n        }\n\n        return diagonal({ source: o, target: o })\n      })\n\n    link.merge(linkEnter).transition().duration(duration).attr(\&quot;d\&quot;, diagonal)\n\n    link\n      .exit()\n      .transition()\n      .duration(duration)\n      .remove()\n      .attr(\&quot;d\&quot;, () =&gt; {\n        const o = { x: source.x, y: source.y }\n\n        return diagonal({ source: o, target: o })\n      })\n\n    rootTree.eachBefore((treeNode) =&gt; {\n      treeNode.data.x0 = treeNode.x\n      treeNode.data.y0 = treeNode.y\n    })\n  }\n\n  update(rootTree)\n}\n\nconst main = async () =&gt; {\n  const rootElId = \&quot;chart\&quot;\n\n  const rootData = await fetchData()\n\n  renderChart({\n    rootData,\n    rootElId,\n  })\n}\n\nexport default main\n&quot;,&quot;fileName&quot;:&quot;collapsible-tree&quot;}],&quot;page&quot;:{&quot;content&quot;:&quot;import React from \&quot;react\&quot;\n\nimport { DemoPageProps } from \&quot;@/common\&quot;\n\nimport Demo from \&quot;@/components/demo\&quot;\n\nimport main from \&quot;@/demos/collapsible-tree/collapsible-tree\&quot;\n\nconst CollapsibleTree = ({ pageContext }: DemoPageProps) =&gt; (\n  &lt;Demo main={main} pageContext={pageContext}&gt;\n    &lt;div id=\&quot;chart\&quot; /&gt;\n  &lt;/Demo&gt;\n)\n\nexport default CollapsibleTree\n&quot;,&quot;type&quot;:&quot;tsx&quot;}},&quot;key&quot;:&quot;collapsible-tree&quot;},&quot;meta&quot;:{&quot;description&quot;:&quot;Collapsible Tree example using D3.js, with circular nodes and styled links. With transitions, it manages the text placing depending if the node is expanded.&quot;}}},&quot;staticQueryHashes&quot;:[]}</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Mon, 30 Aug 2021 23:02:56 GMT</p>
    </body>
  </html>
  