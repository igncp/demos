
  <!DOCTYPE html>
  <html>
    <head>
      <title>page-data.json</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">public/page-data/d3js/concentric-circles/page-data.json</td><td class="">100.00%</td><td class="">95%</td><td class="">0</td><td class="">0</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">{&quot;componentChunkName&quot;:&quot;component---src-pages-d-3-js-concentric-circles-tsx&quot;,&quot;path&quot;:&quot;/d3js/concentric-circles/&quot;,&quot;result&quot;:{&quot;pageContext&quot;:{&quot;demoInfo&quot;:{&quot;data&quot;:[],&quot;docs&quot;:[],&quot;isCompleted&quot;:true,&quot;name&quot;:&quot;Concentric Circles&quot;,&quot;notes&quot;:[&quot;Data of baby names in New York 2012&quot;,&quot;Custom color scale&quot;,&quot;Added box shadow filter&quot;],&quot;sources&quot;:[&quot;http://codepen.io/notno/pen/wgyAz&quot;,&quot;http://bl.ocks.org/cpbotha/5200394&quot;,&quot;http://stackoverflow.com/questions/17671252/d3-create-a-continous-color-scale-with-many-strings-inputs-for-the-range-and-dy&quot;],&quot;summary&quot;:[],&quot;category&quot;:&quot;d3js&quot;,&quot;files&quot;:{&quot;cssModule&quot;:&quot;&quot;,&quot;demo&quot;:[{&quot;content&quot;:&quot;import {\n  Selection,\n  csv,\n  extent,\n  max,\n  range,\n  scaleLinear,\n  scalePow,\n  select,\n} from \&quot;d3\&quot;\n\ntype DataItem = {\n  count: string\n  name: string\n  sex: string\n  year: string\n}\ntype Data = DataItem[]\ntype SVG = Selection&lt;SVGGElement, unknown, HTMLElement, unknown&gt;\n\nconst fetchData = async (): Promise&lt;Data&gt; =&gt; {\n  const data = await csv(`${ROOT_PATH}data/d3js/concentric-circles/data.csv`)\n\n  return (data as unknown) as Data\n}\n\nconst colours = [\&quot;#7C7CC9\&quot;, \&quot;#52D552\&quot;, \&quot;#337233\&quot;, \&quot;#323247\&quot;]\n\nconst margin = {\n  bottom: 20,\n  left: 20,\n  right: 20,\n  top: 20,\n}\nconst strokeWidth = \&quot;2px\&quot;\n\nconst addFilter = (svg: SVG) =&gt; {\n  const defs = svg.append(\&quot;defs\&quot;)\n  const filter = defs.append(\&quot;filter\&quot;)\n\n  filter.attr(\&quot;id\&quot;, \&quot;drop-shadow\&quot;)\n  filter\n    .append(\&quot;feGaussianBlur\&quot;)\n    .attr(\&quot;in\&quot;, \&quot;SourceAlpha\&quot;)\n    .attr(\&quot;stdDeviation\&quot;, 9)\n  filter.append(\&quot;feOffset\&quot;).attr(\&quot;dx\&quot;, 5).attr(\&quot;dy\&quot;, 5)\n  filter\n    .append(\&quot;feComponentTransfer\&quot;)\n    .append(\&quot;feFuncA\&quot;)\n    .attr(\&quot;slope\&quot;, \&quot;.3\&quot;)\n    .attr(\&quot;type\&quot;, \&quot;linear\&quot;)\n\n  const feMerge = filter.append(\&quot;feMerge\&quot;)\n\n  feMerge.append(\&quot;feMergeNode\&quot;)\n  feMerge.append(\&quot;feMergeNode\&quot;).attr(\&quot;in\&quot;, \&quot;SourceGraphic\&quot;)\n}\n\ntype AddDescription = (o: { height: number; svg: SVG; width: number }) =&gt; void\n\nconst addDescription: AddDescription = ({ height, svg, width }) =&gt; {\n  svg\n    .append(\&quot;text\&quot;)\n    .text(\n      \&quot;Circles radius are proportional to the count of times the name appears\&quot;\n    )\n    .attr(\&quot;transform\&quot;, `translate(${width / 2},${height - 10})`)\n    .attr(\&quot;width\&quot;, \&quot;20px\&quot;)\n}\n\ntype RenderChart = (o: { data: Data; rootElId: string }) =&gt; void\n\nconst renderChart: RenderChart = ({ data, rootElId }) =&gt; {\n  const c = scaleLinear()\n    .domain(extent(data, (d) =&gt; +d.count) as [number, number])\n    .range([0, 1])\n\n  const heatmapColour = scaleLinear&lt;string&gt;()\n    .domain(range(0, 1, 1.0 / colours.length))\n    .range(colours)\n\n  const colorize = (d: Data[number]) =&gt; {\n    const colorNormalized = c(+d.count)\n\n    return heatmapColour(colorNormalized)\n  }\n\n  const rootEl = document.getElementById(rootElId) as HTMLElement\n  const { width: elWidth } = rootEl.getBoundingClientRect()\n\n  const width = elWidth - margin.left - margin.right\n  const height = (max(data, (d) =&gt; +d.count) as number) * 2.5\n\n  const svg: SVG = select(`#${rootElId}`)\n    .append(\&quot;svg\&quot;)\n    .attr(\&quot;width\&quot;, width + margin.left + margin.right)\n    .attr(\&quot;height\&quot;, height + margin.left + margin.right)\n    .append(\&quot;g\&quot;)\n\n  addFilter(svg)\n\n  const circleGroup = svg\n    .selectAll&lt;SVGGElement, DataItem&gt;(\&quot;g\&quot;)\n    .data(data, (d: DataItem) =&gt; d.name)\n    .enter()\n    .append(\&quot;g\&quot;)\n\n  const circles = circleGroup.append&lt;SVGCircleElement&gt;(\&quot;svg:circle\&quot;)\n  const rScale = scalePow()\n    .exponent(0.9)\n    .range([5, 300])\n    .domain(extent(data, (d) =&gt; +d.count) as [number, number])\n\n  const getTitle = (d: Data[number]) =&gt; `${d.name}: ${d.count}`\n  const dataMax = max(data, (d) =&gt; +d.count) as number\n\n  circles\n    .attr(\&quot;cx\&quot;, width / 2)\n    .attr(\&quot;cy\&quot;, height / 2)\n    .attr(\&quot;r\&quot;, (d) =&gt; rScale(+d.count))\n    .attr(\&quot;class\&quot;, \&quot;name-circle\&quot;)\n    .attr(\&quot;title\&quot;, getTitle)\n    .style(\&quot;fill\&quot;, \&quot;#fff\&quot;)\n    .style(\&quot;stroke\&quot;, (d) =&gt; colorize(d))\n    .style(\&quot;stroke-width\&quot;, strokeWidth)\n    .style(\&quot;filter\&quot;, (d) =&gt; {\n      if (+d.count &gt; dataMax / 2.5) {\n        return \&quot;url(#drop-shadow)\&quot;\n      }\n\n      return \&quot;\&quot;\n    })\n    .on(\&quot;mouseover\&quot;, function () {\n      select(this).style(\&quot;stroke\&quot;, \&quot;#D88021\&quot;).style(\&quot;stroke-width\&quot;, \&quot;10px\&quot;)\n    })\n    .on(\&quot;mouseleave\&quot;, function () {\n      select&lt;SVGCircleElement, DataItem&gt;(this)\n        .style(\&quot;stroke\&quot;, (d) =&gt; colorize(d))\n        .style(\&quot;stroke-width\&quot;, strokeWidth)\n    })\n\n  $(\&quot;.name-circle\&quot;).tooltip({\n    track: true,\n  })\n\n  addDescription({\n    height,\n    svg,\n    width,\n  })\n}\n\nconst main = async () =&gt; {\n  const data = await fetchData()\n\n  renderChart({\n    data,\n    rootElId: \&quot;chart\&quot;,\n  })\n}\n\nexport default main\n&quot;,&quot;fileName&quot;:&quot;concentric-circles&quot;}],&quot;page&quot;:{&quot;content&quot;:&quot;import React from \&quot;react\&quot;\n\nimport { DemoPageProps } from \&quot;@/common\&quot;\n\nimport Demo from \&quot;@/components/demo\&quot;\n\nimport main from \&quot;@/demos/concentric-circles/concentric-circles\&quot;\n\nconst ConcentricCircles = ({ pageContext }: DemoPageProps) =&gt; (\n  &lt;Demo\n    links={[\&quot;/vendors/jquery-ui/themes/base/jquery-ui.min.css\&quot;]}\n    main={main}\n    pageContext={pageContext}\n    scripts={[\&quot;/vendors/jquery-ui/jquery-ui.min.js\&quot;]}\n  &gt;\n    &lt;div id=\&quot;chart\&quot; /&gt;\n  &lt;/Demo&gt;\n)\n\nexport default ConcentricCircles\n&quot;,&quot;type&quot;:&quot;tsx&quot;}},&quot;key&quot;:&quot;concentric-circles&quot;},&quot;meta&quot;:{&quot;description&quot;:&quot;Concentric circles example using D3.js, with a non repeated series of data and with a new style that heavily uses the svg drop-shadow type filter.&quot;}}},&quot;staticQueryHashes&quot;:[]}</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 19 Aug 2021 23:11:45 GMT</p>
    </body>
  </html>
  