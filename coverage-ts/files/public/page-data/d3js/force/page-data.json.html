
  <!DOCTYPE html>
  <html>
    <head>
      <title>page-data.json</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">public/page-data/d3js/force/page-data.json</td><td class="">100.00%</td><td class="">95%</td><td class="">0</td><td class="">0</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">{&quot;componentChunkName&quot;:&quot;component---src-pages-d-3-js-force-tsx&quot;,&quot;path&quot;:&quot;/d3js/force/&quot;,&quot;result&quot;:{&quot;pageContext&quot;:{&quot;demoInfo&quot;:{&quot;data&quot;:[&quot;links.json&quot;,&quot;nodes.json&quot;],&quot;docs&quot;:[],&quot;isCompleted&quot;:true,&quot;name&quot;:&quot;Force&quot;,&quot;notes&quot;:[],&quot;sources&quot;:[&quot;http://codepen.io/MidnightLightning/pen/dclbA&quot;],&quot;summary&quot;:[],&quot;category&quot;:&quot;d3js&quot;,&quot;files&quot;:{&quot;cssModule&quot;:&quot;.forceChart {\n  .linkCurved {\n    fill: none;\n    stroke: #666;\n    stroke-width: 1.5px;\n  }\n\n  circle {\n    fill: #9c9;\n    stroke: #fff;\n    stroke-width: 1.5px;\n  }\n\n  text {\n    fill: #999;\n    font: 20px sans-serif;\n    pointer-events: none;\n  }\n\n  .node text {\n    fill: #000;\n    font-size: 12px;\n  }\n}\n&quot;,&quot;demo&quot;:[{&quot;content&quot;:&quot;import * as d3 from \&quot;d3\&quot;\n\nimport * as styles from \&quot;./force.module.css\&quot;\n\ntype Node = {\n  fx: number | null\n  fy: number | null\n  index: number\n  name: string\n  x: number\n  y: number\n}\n\ntype Data = {\n  links: Array&lt;{\n    index: number\n    name: string\n    source: Node\n    target: Node\n  }&gt;\n  nodes: Node[]\n}\n\ntype CustomDragEvent = DragEvent &amp; { active: boolean }\n\nconst fetchData = async (): Promise&lt;Data&gt; =&gt; {\n  const [nodes, links] = await Promise.all([\n    d3.json(`${ROOT_PATH}data/d3js/force/nodes.json`),\n    d3.json(`${ROOT_PATH}data/d3js/force/links.json`),\n  ])\n\n  return {\n    links,\n    nodes,\n  } as Data\n}\n\nconst settings = {\n  circleRadius: 5,\n  defaultTextOpacity: 0.5,\n  strength: -40,\n  textDY: 5,\n}\n\nconst height = 600\n\ntype RenderGraph = (o: { data: Data; rootElId: string }) =&gt; void\n\nconst renderGraph: RenderGraph = ({ data, rootElId }) =&gt; {\n  const { links, nodes } = data\n\n  const rootEl = document.getElementById(rootElId) as HTMLElement\n\n  rootEl.classList.add(styles.forceChart)\n\n  const { width } = rootEl.getBoundingClientRect()\n\n  const svg = d3\n    .select(`#${rootElId}`)\n    .append(\&quot;svg\&quot;)\n    .attr(\&quot;width\&quot;, width)\n    .attr(\&quot;height\&quot;, height)\n\n  const ticked = () =&gt; {\n    /* eslint-disable @typescript-eslint/no-use-before-define */\n    updateLinks()\n    updateNodes()\n    /* eslint-enable @typescript-eslint/no-use-before-define */\n  }\n\n  const simulation = d3\n    .forceSimulation(nodes)\n    .force(\&quot;charge\&quot;, d3.forceManyBody().strength(settings.strength))\n    .force(\&quot;center\&quot;, d3.forceCenter(width / 2, height / 2))\n    .force(\&quot;link\&quot;, d3.forceLink().links(links))\n    .on(\&quot;tick\&quot;, ticked)\n\n  const dragstarted = (event: CustomDragEvent, d: Node) =&gt; {\n    if (!event.active) {\n      simulation.alphaTarget(0.3).restart()\n    }\n\n    d.fx = d.x\n    d.fy = d.y\n  }\n\n  const dragged = (event: CustomDragEvent, d: Node) =&gt; {\n    d.fx = event.x\n    d.fy = event.y\n  }\n\n  const dragended = (event: CustomDragEvent, d: Node) =&gt; {\n    if (!event.active) {\n      simulation.alphaTarget(0)\n    }\n\n    d.fx = null\n    d.fy = null\n  }\n\n  const updateLinks = () =&gt; {\n    const linksEls = svg\n      .selectAll&lt;SVGPathElement, Data[\&quot;links\&quot;]&gt;(`.${styles.linkCurved}`)\n      .data(links)\n\n    linksEls\n      .enter()\n      .append&lt;SVGPathElement&gt;(\&quot;path\&quot;)\n      .merge(linksEls)\n      .attr(\&quot;d\&quot;, (d) =&gt; {\n        const dx = d.target.x - d.source.x\n        const dy = d.target.y - d.source.y\n        const dr = Math.sqrt(dx * dx + dy * dy) * 1.3\n\n        return `M${d.source.x},${d.source.y}A${dr},${dr} 0 0,1 ${d.target.x},${d.target.y}`\n      })\n      .attr(\&quot;class\&quot;, styles.linkCurved)\n\n    linksEls.exit().remove()\n  }\n\n  const updateNodes = () =&gt; {\n    const nodesEls = svg\n      .selectAll&lt;SVGCircleElement, Data[\&quot;nodes\&quot;]&gt;(\&quot;circle\&quot;)\n      .data(nodes)\n    const textsEls = svg\n      .selectAll&lt;SVGTextElement, Data[\&quot;nodes\&quot;]&gt;(\&quot;text\&quot;)\n      .data(nodes)\n\n    nodesEls\n      .enter()\n      .append(\&quot;circle\&quot;)\n      .merge(nodesEls)\n      .attr(\&quot;cx\&quot;, (d) =&gt; d.x)\n      .attr(\&quot;cy\&quot;, (d) =&gt; d.y)\n      .attr(\&quot;r\&quot;, () =&gt; settings.circleRadius)\n      .attr(\&quot;fill\&quot;, \&quot;black\&quot;)\n      .each(function () {\n        d3.select&lt;SVGCircleElement, Data[\&quot;nodes\&quot;][0]&gt;(this)\n          .on(\&quot;mouseover\&quot;, (_ev, d) =&gt; {\n            d3.select(`#node-text-${d.index}`).style(\&quot;opacity\&quot;, 1)\n          })\n          .on(\&quot;mouseleave\&quot;, (_ev, d) =&gt; {\n            d3.select(`#node-text-${d.index}`).style(\n              \&quot;opacity\&quot;,\n              settings.defaultTextOpacity\n            )\n          })\n      })\n      .call(\n        d3\n          .drag&lt;SVGCircleElement, Data[\&quot;nodes\&quot;][0]&gt;()\n          .on(\&quot;start\&quot;, dragstarted)\n          .on(\&quot;drag\&quot;, dragged)\n          .on(\&quot;end\&quot;, dragended)\n      )\n\n    textsEls\n      .enter()\n      .append(\&quot;text\&quot;)\n      .merge(textsEls)\n      .text((d) =&gt; d.name)\n      .attr(\&quot;x\&quot;, (d) =&gt; d.x)\n      .attr(\&quot;y\&quot;, (d) =&gt; d.y)\n      .attr(\&quot;dy\&quot;, () =&gt; settings.textDY)\n      .attr(\&quot;id\&quot;, (d) =&gt; `node-text-${d.index}`)\n      .style(\&quot;opacity\&quot;, settings.defaultTextOpacity)\n\n    nodesEls.exit().remove()\n    textsEls.exit().remove()\n  }\n\n  svg\n    .selectAll(`.${styles.linkCurved}`)\n    .data(links)\n    .enter()\n    .append(\&quot;svg:path\&quot;)\n    .attr(\&quot;class\&quot;, styles.linkCurved)\n    .attr(\&quot;marker-end\&quot;, \&quot;url(#end)\&quot;)\n    .attr(\&quot;id\&quot;, (_d, i) =&gt; `link-${i}`)\n}\n\nconst main = async () =&gt; {\n  const data = await fetchData()\n\n  renderGraph({\n    data,\n    rootElId: \&quot;chart\&quot;,\n  })\n}\n\nexport default main\n&quot;,&quot;fileName&quot;:&quot;force&quot;}],&quot;page&quot;:{&quot;content&quot;:&quot;import React from \&quot;react\&quot;\n\nimport { DemoPageProps } from \&quot;@/common\&quot;\n\nimport Demo from \&quot;@/components/demo\&quot;\n\nimport main from \&quot;@/demos/force/force\&quot;\n\nconst Force = ({ pageContext }: DemoPageProps) =&gt; (\n  &lt;Demo main={main} pageContext={pageContext}&gt;\n    &lt;div id=\&quot;chart\&quot; /&gt;\n  &lt;/Demo&gt;\n)\n\nexport default Force\n&quot;,&quot;type&quot;:&quot;tsx&quot;}},&quot;key&quot;:&quot;force&quot;},&quot;meta&quot;:{&quot;description&quot;:&quot;Force Chart example using D3.js with two source files of data, that shows how a process with several cycles and paths can be represented.&quot;}}},&quot;staticQueryHashes&quot;:[]}</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Sat, 21 Aug 2021 11:53:34 GMT</p>
    </body>
  </html>
  