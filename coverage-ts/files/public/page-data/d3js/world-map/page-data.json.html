
  <!DOCTYPE html>
  <html>
    <head>
      <title>page-data.json</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">public/page-data/d3js/world-map/page-data.json</td><td class="">100.00%</td><td class="">95%</td><td class="">0</td><td class="">0</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">{&quot;componentChunkName&quot;:&quot;component---src-pages-d-3-js-world-map-tsx&quot;,&quot;path&quot;:&quot;/d3js/world-map/&quot;,&quot;result&quot;:{&quot;pageContext&quot;:{&quot;demoInfo&quot;:{&quot;dataFiles&quot;:[&quot;world.json&quot;],&quot;docs&quot;:[],&quot;isCompleted&quot;:true,&quot;name&quot;:&quot;World Map&quot;,&quot;notes&quot;:[&quot;Added the mouse over stroke and the zooming-unzooming when clicking in countries (from third source)&quot;,&quot;Click a country to zoom, click in the water or the same country to set zoom back to normal&quot;],&quot;sources&quot;:[&quot;http://bost.ocks.org/mike/map/&quot;,&quot;http://bl.ocks.org/mbostock/raw/4090846/world-50m.json&quot;,&quot;http://bl.ocks.org/mbostock/2206590&quot;],&quot;summary&quot;:[],&quot;category&quot;:&quot;d3js&quot;,&quot;files&quot;:{&quot;cssModule&quot;:&quot;&quot;,&quot;demo&quot;:[{&quot;content&quot;:&quot;import {\n  GeoPermissibleObjects,\n  geoMercator,\n  geoPath,\n  interpolateRdYlGn,\n  json,\n  scaleLinear,\n  select,\n} from \&quot;d3\&quot;\nimport { feature } from \&quot;topojson-client\&quot;\n\ntype CountryData = GeoPermissibleObjects &amp; {\n  id: number\n}\n\nconst fetchData = () =&gt; json(`${ROOT_PATH}data/d3js/world-map/world.json`)\n\nconst transitionDuration = 1500\n\ntype WorldData = any // eslint-disable-line @typescript-eslint/no-explicit-any\n\ntype RenderChart = (o: { rootElId: string; world: WorldData }) =&gt; void\n\nconst renderChart: RenderChart = ({ rootElId, world }) =&gt; {\n  const state: {\n    lastZoomId: number | null\n  } = {\n    lastZoomId: null,\n  }\n\n  const { features: featuresData } = feature(\n    world,\n    world.objects.countries\n  ) as any // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  const colorScale = scaleLinear()\n    .domain([0, featuresData.length - 1])\n    .range([0, 1])\n  const colorFn = (...[, countryIndex]: [unknown, number]) =&gt;\n    interpolateRdYlGn(colorScale(countryIndex))\n\n  const { width } = (document.getElementById(\n    rootElId\n  ) as HTMLElement).getBoundingClientRect()\n  const height = 500\n\n  const setZoom = (...[, countryData]: [unknown, CountryData]) =&gt; {\n    if (!(countryData as unknown) || state.lastZoomId === countryData.id) {\n      state.lastZoomId = null\n\n      countries // eslint-disable-line @typescript-eslint/no-use-before-define\n        .transition()\n        .duration(transitionDuration)\n        .attr(\n          \&quot;transform\&quot;,\n          `translate(${width / 2},${height / 2})scale(${1})translate(${\n            -width / 2\n          },${-height / 2})`\n        )\n\n      return\n    }\n\n    state.lastZoomId = countryData.id\n\n    const centroid = path.centroid(countryData) // eslint-disable-line @typescript-eslint/no-use-before-define\n\n    const x = centroid[0]\n    const y = centroid[1]\n\n    countries // eslint-disable-line @typescript-eslint/no-use-before-define\n      .transition()\n      .duration(transitionDuration)\n      .attr(\n        \&quot;transform\&quot;,\n        `translate(${width / 2},${height / 2})scale(${8})translate(${-x},${-y})`\n      )\n  }\n\n  const svg = select(`#${rootElId}`)\n    .append(\&quot;svg\&quot;)\n    .attr(\&quot;width\&quot;, width)\n    .attr(\&quot;height\&quot;, height)\n\n  svg\n    .append(\&quot;rect\&quot;)\n    .attr(\&quot;class\&quot;, \&quot;background\&quot;)\n    .attr(\&quot;height\&quot;, height)\n    .attr(\&quot;width\&quot;, width)\n    .on(\&quot;click\&quot;, setZoom as any) // eslint-disable-line @typescript-eslint/no-explicit-any\n    .style(\&quot;fill\&quot;, \&quot;#daedff\&quot;)\n\n  const content = svg.append(\&quot;g\&quot;)\n\n  const projection = geoMercator()\n    .center([0, 45.4])\n    .scale(150)\n    .translate([width / 2, height / 2])\n\n  const path = geoPath().projection(projection)\n\n  const countries = content\n    .selectAll(\&quot;.country\&quot;)\n    .data&lt;CountryData&gt;(featuresData)\n    .enter()\n    .append(\&quot;path\&quot;)\n    .attr(\&quot;class\&quot;, (countryData: CountryData) =&gt; `country ${countryData.id}`)\n    .attr(\&quot;d\&quot;, path)\n    .style(\&quot;fill\&quot;, colorFn)\n    .style(\&quot;stroke\&quot;, \&quot;#FFF\&quot;)\n    .style(\&quot;stroke-width\&quot;, 0.2)\n\n  countries.on(\&quot;mouseover\&quot;, function () {\n    return select(this).style(\&quot;stroke\&quot;, \&quot;black\&quot;).style(\&quot;stroke-width\&quot;, \&quot;1px\&quot;)\n  })\n\n  countries.on(\&quot;mouseout\&quot;, function () {\n    return select(this).style(\&quot;stroke\&quot;, \&quot;white\&quot;).style(&#x27;\&quot;stroke-width\&quot;&#x27;, \&quot;.2px\&quot;)\n  })\n\n  countries.on(\&quot;click\&quot;, setZoom)\n}\n\nconst main = async () =&gt; {\n  const world = await fetchData()\n\n  renderChart({\n    rootElId: \&quot;chart\&quot;,\n    world,\n  })\n}\n\nexport default main\n&quot;,&quot;fileName&quot;:&quot;world-map&quot;}],&quot;page&quot;:{&quot;content&quot;:&quot;import React from \&quot;react\&quot;\n\nimport { DemoPageProps } from \&quot;@/common\&quot;\n\nimport Demo from \&quot;@/components/demo\&quot;\n\nimport main from \&quot;@/demos/world-map/world-map\&quot;\n\nconst WorldMap = ({ pageContext }: DemoPageProps) =&gt; (\n  &lt;Demo main={main} pageContext={pageContext}&gt;\n    &lt;div className=\&quot;world-map-chart\&quot; id=\&quot;chart\&quot; /&gt;\n  &lt;/Demo&gt;\n)\n\nexport default WorldMap\n&quot;,&quot;type&quot;:&quot;tsx&quot;}},&quot;key&quot;:&quot;world-map&quot;},&quot;meta&quot;:{&quot;description&quot;:&quot;Example of world map using D3.js, with the zoom functionality and also the possibility to unzoom. The color scale is changed, among other properties.&quot;}}},&quot;staticQueryHashes&quot;:[]}</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 25 Aug 2021 23:26:40 GMT</p>
    </body>
  </html>
  