
  <!DOCTYPE html>
  <html>
    <head>
      <title>population-circles.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="negative"><td class="">src/demos/population-circles/population-circles.ts</td><td class="">75.33%</td><td class="">90%</td><td class="">523</td><td class="">394</td><td class="">129</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import {
  easeCircleInOut,
  easeSinInOut,
  hierarchy,
  json,
  pack,
  scaleOrdinal,
  schemeCategory10,
  select,
} from &quot;d3&quot;
import anime from &quot;animejs&quot;
import hotkeys from &quot;hotkeys-js&quot;
import qs from &quot;query-string&quot;

type PopulationRecord = {
  count: number
  date: string
}

type Municipality = {
  name: string
  values: {
    females: PopulationRecord[]
    males: PopulationRecord[]
    total: PopulationRecord[]
  }
}

const fetchData = () =&gt;
  (json(
    `${ROOT_PATH}data/d3js/population-circles/data.json`
  ) as unknown) as Promise&lt;Municipality[]&gt;

const margin = {
  bottom: 0,
  left: 0,
  right: 0,
  top: 70,
}

const formatPopulation = (val: number) =&gt;
  Number(val.toFixed(0)).toLocaleString(undefined, {
    maximumFractionDigits: 0,
    minimumFractionDigits: 0,
  })

type RenderChart = (o: {
  municipalities: Municipality[]
  rootElId: string
}) =&gt; {
  onPopulationPercentilesChange: (vals: [number, number]) =&gt; void
  onTimeSeriesChange: (val: number) =&gt; void
  onTypeChange: (type: string) =&gt; void
}

const renderChart: RenderChart = ({ municipalities, rootElId }) =&gt; {
  const { width } = (document.getElementById(
    rootElId
  ) as any).getBoundingClientRect()
  const height = 400

  const state = {
    populationRange: [0, 1],
    prop: &quot;total&quot;,
    valueIdx: 0,
  }

  const color = scaleOrdinal(
    municipalities.map((_d: any, idx: any) =&gt; idx),
    schemeCategory10
  )

  const svg = select(`#${rootElId}`)
    .append(&quot;svg&quot;)
    .attr(&quot;viewBox&quot;, [0, 0, width, height + margin.top] as any)
    .attr(&quot;font-size&quot;, 10)
    .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)
    .attr(&quot;text-anchor&quot;, &quot;middle&quot;)

  const header = svg
    .append(&quot;text&quot;)
    .text(&quot;&quot;)
    .attr(&quot;transform&quot;, `translate(${width / 2}, 50)`)
    .style(&quot;font-size&quot;, &quot;20px&quot;)
    .style(&quot;text-anchor&quot;, &quot;right&quot;)

  const svgContent = svg
    .append(&quot;g&quot;)
    .attr(&quot;transform&quot;, `translate(${margin.left}, ${margin.top})`)

  const transitionChart = () =&gt; {
    const itemsWithCount = municipalities.filter((municipality: any) =&gt; {
      const {
        values: {
          [state.prop]: { [state.valueIdx]: dataItem },
        },
      } = municipality

      return !!dataItem
    })
    const dataValues = itemsWithCount.map((municipality: any) =&gt; {
      const {
        values: {
          [state.prop]: { [state.valueIdx]: dataItem },
        },
      } = municipality

      return dataItem ? dataItem.count : null
    })
    const valueToIdx = dataValues.reduce((acc: any, val: any, idx: any) =&gt; {
      if (val === null) {
        return acc
      }

      acc[val] = acc[val] || []
      acc[val].push(idx)

      return acc
    }, {})
    const sortedDataValues = dataValues.sort((a: any, b: any) =&gt; a - b)

    const percentiles = sortedDataValues.reduce(
      (acc: any, val: any, idx: any) =&gt; {
        const percentile = idx / sortedDataValues.length
        const { [val]: unsortedIndexes } = valueToIdx

        unsortedIndexes.forEach((idx2: any) =&gt; {
          acc[idx2] = percentile
        })

        return acc
      },
      []
    )

    const filteredData = itemsWithCount.filter(
      (_municipality: any, idx: any) =&gt; {
        const { [idx]: percentile } = percentiles

        return (
          typeof percentile === &quot;number&quot; &amp;&amp;
          percentile &gt;= state.populationRange[0] &amp;&amp;
          percentile &lt;= state.populationRange[1]
        )
      }
    )

    const structure = hierarchy({ children: filteredData }).sum((d: any) =&gt; {
      if (!d.values) {
        return 1
      }

      const {
        values: {
          [state.prop]: { [state.valueIdx]: dataItem },
        },
      } = d

      return dataItem ? dataItem.count : 0
    })
    const root = pack()
      .size(state.prop === &quot;total&quot; ? [width, height] : [width / 2, height / 2])
      .padding(3)(structure)

    const leaves = root.leaves()

    const getYear = (dateStr: any) =&gt; new Date(dateStr).getFullYear()

    const {
      data: {
        values: {
          [state.prop]: {
            [state.valueIdx]: { date },
          },
        },
      },
    } = leaves[0] as any

    const year = getYear(date)

    const { length: totalNum } = leaves.filter(
      (l: any) =&gt; l.data.values[state.prop].length &gt;= state.valueIdx + 1
    )

    header.text(
      `Population in Malaga: ${year}${
        state.populationRange[0] === 0 &amp;&amp; state.populationRange[1] === 1
          ? &quot;&quot;
          : ` - From ${(state.populationRange[0] * 100).toFixed(
              0
            )} percentile to ${(state.populationRange[1] * 100).toFixed(
              0
            )} percentile`
      } - ${totalNum} municipalities`
    )

    const leaf = svgContent.selectAll(&quot;.leaf&quot;).data(leaves)

    leaf.exit().remove()

    const getTitle = (d: any) =&gt; {
      const {
        data: {
          values: {
            [state.prop]: { [state.valueIdx]: dataItem },
          },
        },
      } = d

      if (!dataItem) {
        return &quot;&quot;
      }

      const { [state.prop]: itemsName } = {
        females: &quot;females&quot;,
        males: &quot;males&quot;,
        total: &quot;people&quot;,
      } as Record&lt;string, string&gt;

      return `${d.data.name} - ${formatPopulation(
        dataItem.count
      )} ${itemsName} - ${getYear(dataItem.date)}`
    }

    leaf
      .attr(&quot;title&quot;, getTitle)
      .transition()
      .duration(1000)
      .ease(easeCircleInOut)
      .attr(&quot;transform&quot;, (d) =&gt; {
        if (state.prop !== &quot;total&quot;) {
          return `translate(${d.x + width / 4},${d.y + height / 4})`
        }

        return `translate(${d.x + 1},${d.y + 1})`
      })

    const enter = leaf
      .enter()
      .append(&quot;g&quot;)
      .attr(&quot;class&quot;, &quot;leaf&quot;)
      .attr(&quot;title&quot;, getTitle)
      .attr(&quot;transform&quot;, (d) =&gt; `translate(${d.x + 1},${d.y + 1})`)
      .on(&quot;mouseenter&quot;, function (_e, d: any) {
        const selection = select(this).select(&quot;.circle&quot;)

        const anim = anime({
          complete: () =&gt; {
            d.anim = null
          },
          strokeWidth: &quot;5px&quot;,
          targets: [selection.node()],
        })

        d.anim = anim
      })
      .on(&quot;mouseleave&quot;, function (_e, d: any) {
        const selection = select(this).select(&quot;.circle&quot;)

        if (d.anim) {
          d.anim.seek(0)
          d.anim.remove(selection.node())
          d.anim = null
        }

        anime({
          strokeWidth: &quot;0px&quot;,
          targets: [selection.node()],
        })
      })
      .on(&quot;click&quot;, (_e, d: any) =&gt; {
        if (!hotkeys.isPressed(&quot;control&quot;)) {
          return
        }

        window.open(
          `https://www.google.com/search?${qs.stringify({
            q: `Malaga ${d.data.name}`,
          })}`
        )
      })

    enter
      .append(&quot;circle&quot;)
      .attr(&quot;r&quot;, (d) =&gt; d.r)
      .attr(&quot;class&quot;, &quot;circle&quot;)
      .attr(&quot;fill-opacity&quot;, 0.7)
      .attr(&quot;fill&quot;, (_d, idx) =&gt; color(idx))
      .attr(&quot;stroke-width&quot;, &quot;0px&quot;)
      .attr(&quot;stroke&quot;, &quot;green&quot;)

    const setupLetter = (l: any) =&gt; {
      l.text((d: any) =&gt; d.data.name[0])
        .style(&quot;font-size&quot;, (d: any) =&gt; `${d.r.toFixed(0)}px`)
        .attr(&quot;dy&quot;, (d: any) =&gt; d.r / 3)
    }

    setupLetter(enter.append(&quot;text&quot;).attr(&quot;class&quot;, &quot;letter&quot;))

    const circles = leaf.selectAll(&quot;.circle&quot;).data((d) =&gt; d)
    const texts = leaf.selectAll(&quot;.letter&quot;).data((d) =&gt; d)

    circles
      .transition()
      .duration(1000)
      .ease(easeSinInOut)
      .attr(&quot;r&quot;, (d) =&gt; d.r)

    setupLetter(texts.transition().duration(1000).ease(easeSinInOut))

    $(&quot;.leaf&quot;).tooltip({
      track: true,
    })
  }

  transitionChart()

  return {
    onPopulationPercentilesChange: (newValues: [number, number]) =&gt; {
      state.populationRange = newValues
      transitionChart()
    },
    onTimeSeriesChange: (newIndex: number) =&gt; {
      state.valueIdx = newIndex
      transitionChart()
    },
    onTypeChange: (newType: string) =&gt; {
      state.prop = newType
      transitionChart()
    },
  }
}

const main = async () =&gt; {
  hotkeys(&quot;control&quot;, () =&gt; {})

  const municipalities = await fetchData()

  const {
    onPopulationPercentilesChange,
    onTimeSeriesChange,
    onTypeChange,
  } = renderChart({
    municipalities,
    rootElId: &quot;chart&quot;,
  })

  select(&quot;form&quot;).on(&quot;change&quot;, (e) =&gt; {
    onTypeChange(e.target.value)
  })

  $(&quot;.population-slider&quot;).slider({
    change: (_a, b: any) =&gt; {
      const newValues = b.values.map((v: any) =&gt; v / 100)

      onPopulationPercentilesChange(newValues)
    },
    range: true,
    values: [0, 100],
  })

  const max = municipalities[0].values.total.length - 1

  $(&quot;.time-slider&quot;).slider({
    change: (_a, b) =&gt; {
      onTimeSeriesChange(b.value as number)
    },
    max,
    min: 0,
    value: 0,
  })
}

export default main
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:56,&quot;character&quot;:10,&quot;text&quot;:&quot;width&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:58,&quot;character&quot;:12,&quot;text&quot;:&quot;getBoundingClientRect&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:68,&quot;character&quot;:24,&quot;text&quot;:&quot;_d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:68,&quot;character&quot;:33,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:68,&quot;character&quot;:46,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:74,&quot;character&quot;:28,&quot;text&quot;:&quot;width&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:82,&quot;character&quot;:36,&quot;text&quot;:&quot;width&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:91,&quot;character&quot;:50,&quot;text&quot;:&quot;municipality&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:94,&quot;character&quot;:44,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:98,&quot;character&quot;:15,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:100,&quot;character&quot;:43,&quot;text&quot;:&quot;municipality&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:103,&quot;character&quot;:44,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:107,&quot;character&quot;:13,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:107,&quot;character&quot;:24,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:107,&quot;character&quot;:33,&quot;text&quot;:&quot;count&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:10,&quot;text&quot;:&quot;valueToIdx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:42,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:52,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:109,&quot;character&quot;:62,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:110,&quot;character&quot;:10,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:111,&quot;character&quot;:15,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:6,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:10,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:17,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:114,&quot;character&quot;:21,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:6,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:10,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:15,&quot;text&quot;:&quot;push&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:20,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:13,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:46,&quot;text&quot;:&quot;a&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:54,&quot;text&quot;:&quot;b&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:65,&quot;text&quot;:&quot;a&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:119,&quot;character&quot;:69,&quot;text&quot;:&quot;b&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:121,&quot;character&quot;:10,&quot;text&quot;:&quot;percentiles&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:122,&quot;character&quot;:7,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:122,&quot;character&quot;:17,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:122,&quot;character&quot;:27,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:123,&quot;character&quot;:27,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:124,&quot;character&quot;:23,&quot;text&quot;:&quot;unsortedIndexes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:124,&quot;character&quot;:17,&quot;text&quot;:&quot;val&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:8,&quot;text&quot;:&quot;unsortedIndexes&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:24,&quot;text&quot;:&quot;forEach&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:126,&quot;character&quot;:33,&quot;text&quot;:&quot;idx2&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:127,&quot;character&quot;:10,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:127,&quot;character&quot;:14,&quot;text&quot;:&quot;idx2&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:130,&quot;character&quot;:15,&quot;text&quot;:&quot;acc&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:7,&quot;text&quot;:&quot;_municipality&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:136,&quot;character&quot;:27,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:137,&quot;character&quot;:23,&quot;text&quot;:&quot;percentile&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:137,&quot;character&quot;:17,&quot;text&quot;:&quot;idx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:140,&quot;character&quot;:17,&quot;text&quot;:&quot;percentile&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:147,&quot;character&quot;:65,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:148,&quot;character&quot;:11,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:148,&quot;character&quot;:13,&quot;text&quot;:&quot;values&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:154,&quot;character&quot;:44,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:158,&quot;character&quot;:13,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:158,&quot;character&quot;:24,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:158,&quot;character&quot;:33,&quot;text&quot;:&quot;count&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:161,&quot;character&quot;:56,&quot;text&quot;:&quot;width&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:166,&quot;character&quot;:21,&quot;text&quot;:&quot;dateStr&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:172,&quot;character&quot;:32,&quot;text&quot;:&quot;date&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:178,&quot;character&quot;:25,&quot;text&quot;:&quot;date&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:7,&quot;text&quot;:&quot;l&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:18,&quot;text&quot;:&quot;l&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:20,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:25,&quot;text&quot;:&quot;values&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:181,&quot;character&quot;:44,&quot;text&quot;:&quot;length&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:200,&quot;character&quot;:22,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:204,&quot;character&quot;:46,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:209,&quot;character&quot;:11,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:219,&quot;character&quot;:16,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:219,&quot;character&quot;:18,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:219,&quot;character&quot;:23,&quot;text&quot;:&quot;name&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:8,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:220,&quot;character&quot;:17,&quot;text&quot;:&quot;count&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:221,&quot;character&quot;:34,&quot;text&quot;:&quot;dataItem&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:221,&quot;character&quot;:43,&quot;text&quot;:&quot;date&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:231,&quot;character&quot;:36,&quot;text&quot;:&quot;width&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:243,&quot;character&quot;:34,&quot;text&quot;:&quot;_e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:243,&quot;character&quot;:38,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:248,&quot;character&quot;:12,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:248,&quot;character&quot;:14,&quot;text&quot;:&quot;anim&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:254,&quot;character&quot;:8,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:254,&quot;character&quot;:10,&quot;text&quot;:&quot;anim&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:256,&quot;character&quot;:34,&quot;text&quot;:&quot;_e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:256,&quot;character&quot;:38,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:259,&quot;character&quot;:12,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:259,&quot;character&quot;:14,&quot;text&quot;:&quot;anim&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:260,&quot;character&quot;:10,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:260,&quot;character&quot;:12,&quot;text&quot;:&quot;anim&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:260,&quot;character&quot;:17,&quot;text&quot;:&quot;seek&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:261,&quot;character&quot;:10,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:261,&quot;character&quot;:12,&quot;text&quot;:&quot;anim&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:261,&quot;character&quot;:17,&quot;text&quot;:&quot;remove&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:262,&quot;character&quot;:10,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:262,&quot;character&quot;:12,&quot;text&quot;:&quot;anim&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:270,&quot;character&quot;:20,&quot;text&quot;:&quot;_e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:270,&quot;character&quot;:24,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:277,&quot;character&quot;:25,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:277,&quot;character&quot;:27,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:277,&quot;character&quot;:32,&quot;text&quot;:&quot;name&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:291,&quot;character&quot;:25,&quot;text&quot;:&quot;l&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:292,&quot;character&quot;:6,&quot;text&quot;:&quot;l&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:292,&quot;character&quot;:8,&quot;text&quot;:&quot;text&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:292,&quot;character&quot;:14,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:292,&quot;character&quot;:25,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:292,&quot;character&quot;:27,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:292,&quot;character&quot;:32,&quot;text&quot;:&quot;name&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:293,&quot;character&quot;:9,&quot;text&quot;:&quot;style&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:293,&quot;character&quot;:29,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:293,&quot;character&quot;:43,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:293,&quot;character&quot;:45,&quot;text&quot;:&quot;r&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:293,&quot;character&quot;:47,&quot;text&quot;:&quot;toFixed&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:294,&quot;character&quot;:9,&quot;text&quot;:&quot;attr&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:294,&quot;character&quot;:21,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:294,&quot;character&quot;:32,&quot;text&quot;:&quot;d&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:294,&quot;character&quot;:34,&quot;text&quot;:&quot;r&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:347,&quot;character&quot;:31,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:348,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:348,&quot;character&quot;:19,&quot;text&quot;:&quot;target&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:348,&quot;character&quot;:26,&quot;text&quot;:&quot;value&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:352,&quot;character&quot;:17,&quot;text&quot;:&quot;b&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:353,&quot;character&quot;:12,&quot;text&quot;:&quot;newValues&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:353,&quot;character&quot;:24,&quot;text&quot;:&quot;b&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:353,&quot;character&quot;:26,&quot;text&quot;:&quot;values&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:353,&quot;character&quot;:33,&quot;text&quot;:&quot;map&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:353,&quot;character&quot;:38,&quot;text&quot;:&quot;v&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/population-circles/population-circles.ts&quot;,&quot;line&quot;:353,&quot;character&quot;:49,&quot;text&quot;:&quot;v&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Sun, 01 Aug 2021 22:24:46 GMT</p>
    </body>
  </html>
  