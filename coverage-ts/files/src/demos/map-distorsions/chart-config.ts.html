
  <!DOCTYPE html>
  <html>
    <head>
      <title>chart-config.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/demos/map-distorsions/chart-config.ts</td><td class="">100.00%</td><td class="">95%</td><td class="">125</td><td class="">125</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { scaleLinear, scalePoint, scaleSqrt, tsv } from &quot;d3&quot;
import qs from &quot;query-string&quot;

import { ChartConfig, Dimension, DimensionType } from &quot;./lines-chart&quot;
import { CONTAINER_ID } from &quot;./ui-constants&quot;

type ProjectionItem = {
  &quot;Acc. 40ยบ 150%&quot;: string
  &quot;Angular&quot;: string
  &quot;Areal&quot;: string
  &quot;Scale&quot;: string
  &quot;name&quot;: string
}

type Config = ChartConfig&lt;ProjectionItem&gt;

const fetchData = () =&gt;
  tsv(`${ROOT_PATH}data/d3js/map-distorsions/data.tsv`) as unknown as Promise&lt;
    ProjectionItem[]
  &gt;

enum DimensionName {
  Acc40 = &quot;Acc. 40ยบ 150%&quot;,
  Angular = &quot;Angular&quot;,
  Areal = &quot;Areal&quot;,
  Scale = &quot;Scale&quot;,
}

const getTooltipText: Config[&quot;getTooltipText&quot;] = (
  projectionItem: ProjectionItem
) =&gt; {
  const dimensionsNames = [
    DimensionName.Acc40,
    DimensionName.Scale,
    DimensionName.Areal,
    DimensionName.Angular,
  ] as Array&lt;keyof ProjectionItem&gt;
  const valuesWithDimension = dimensionsNames.map(
    (dimensionName) =&gt;
      `${Number(projectionItem[dimensionName]).toFixed(2)} (${dimensionName})`
  )

  return `${projectionItem.name}: ${valuesWithDimension.join(&quot;, &quot;)}`
}

const chartTitle =
  &quot;Comparison of 41 map projections by four different types of distortion. Lower is better.&quot;

const chartSmallTitle = &quot;Lower is better.&quot;

const onLineClick: Config[&quot;onLineClick&quot;] = (...[, projectionItem]) =&gt; {
  window.open(
    `https://www.google.com/search?${qs.stringify({
      q: `${projectionItem.name} map projection`,
      tbm: &quot;isch&quot;, // Google Images
    })}`
  )
}

const dimensions: Dimension[] = [
  {
    name: &quot;name&quot;,
    scale: scalePoint(),
    type: DimensionType.String,
  },
  {
    name: DimensionName.Acc40,
    scale: scaleLinear(),
    type: DimensionType.Number,
  },
  {
    name: DimensionName.Scale,
    scale: scaleLinear(),
    type: DimensionType.Number,
  },
  {
    name: DimensionName.Areal,
    scale: scaleSqrt(),
    type: DimensionType.Number,
  },
  {
    name: DimensionName.Angular,
    scale: scaleLinear(),
    type: DimensionType.Number,
  },
]

const getChartConfig = async (): Promise&lt;Config&gt; =&gt; {
  const mapsDistorsions = (await fetchData()).sort(
    (...[{ name: nameA }, { name: nameB }]) =&gt; {
      if (nameA === nameB) {
        return 0
      }

      return nameA &lt; nameB ? -1 : 1
    }
  )
  const rootElId = CONTAINER_ID

  return {
    chartSmallTitle,
    chartTitle,
    dimensions,
    getTooltipText,
    lines: mapsDistorsions,
    onLineClick,
    rootElId,
  }
}

export { getChartConfig }
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Sun, 09 Jan 2022 19:23:16 GMT</p>
    </body>
  </html>
  