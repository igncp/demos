
  <!DOCTYPE html>
  <html>
    <head>
      <title>meteorites-data-model.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/demos/meteorites-map/meteorites-data-model.ts</td><td class="">100.00%</td><td class="">95%</td><td class="">101</td><td class="">101</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { json, timeFormat } from &quot;d3&quot;
import qs from &quot;query-string&quot;

import { Geolocation, MapLayout } from &quot;./circles-map-chart&quot;

class CountriesLayout {
  private readonly countries: MapLayout

  private constructor(countries: MapLayout) {
    this.countries = countries
  }

  public static async createAndFetch() {
    const countries = await json(
      `${ROOT_PATH}data/d3js/meteorites-map/world_countries.json`
    )

    return new CountriesLayout(countries as MapLayout)
  }

  public getCountries() {
    return this.countries
  }
}

type Meteorite = {
  fall: string
  geolocation: Geolocation
  id: string
  mass: string
  name: string
  nametype: string
  recclass: string
  reclat: string
  reclong: string
  year: string
}

class MeteoritesData {
  private readonly meteorites: Meteorite[]

  private constructor(meteorites: Meteorite[]) {
    this.meteorites = meteorites
  }

  public static async createAndFetch() {
    const meteorites = await json(
      `${ROOT_PATH}data/d3js/meteorites-map/meteorites.json`
    )

    return new MeteoritesData(meteorites as Meteorite[])
  }

  public static getMeteoriteId(meteorite: Meteorite) {
    return meteorite.id
  }

  public static getMeteoriteSummaryHTML(meteorite: Meteorite) {
    const year = timeFormat(&quot;%Y&quot;)(new Date(meteorite.year))
    const mass = new Intl.NumberFormat().format(+meteorite.mass)

    return `
&lt;h1&gt;${meteorite.name}&lt;/h1&gt;
&lt;p&gt;Year: ${year}, Class: &lt;a href=&quot;https://www.google.com/search?${qs.stringify({
      q: `${meteorite.recclass} Meteorite Class`,
    })}&quot; target=&quot;_blank&quot;&gt;${meteorite.recclass}&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;${mass ? `Mass: ${mass}g, ` : &quot;&quot;}Name: ${meteorite.nametype}&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.google.com/search?${qs.stringify({
      q: `${meteorite.name} Meteorite ${year}`,
    })}&quot; target=&quot;_blank&quot;&gt;Click here to search&lt;/a&gt;&lt;/p&gt;
`.trim()
  }

  public static getMeteoriteName(meteorite: Meteorite) {
    return meteorite.name
  }

  public getMeteorites() {
    return this.meteorites.slice()
  }
}

export { MeteoritesData, CountriesLayout }
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Sat, 12 Feb 2022 20:10:28 GMT</p>
    </body>
  </html>
  