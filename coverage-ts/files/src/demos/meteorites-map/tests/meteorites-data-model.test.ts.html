
  <!DOCTYPE html>
  <html>
    <head>
      <title>meteorites-data-model.test.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/demos/meteorites-map/tests/meteorites-data-model.test.ts</td><td class="">95.24%</td><td class="">95%</td><td class="">84</td><td class="">80</td><td class="">4</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import * as d3 from &quot;d3&quot;

import { CountriesLayout, MeteoritesData } from &quot;../meteorites-data-model&quot;

import { mockCountries, mockMeteorites } from &quot;./testData&quot;

jest.spyOn(d3, &quot;json&quot;)

const jsonMock = d3.json as jest.Mock

describe(&quot;CountriesLayout&quot;, () =&gt; {
  it(&quot;requests and serves the expected data&quot;, async () =&gt; {
    jsonMock.mockImplementationOnce((path) =&gt; {
      if (
        path === `${ROOT_PATH}data/d3js/meteorites-map/world_countries.json`
      ) {
        return Promise.resolve(mockCountries)
      }

      return Promise.reject()
    })

    const countriesLayout = await CountriesLayout.createAndFetch()

    expect(countriesLayout.getCountries()).toEqual(mockCountries)
  })
})

describe(&quot;MeteoritesData&quot;, () =&gt; {
  beforeEach(() =&gt; {
    jsonMock.mockImplementationOnce((path) =&gt; {
      if (path === `${ROOT_PATH}data/d3js/meteorites-map/meteorites.json`) {
        return Promise.resolve(mockMeteorites)
      }

      return Promise.reject()
    })
  })

  it(&quot;requests and serves the expected data&quot;, async () =&gt; {
    const meteorites = await MeteoritesData.createAndFetch()

    expect(meteorites.getMeteorites()).toEqual(mockMeteorites)
  })

  it(&quot;returns the expected data in getMeteoriteSummaryHTML&quot;, async () =&gt; {
    const meteorites = await MeteoritesData.createAndFetch()
    const meteorite0 = meteorites.getMeteorites()[0]

    expect(MeteoritesData.getMeteoriteSummaryHTML(meteorite0)).toEqual(
      [
        &quot;&lt;h1&gt;Aachen&lt;/h1&gt;&quot;,
        &#x27;&lt;p&gt;Year: 1880, Class: &lt;a href=&quot;https://www.google.com/search?q=L5%20Meteorite%20Class&quot; target=&quot;_blank&quot;&gt;L5&lt;/a&gt;&lt;/p&gt;&#x27;,
        &quot;&lt;p&gt;Mass: 21g, Name: Valid&lt;/p&gt;&quot;,
        &#x27;&lt;p&gt;&lt;a href=&quot;https://www.google.com/search?q=Aachen%20Meteorite%201880&quot; target=&quot;_blank&quot;&gt;Click here to search&lt;/a&gt;&lt;/p&gt;&#x27;,
      ].join(&quot;\n&quot;)
    )
  })

  it(&quot;has some methods to get meteorite data&quot;, async () =&gt; {
    const meteorites = await MeteoritesData.createAndFetch()
    const meteorite0 = meteorites.getMeteorites()[0]

    expect(MeteoritesData.getMeteoriteId(meteorite0)).toEqual(&quot;1&quot;)
    expect(MeteoritesData.getMeteoriteName(meteorite0)).toEqual(&quot;Aachen&quot;)
  })
})
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/demos/meteorites-map/tests/meteorites-data-model.test.ts&quot;,&quot;line&quot;:12,&quot;character&quot;:37,&quot;text&quot;:&quot;path&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/meteorites-map/tests/meteorites-data-model.test.ts&quot;,&quot;line&quot;:14,&quot;character&quot;:8,&quot;text&quot;:&quot;path&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/meteorites-map/tests/meteorites-data-model.test.ts&quot;,&quot;line&quot;:30,&quot;character&quot;:37,&quot;text&quot;:&quot;path&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/demos/meteorites-map/tests/meteorites-data-model.test.ts&quot;,&quot;line&quot;:31,&quot;character&quot;:10,&quot;text&quot;:&quot;path&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 01 Jun 2022 21:16:58 GMT</p>
    </body>
  </html>
  