(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[730],{2137:function(t,e,r){"use strict";function n(t,e,r,n,a,o,i){try{var l=t[o](i),u=l.value}catch(c){return void r(c)}l.done?e(u):Promise.resolve(u).then(n,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function l(t){n(i,a,o,l,u,"next",t)}function u(t){n(i,a,o,l,u,"throw",t)}l(void 0)}))}}r.d(e,{Z:function(){return a}})},7986:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return T}});var n=r(7294),a=r(4275),o=r(2137),i=r(7757),l=r.n(i),u=r(7723),c="weekly-heatmap-module--mono--1FY_w",s="weekly-heatmap-module--axisBold--ymVm3",d=["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],f=d.length,p=100,m=50,h=50,y=50,g=function(t){var e=t.rootElId,r=t.weeklyData,n=document.getElementById(e);n.classList.add("weekly-heatmap-module--weeklyHeatmapChart--3k92Q");var a=t.horizontalLabels,o=t.verticalLabels,i=n.getBoundingClientRect().width-m-h,l=Math.ceil(10*i/a.length)-y-p+60,g=Math.floor(i/a.length),x=2*g,v=(0,u.Fp7)(r,(function(e){return t.getItemValue(e)})),b=(0,u.FTZ)().domain([0,f-1,v]).range(d),w=(0,u.Ys)("#"+e).append("svg").attr("height",l+y+p).attr("width",i+m+h).append("g").attr("transform","translate("+m+","+y+")");w.selectAll(".verticalLabel").data(o).enter().append("text").text((function(t){return t})).attr("class",(function(e,r){return"verticalLabel "+c+" axis"+(t.getIsVerticalLabelBold(e,r)?" "+s:"")})).attr("transform","translate(-6,"+g/1.5+")").attr("x",0).attr("y",(function(t,e){return e*g})).style("text-anchor","end"),w.selectAll(".horizontalLabel").data(a).enter().append("text").text((function(t){return t})).attr("class",(function(e,r){return"horizontalLabel "+c+" axis"+(t.getIsHorizontalLabelBold(e,r)?" "+s:"")})).attr("transform","translate("+g/2+", "+"-6)").attr("x",(function(t,e){return e*g})).attr("y",0).style("text-anchor","middle"),w.selectAll(".cell").data(r).enter().append("rect").attr("class","cell weekly-heatmap-module--bordered--2Vfqv").attr("height",g).attr("rx",100).attr("ry",100).attr("width",g).attr("x",(function(e){return t.getItemHorizontalIndex(e)*g})).attr("y",(function(e){return t.getItemVerticalIndex(e)*g})).attr("title",t.getItemTooltip).style("fill",d[0]).transition().duration(6e3).style("fill",(function(e){return b(t.getItemValue(e))})),$(".cell").tooltip();var I=w.selectAll(".legend").data([0].concat(b.quantiles()),(function(t){return t})).enter().append("g").attr("class","legend");I.append("rect").attr("x",(function(t,e){return x*e})).attr("y",l).attr("width",x).attr("height",g/2).style("fill",(function(t,e){return d[e]})).style("stroke","#ccc"),I.append("text").attr("class",c).text(t.getLegendText).style("text-anchor","middle").attr("x",(function(t,e){return x*e+x/2})).attr("y",l+g)},x=["Mo","Tu","We","Th","Fr","Sa","Su"],v=Array.from({length:24}).map((function(t,e){return e%12+1+" "+(e>=11&&23!==e?"pm":"am")})),b=function(){var t=(0,o.Z)(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.pvA)("/demos/data/d3js/weekly-heatmap/data.tsv");case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return{arbitraryMetric:+t.value,day:+t.day,hour:+t.hour}})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){return t.arbitraryMetric},I=function(t){return"Arbitrary Metric: "+t.arbitraryMetric},k=function(t){return t.hour-1},L=function(t){return t.day-1},V=function(t,e){return e>=7&&e<=16},z=function(t,e){return e>=0&&e<=4},A=function(t){return"â‰¥ "+t.toFixed(2)},B=function(t){return{getIsHorizontalLabelBold:V,getIsVerticalLabelBold:z,getItemHorizontalIndex:k,getItemTooltip:I,getItemValue:w,getItemVerticalIndex:L,getLegendText:A,horizontalLabels:v,rootElId:"chart",verticalLabels:x,weeklyData:t}},M=function(){var t=(0,o.Z)(l().mark((function t(){var e,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:e=t.sent,r=B(e),g(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(t){var e=t.pageContext;return n.createElement(a.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:M,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},n.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-weekly-heatmap-tsx-31a369da888e5d3c9777.js.map