(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[189],{2570:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var r=n(7294),a=n(1335),o=n(2137),i=n(7757),c=n.n(i),p=n(3241),l=n(2149),d=function(t){return"Year: "+t.year+", Percent: "+t.percent+"%"},s="Share of top decile [aka top 10%] in national income",u=50,f=70,h=50,m=50,g=400-m-u,v=function(t){var e=t.data,n=t.rootElId,r=document.getElementById(n).getBoundingClientRect().width-f-h,a=(0,p.Ys)("#"+n).append("svg").attr("height",g+m+u).attr("width",r+f+h).append("g").attr("transform","translate("+f+","+m+")").attr("class","area-chart");a.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+r/2+","+"-15)").text(s).style("font-weight","bold"),y("points",a,2,.5);var o=(0,p.Fp7)(e,(function(t){return t.year})),i=(0,p.VV$)(e,(function(t){return t.year})),c=(0,p.Fp7)(e,(function(t){return t.percent/100})),v=(0,p.VV$)(e,(function(t){return t.percent/100})),x=(0,p.BYU)().domain([i,o]).range([0,r]),w=(0,p.BYU)().domain([c+.05,v-.05]).range([0,g]),k=(0,p.LLu)(x).tickFormat((0,p.WUZ)(".0f")).tickSize(10),E=(0,p.y4O)(w).tickFormat((0,p.WUZ)(".0%")).tickSize(10);a.append("g").attr("class","x axis").attr("transform","translate(0,"+g+")").call(k).selectAll("text").attr("dy","1.25em"),a.append("g").attr("class","y axis").call(E).selectAll("text").attr("dx","-.25em");var b=(0,p.SOn)().x((function(t){return x(t.year)})).y0(g).y1((function(t){return w(t.percent/100)})),V=(0,p.jvg)().x((function(t){return x(t.year)})).y((function(t){return w(t.percent/100)}));a.append("path").datum(e).attr("class","line").attr("d",V).attr("clip-path","url(#clip)"),a.append("clipPath").attr("id","clip").append("rect").attr("height",g).attr("width",r),a.append("path").datum(e).attr("class","area").attr("d",b).attr("clip-path","url(#clip)");var A=l.Z.from(e,(function(t){return x(t.year)}),(function(t){return w(t.percent/100)})).voronoi([-f,-m,r+h,g+u]);a.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+x(t.year)+","+w(t.percent/100)+")"})).attr("r","5px").attr("class",(function(t,e){return"point point-"+e})).style("filter","url(#drop-shadow-points)");var B=a.append("g").attr("class","voronoi");return B.selectAll("path").data(e).enter().append("path").attr("d",(function(t,e){return t.index=e,A.renderCell(e)})).on("mouseover",(function(t,e){(0,p.Ys)(".point-"+e.index).style("display","block")})).on("mouseleave",(function(t,e){(0,p.Ys)(".point-"+e.index).style("display","none")})).append("title").text(d),{toggleVoronoi:function(){var t=B.attr("class"),e=t.includes("show-voronoi")?t.replace("show-voronoi","").trim():t+" show-voronoi";B.attr("class",e)}}},y=function(t,e,n,r){var a=e.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+t).attr("width","500%").attr("x","-200%").attr("y","-200%");a.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",n),a.append("feOffset").attr("dx",1).attr("dy",1),a.append("feComponentTransfer").append("feFuncA").attr("slope",r).attr("type","linear");var o=a.append("feMerge");o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},x=function(){var t=(0,o.Z)(c().mark((function t(){var e,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.gyn)("/demos/data/d3js/area/data.csv");case 2:e=t.sent,"chart",n=v({data:e,rootElId:"chart"}),r=n.toggleVoronoi,document.getElementById("toggle-voronoi").addEventListener("click",(function(t){t.preventDefault(),r()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t){var e=t.pageContext.demoInfo;return r.createElement(a.Z,{demoInfo:e,main:x},r.createElement("form",null,r.createElement("button",{className:"btn btn-info",id:"toggle-voronoi",type:"button"},"Toggle Voronoi")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-tsx-058d4d8f4785f3b826c9.js.map