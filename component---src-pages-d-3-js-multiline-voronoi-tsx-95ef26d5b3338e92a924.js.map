{"version":3,"file":"component---src-pages-d-3-js-multiline-voronoi-tsx-95ef26d5b3338e92a924.js","mappings":"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","sources":["webpack://demos/./src/components/demo-title.tsx","webpack://demos/./src/ui-constants.ts","webpack://demos/./src/utils/getDemoE2ETestFilePath.ts","webpack://demos/./src/components/hooks/useBrowserInitialWidth.ts","webpack://demos/./src/utils/getBrowserWidth.ts","webpack://demos/./src/components/code-fragment.tsx","webpack://demos/./src/components/files-details.tsx","webpack://demos/./src/components/demo.tsx","webpack://demos/./src/components/footer.tsx","webpack://demos/./src/components/page-title.tsx","webpack://demos/./src/components/layout.tsx","webpack://demos/./src/demos/multiline-voronoi/multiline-voronoi.module.css","webpack://demos/./src/demos/multiline-voronoi/multiline-voronoi-chart.ts","webpack://demos/./src/demos/multiline-voronoi/ui-constants.ts","webpack://demos/./src/demos/multiline-voronoi/multiline-voronoi-chart-config.ts","webpack://demos/./src/demos/multiline-voronoi/multiline-voronoi.ts","webpack://demos/./src/pages/d3js/multiline-voronoi.tsx","webpack://demos/./node_modules/gatsby/node_modules/@babel/runtime/regenerator/index.js","webpack://demos/./src/components/styles/styles.module.css","webpack://demos/./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nimport { BACK_HOME_ATTR } from \"@/ui-constants\"\n\ntype Props = {\n  isCompleted: boolean\n  mainSource: string\n  name: string\n}\n\nconst DemoTitle = ({ isCompleted, mainSource, name }: Props) => (\n  <h2 className=\"row\" id={styles.demoTitle}>\n    <span className=\"col-xs-12 col-sm-10 p-0\">\n      <span className={styles.demoName}>{name} Chart </span>\n      <small id={styles.mainSource} title=\"Main Source\">\n        <a href={mainSource} rel=\"noreferrer\" target=\"_blank\">\n          source\n        </a>\n      </small>\n      {!isCompleted && (\n        <small id={styles.demoWip} title=\"This demo is still work in progress\">\n          WIP\n        </small>\n      )}\n    </span>\n    <span\n      className={`col-sm-2 p-0 d-xs-none ${styles.backHome}`}\n      {...{ [BACK_HOME_ATTR]: \"\" }}\n    >\n      <a className=\"btn btn-info\" href={ROOT_PATH} role=\"button\">\n        <span className=\"glyphicon glyphicon-home\" /> Home\n      </a>\n    </span>\n  </h2>\n)\n\nexport default DemoTitle\n","const BACK_HOME_ATTR = \"data-back-home\"\n\nexport { BACK_HOME_ATTR }\n","export const getDemoE2ETestFilePath = (demoName: string) =>\n  `src/demos/${demoName}/tests/${demoName}.e2e.ts`\n","import { useEffect, useState } from \"react\"\n\nimport { getBrowserWidth } from \"@/utils/getBrowserWidth\"\n\nconst useBrowserInitialWidth = () => {\n  const [browserWidth, setBrowserWidth] = useState<number | null>(null)\n\n  useEffect(() => {\n    const browserWidthInitial = getBrowserWidth()\n\n    if (browserWidthInitial !== null) {\n      setBrowserWidth(browserWidthInitial)\n    }\n  }, [])\n\n  return browserWidth\n}\n\nexport default useBrowserInitialWidth\n","export const getBrowserWidth = () => {\n  if (typeof window === \"undefined\") {\n    return null\n  }\n\n  return Math.max(\n    document.body.scrollWidth,\n    document.documentElement.scrollWidth,\n    document.body.offsetWidth,\n    document.documentElement.offsetWidth,\n    document.documentElement.clientWidth\n  )\n}\n","import React, { useState } from \"react\"\n\nimport useBrowserInitialWidth from \"@/components/hooks/useBrowserInitialWidth\"\n\nimport * as styles from \"./styles/styles.module.css\"\n\ntype Props = { content: string }\n\nconst CodeFragment = ({ content }: Props) => {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const browserWidth = useBrowserInitialWidth()\n\n  if (browserWidth === null) {\n    return null\n  }\n\n  if (!browserWidth || (browserWidth < 1280 && !isExpanded)) {\n    return (\n      <div className={styles.codeFragment}>\n        <button\n          className={`${styles.codeFragmentButton} btn btn-light`}\n          onClick={() => setIsExpanded(true)}\n          type=\"button\"\n        >\n          Show Code\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <pre>\n      <code\n        dangerouslySetInnerHTML={{\n          __html: content,\n        }}\n      />\n    </pre>\n  )\n}\n\nexport default CodeFragment\n","import \"prismjs/themes/prism-coy.css\"\nimport React from \"react\"\n\nimport { DemoInfo } from \"@/common\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nimport { getDemoE2ETestFilePath } from \"@/utils/getDemoE2ETestFilePath\"\n\nimport CodeFragment from \"./code-fragment\"\n\nconst CodeInGH = ({ filePath }: { filePath: string }) => (\n  <>\n    <span>| </span>\n    <a\n      href={`https://github.com/igncp/demos/blob/main/${filePath}`}\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    >\n      Code in Github\n    </a>\n  </>\n)\nconst CoverageReport = ({ filePath }: { filePath: string }) => (\n  <>\n    <span>| </span>\n    <a\n      href={`https://igncp.github.io/demos/coverage-ts/files/${filePath}.html`}\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    >\n      TypeScript coverage report\n    </a>\n  </>\n)\n\ntype Props = {\n  demoInfo: DemoInfo\n}\n\nconst FilesDetails = ({ demoInfo }: Props) => {\n  if (typeof window === \"undefined\") {\n    return null\n  }\n\n  const pageFilePath = `pages/${demoInfo.category}/${demoInfo.key}.${demoInfo.files.page.type}`\n\n  return (\n    <div>\n      {!!demoInfo.notes.length && (\n        <div className={`bs-callout bs-callout-info${styles.notes}`}>\n          <p>\n            <strong>Notes:</strong>\n          </p>\n          <ul>\n            {demoInfo.notes.map((...[note, noteIndex]) => (\n              <li dangerouslySetInnerHTML={{ __html: note }} key={noteIndex} />\n            ))}\n          </ul>\n        </div>\n      )}\n      {!!demoInfo.summary.length && (\n        <div className={`bs-callout bs-callout-summary ${styles.notes}`}>\n          <p>\n            <strong>Implementation Summary:</strong>\n          </p>\n          <ul>\n            {demoInfo.summary.map((...[summaryLine, summaryIndex]) => (\n              <p\n                dangerouslySetInnerHTML={{ __html: summaryLine }}\n                key={summaryIndex}\n              />\n            ))}\n          </ul>\n        </div>\n      )}\n      <div className=\"bs-callout bs-callout-primary\" id={styles.sourcesList}>\n        <p>\n          <strong>Sources:</strong>\n        </p>\n        <ul>\n          {demoInfo.sources.map((...[source, sourceIndex]) => (\n            <li key={sourceIndex}>\n              <span className={styles.sourceNumber}>[{sourceIndex + 1}]</span>:{\" \"}\n              <a href={source}>{source}</a>\n            </li>\n          ))}\n        </ul>\n      </div>\n      {!!demoInfo.docs.length && (\n        <div className=\"bs-callout bs-callout-secondary\" id=\"docs\">\n          <p>\n            <strong>Docs:</strong>\n          </p>\n          <div className={styles.tagCollection}>\n            {demoInfo.docs.map((doc) => (\n              <span className={styles.tag} key={doc[1]}>\n                <a href={doc[1]} rel=\"noreferrer\" target=\"_blank\">\n                  {doc[0]}\n                </a>\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n      {!!demoInfo.dataFiles.length && (\n        <div className=\"bs-callout bs-callout-warning\" id={styles.dataList}>\n          <p>\n            <strong>Data files: </strong>\n            {demoInfo.dataFiles.map((...[file, fileIndex]) => (\n              <a\n                href={`${ROOT_PATH}data/${demoInfo.category}/${demoInfo.key}/${file}`}\n                key={fileIndex}\n              >\n                {file}\n              </a>\n            ))}\n          </p>\n        </div>\n      )}\n      <div className=\"bs-callout bs-callout-success\" id=\"code\">\n        <p>\n          <strong>Code:</strong>\n        </p>\n        <ul>\n          {demoInfo.files.demoTS.map(\n            (...[{ content, filePath }, fileIndex]) => (\n              <li key={filePath}>\n                <p>\n                  <span className={styles.fileNameWrapper}>{filePath}</span>{\" \"}\n                  <CodeInGH filePath={filePath} />{\" \"}\n                  <CoverageReport filePath={filePath} />\n                  {fileIndex === 0 && (\n                    <>\n                      <span> | </span>\n                      <a\n                        href={`https://github.com/igncp/demos/blob/main/${getDemoE2ETestFilePath(\n                          demoInfo.key\n                        )}`}\n                        rel=\"noreferrer\"\n                        target=\"_blank\"\n                      >\n                        E2E tests\n                      </a>\n                    </>\n                  )}\n                </p>\n                <CodeFragment content={content} />\n                <div className={styles.divisor} />\n              </li>\n            )\n          )}\n          <li>\n            <p>\n              <span className={styles.fileNameWrapper}>{pageFilePath}</span>{\" \"}\n              <CodeInGH filePath={pageFilePath} />{\" \"}\n              <CoverageReport filePath={pageFilePath} />\n            </p>\n            <CodeFragment content={demoInfo.files.page.content} />\n            {!!demoInfo.files.demoCSS.length && (\n              <div className={styles.divisor} />\n            )}\n          </li>\n          {demoInfo.files.demoCSS.map(\n            (...[{ content, filePath }, cssIndex]) => (\n              <li key={filePath}>\n                <p>\n                  <span className={styles.fileNameWrapper}>{filePath}</span>{\" \"}\n                  {(() => (\n                    <CodeInGH filePath={filePath} />\n                  ))()}\n                </p>\n                <CodeFragment content={content} />\n                {cssIndex !== demoInfo.files.demoCSS.length - 1 && (\n                  <div className={styles.divisor} />\n                )}\n              </li>\n            )\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default FilesDetails\n","import React, { useEffect } from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport DemoTitle from \"./demo-title\"\nimport FilesDetails from \"./files-details\"\nimport Layout from \"./layout\"\n\nconst parsePath = (str: string) =>\n  str[0] === \"/\" ? ROOT_PATH + str.replace(/^\\//, \"\") : str\n\ntype Props = {\n  children: React.ReactNode\n  links?: string[]\n  main: () => Promise<void>\n  pageContext: DemoPageProps[\"pageContext\"]\n  scripts?: string[]\n}\n\nconst Demo = ({\n  main,\n  children,\n  scripts = [],\n  links = [],\n  pageContext,\n}: Props) => {\n  const { demoInfo, meta } = pageContext\n  const { isCompleted, name, sources } = demoInfo\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return\n    }\n\n    main().catch((mainError) => {\n      // eslint-disable-next-line no-console\n      console.error(\"error:\", mainError)\n    })\n  }, [])\n\n  return (\n    <Layout>\n      <Helmet\n        link={(process.env.NODE_ENV === \"production\" ? links : []).map(\n          (href) => ({\n            href: parsePath(href),\n            rel: \"stylesheet\",\n            type: \"text/css\",\n          })\n        )}\n        meta={[\n          {\n            content: meta.description,\n            name: \"description\",\n          },\n        ]}\n        script={(process.env.NODE_ENV === \"production\" ? scripts : []).map(\n          (src) => ({\n            src: parsePath(src),\n            type: \"text/javascript\",\n          })\n        )}\n        title={`${demoInfo.name} | Demos igncp`}\n      />\n      <DemoTitle\n        isCompleted={isCompleted}\n        mainSource={sources[0]}\n        name={name}\n      />\n      {children}\n      <FilesDetails demoInfo={demoInfo} />\n    </Layout>\n  )\n}\n\nexport default Demo\n","import React from \"react\"\n\nimport * as styles from \"./styles/styles.module.css\"\n\nconst Footer = () => (\n  <footer className={styles.footer}>\n    <p>{new Date().getFullYear()}</p>\n  </footer>\n)\n\nexport default Footer\n","import React from \"react\"\n\nimport * as styles from \"@/components/styles/styles.module.css\"\n\nconst PageTitle = () => (\n  <div className={styles.pageHeader}>\n    <h1 className=\"row\">\n      <span className=\"col-3 col-md-8 p-0\">\n        <a href={ROOT_PATH}>Demos</a>{\" \"}\n        <small className=\"hide-tablet\">\n          interactive data visualization examples\n        </small>\n      </span>\n      <span className=\"col-9 col-md-4 p-0\" id={styles.ghButtons}>\n        <iframe\n          className=\"hide-mobile\"\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=follow\"\n          width=\"119\"\n        />\n        <iframe\n          className=\"hide-mobile\"\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=fork\"\n          width=\"62\"\n        />\n        <iframe\n          frameBorder=\"0\"\n          height=\"20\"\n          scrolling=\"0\"\n          src=\"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=watch\"\n          width=\"52\"\n        />\n      </span>\n    </h1>\n  </div>\n)\n\nexport default PageTitle\n","import React from \"react\"\n\nimport Footer from \"./footer\"\nimport PageTitle from \"./page-title\"\nimport \"./styles/styles.css\"\nimport * as styles from \"./styles/styles.module.css\"\n\ntype Props = {\n  children: React.ReactNode\n}\n\nconst Layout = ({ children }: Props) => (\n  <>\n    <div className={styles.rootLayout}>\n      <div className=\"px-3 px-sm-5\">\n        <PageTitle />\n        {children}\n      </div>\n    </div>\n    <Footer />\n  </>\n)\n\nexport default Layout\n","// extracted by mini-css-extract-plugin\nexport var multilineVoronoiChart = \"multiline-voronoi-module--multilineVoronoiChart--706ac\";\nexport var axis = \"multiline-voronoi-module--axis--73b38\";\nexport var lines = \"multiline-voronoi-module--lines--3e92b\";\nexport var lineHover = \"multiline-voronoi-module--lineHover--07a40\";\nexport var tooltip = \"multiline-voronoi-module--tooltip--f507c\";\nexport var voronoi = \"multiline-voronoi-module--voronoi--c0339\";\nexport var voronoiShow = \"multiline-voronoi-module--voronoiShow--cb86f\";\nexport var formVoronoi = \"multiline-voronoi-module--formVoronoi--b33e2\";","import {\n  Selection,\n  axisBottom,\n  axisLeft,\n  extent,\n  line as lineD3,\n  max,\n  scaleLinear,\n  scaleOrdinal,\n  scaleTime,\n  schemePastel2,\n  select,\n} from \"d3\"\nimport { Delaunay } from \"d3-delaunay\"\n\nimport * as styles from \"./multiline-voronoi.module.css\"\n\ntype LineId = string\n\ntype ChartConfig<ChartLine, ChartPoint> = Readonly<{\n  chartTitle: string\n  getLineId: (line: ChartLine) => LineId\n  getLineIdFromPoint: (point: ChartPoint) => LineId\n  getLinePoints: (line: ChartLine) => ChartPoint[]\n  getPointXValue: (point: ChartPoint) => Date\n  getPointYValue: (point: ChartPoint) => number\n  getTooltipPart1: (point: ChartPoint) => string\n  getTooltipPart2: (point: ChartPoint) => string\n  lines: ChartLine[]\n  rootElId: string\n  times: Date[]\n}>\n\nconst addFilter = (\n  svg: Selection<SVGGElement, unknown, HTMLElement, unknown>\n) => {\n  const defs = svg.append(\"defs\")\n  const filter = defs.append(\"filter\").attr(\"id\", \"drop-shadow\")\n\n  filter\n    .append(\"feGaussianBlur\")\n    .attr(\"in\", \"SourceAlpha\")\n    .attr(\"stdDeviation\", 1)\n\n  filter.append(\"feOffset\").attr(\"dx\", 1).attr(\"dy\", 1)\n  filter\n    .append(\"feComponentTransfer\")\n    .append(\"feFuncA\")\n    .attr(\"slope\", \"1\")\n    .attr(\"type\", \"linear\")\n\n  const feMerge = filter.append(\"feMerge\")\n\n  feMerge.append(\"feMergeNode\")\n  feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\")\n}\n\nconst tooltipWidth = 300\nconst tooltipWidthHalf = tooltipWidth / 2\n\nconst buildTooltip = (\n  svgG: Selection<SVGGElement, unknown, HTMLElement, unknown>\n) => {\n  const tooltip = svgG\n    .append(\"g\")\n    .attr(\"class\", styles.tooltip)\n    .attr(\"transform\", \"translate(-100,-100)\")\n\n  tooltip\n    .append(\"rect\")\n    .attr(\"transform\", \"translate(-150,-50)\")\n    .attr(\"fill\", \"white\")\n    .attr(\"height\", 50)\n    .attr(\"width\", tooltipWidth)\n    .attr(\"rx\", 5)\n    .attr(\"ry\", 5)\n    .style(\"filter\", \"url(#drop-shadow)\")\n    .style(\"opacity\", \"0.65\")\n    .style(\"pointer-events\", \"none\")\n    .style(\"cursor\", \"default\")\n\n  tooltip.append(\"text\").attr(\"class\", \"text1\").attr(\"y\", -30)\n  tooltip.append(\"text\").attr(\"class\", \"text2\").attr(\"y\", -10)\n\n  return tooltip\n}\n\ntype ChartElements = Readonly<{\n  circle: Selection<SVGCircleElement, unknown, HTMLElement, unknown>\n  linesWrapper: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  svg: Selection<SVGSVGElement, unknown, HTMLElement, unknown>\n  svgG: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  tooltip: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  voronoiGroup: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  xAxis: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  yAxis: Selection<SVGGElement, unknown, HTMLElement, unknown>\n}>\n\nclass MultilineVoronoiChart<ChartLine, ChartPoint> {\n  private readonly config: ChartConfig<ChartLine, ChartPoint>\n  private readonly elements: ChartElements\n  private readonly state: {\n    clickToggle: boolean\n    usedLines: ChartLine[]\n  }\n\n  public constructor(config: ChartConfig<ChartLine, ChartPoint>) {\n    this.config = config\n\n    const svg = select(`#${this.config.rootElId}`).append(\"svg\")\n    const svgG = svg.append(\"g\")\n    const xAxis = svgG.append(\"g\").attr(\"class\", `${styles.axis} axis--x`)\n    const yAxis = svgG.append(\"g\").attr(\"class\", `${styles.axis} axis--y`)\n\n    svgG\n      .append(\"text\")\n      .attr(\"x\", 20)\n      .attr(\"dy\", \".32em\")\n      .style(\"font-weight\", \"bold\")\n      .text(this.config.chartTitle)\n\n    addFilter(svgG)\n\n    const linesWrapper = svgG.append(\"g\").attr(\"class\", styles.lines)\n    const circle = svgG.append(\"circle\").attr(\"r\", 3.5)\n    const voronoiGroup = svgG.append(\"g\").attr(\"class\", styles.voronoi)\n\n    const tooltip = buildTooltip(svgG)\n\n    this.elements = {\n      circle,\n      linesWrapper,\n      svg,\n      svgG,\n      tooltip,\n      voronoiGroup,\n      xAxis,\n      yAxis,\n    }\n\n    this.state = {\n      clickToggle: false,\n      usedLines: this.config.lines,\n    }\n\n    this.render()\n\n    window.addEventListener(\"resize\", this.handleResize)\n  }\n\n  private static getMargin(width: number) {\n    const defaultMargin = {\n      bottom: 70,\n      left: 80,\n      right: 70,\n      top: 60,\n    }\n\n    if (width < 530) {\n      return {\n        ...defaultMargin,\n        left: 35,\n        right: 5,\n      }\n    }\n\n    return defaultMargin\n  }\n\n  public setVoronoi(newValue: boolean) {\n    this.elements.voronoiGroup.classed(styles.voronoiShow, newValue)\n  }\n\n  private render() {\n    const {\n      config: { lines, rootElId, times },\n      elements,\n    } = this\n    const color = scaleOrdinal(schemePastel2)\n\n    const rootEl = document.getElementById(rootElId) as HTMLElement\n\n    rootEl.classList.add(styles.multilineVoronoiChart)\n\n    const { width: elWidth } = rootEl.getBoundingClientRect()\n    const margin = MultilineVoronoiChart.getMargin(elWidth)\n    const width =\n      rootEl.getBoundingClientRect().width - margin.left - margin.right\n    const isSmallDevice = width < 530\n\n    const height = 500 - margin.top - margin.bottom\n\n    const xScale = scaleTime().range([0, width])\n    const yScale = scaleLinear().range([height, 0])\n\n    const lineXTransformer = (point: ChartPoint) =>\n      xScale(this.config.getPointXValue(point))\n    const lineYTransformer = (point: ChartPoint) =>\n      yScale(this.config.getPointYValue(point))\n\n    const lineIdToElement: { [lineId: string]: SVGPathElement } = {}\n\n    elements.svg\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n\n    elements.svgG.attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n    xScale.domain(extent<Date>(times) as [Date, Date])\n    yScale\n      .domain([\n        0,\n        max(lines, (line) =>\n          max(this.config.getLinePoints(line), this.config.getPointYValue)\n        ) as number,\n      ])\n      .nice()\n\n    elements.xAxis\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(axisBottom(xScale).ticks(isSmallDevice ? 2 : undefined))\n\n    elements.yAxis.call(axisLeft(yScale).ticks(10, \"%\"))\n\n    const line = lineD3<ChartPoint>().x(lineXTransformer).y(lineYTransformer)\n\n    const {\n      config,\n      state: { usedLines },\n    } = this\n\n    const updatedLines = elements.linesWrapper.selectAll(\"path\").data(usedLines)\n\n    updatedLines.enter().append(\"path\").style(\"filter\", \"url(#drop-shadow)\")\n    updatedLines.exit().remove()\n\n    elements.linesWrapper\n      .selectAll<SVGPathElement, ChartLine>(\"path\")\n      .attr(\"d\", function generateLine(usedLine) {\n        const usedLineId = config.getLineId(usedLine)\n\n        lineIdToElement[usedLineId] = this\n\n        const points = config.getLinePoints(usedLine)\n\n        return line(points)\n      })\n      .style(\"stroke\", (...[, lineIndex]) => color(lineIndex.toString()))\n\n    const mouseout = (...[, point]: [unknown, ChartPoint]) => {\n      const lineId = config.getLineIdFromPoint(point)\n      const { [lineId]: linePath } = lineIdToElement\n\n      select(linePath).classed(styles.lineHover, false)\n\n      return elements.tooltip.attr(\"transform\", \"translate(-100,-100)\")\n    }\n\n    const clicked = (...[, point]: [unknown, ChartPoint]) => {\n      this.state.clickToggle = !this.state.clickToggle\n\n      this.state.usedLines = (() => {\n        if (this.state.clickToggle) {\n          const lineData = lines.find(\n            (lineItem) =>\n              config.getLineId(lineItem) === config.getLineIdFromPoint(point)\n          ) as ChartLine\n\n          return [lineData]\n        }\n\n        return lines\n      })()\n\n      elements.tooltip.on(\"mouseover\", null).on(\"click\", null)\n\n      this.render()\n    }\n\n    const mouseover = (...[, point]: [unknown, ChartPoint]) => {\n      const lineId = config.getLineIdFromPoint(point)\n      const { [lineId]: linePath } = lineIdToElement\n\n      select(linePath).classed(styles.lineHover, true)\n      ;(linePath.parentNode as SVGGElement).appendChild(linePath)\n\n      const rawTranslateX = lineXTransformer(point)\n      const rawTranslateY = lineYTransformer(point)\n\n      const translateX = Math.min(\n        width - tooltipWidth / 2,\n        Math.max(tooltipWidthHalf, rawTranslateX)\n      )\n      const translateY = rawTranslateY\n\n      elements.tooltip\n        .attr(\"transform\", `translate(${translateX},${translateY})`)\n        .on(\"mouseover\", () => {\n          mouseover(null, point)\n        })\n        .on(\"click\", () => {\n          clicked(null, point)\n        })\n      elements.circle.attr(\n        \"transform\",\n        `translate(${rawTranslateX},${rawTranslateY})`\n      )\n\n      elements.tooltip.select(\".text1\").text(config.getTooltipPart1(point))\n      elements.tooltip.select(\".text2\").text(config.getTooltipPart2(point))\n    }\n\n    const flatPoints = usedLines.reduce<ChartPoint[]>((...[acc, usedLine]) => {\n      const points = config.getLinePoints(usedLine)\n\n      points.forEach((point) => {\n        acc.push(point)\n      })\n\n      return acc\n    }, [])\n\n    const voronoi = Delaunay.from(\n      flatPoints,\n      lineXTransformer,\n      lineYTransformer\n    ).voronoi([\n      -margin.left,\n      -margin.top,\n      width + margin.right,\n      height + margin.bottom,\n    ])\n\n    const updatedVoronoi = this.elements.voronoiGroup\n      .selectAll<SVGPathElement, ChartPoint>(\"path\")\n      .data(\n        flatPoints,\n        (point) =>\n          `${config.getLineIdFromPoint(point)}-${config.getPointXValue(point)}`\n      )\n\n    updatedVoronoi.enter().append(\"path\")\n    updatedVoronoi.exit().remove()\n\n    this.elements.voronoiGroup\n      .selectAll<SVGPathElement, ChartPoint>(\"path\")\n      .attr(\"d\", (...[, pointIndex]) => voronoi.renderCell(pointIndex))\n      .on(\"mouseover\", mouseover)\n      .on(\"mouseout\", mouseout)\n      .on(\"click\", clicked)\n  }\n\n  private readonly handleResize = () => {\n    this.render()\n  }\n}\n\nexport { MultilineVoronoiChart, ChartConfig }\n","const CONTAINER_ID = \"chart\"\n\nexport { CONTAINER_ID }\n","import { timeFormat, timeParse, tsv } from \"d3\"\n\nimport { ChartConfig } from \"./multiline-voronoi-chart\"\nimport { CONTAINER_ID } from \"./ui-constants\"\n\nconst SHOW_VORONOI_ID = \"show-voronoi\"\n\ntype InitialDataItem = {\n  [monthKey: string]: string\n  name: string\n}\n\ntype CityMetric = {\n  cityName: string\n  date: Date\n  employmentRate: number\n}\n\ntype City = {\n  metrics: CityMetric[]\n  name: string\n}\n\nconst monthNames = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n]\n\nconst formatStr = \"%Y-%m\"\n\nconst fetchData = async () => {\n  const monthFormat = timeFormat(formatStr)\n  const monthParse = timeParse(formatStr)\n\n  const dataItems = (await tsv(\n    `${ROOT_PATH}data/d3js/multiline-voronoi/data.tsv`\n  )) as unknown as InitialDataItem[]\n\n  const months: Date[] = Object.keys(dataItems[0])\n    .map((v) => monthParse(v)!)\n    .filter(Number)\n\n  const cities: City[] = dataItems.map((initialCity: InitialDataItem) => {\n    const name = initialCity.name\n      .replace(/(msa|necta div|met necta|met div)$/i, \"\")\n      .trim()\n\n    return {\n      metrics: months.map((date: Date) => {\n        const itemKey = monthFormat(date)\n        const { [itemKey as keyof InitialDataItem]: itemValue } = initialCity\n        const employmentRate: number = Number(itemValue) / 100\n\n        return {\n          cityName: name,\n          date,\n          employmentRate,\n        }\n      }),\n      name,\n    }\n  })\n\n  return { cities, months }\n}\n\ntype Config = ChartConfig<City, City[\"metrics\"][number]>\n\nconst getLineId: Config[\"getLineId\"] = (city) => city.name\n\nconst getLinePoints: Config[\"getLinePoints\"] = (city) => city.metrics\nconst getPointYValue: Config[\"getPointYValue\"] = (cityMetric) =>\n  cityMetric.employmentRate\n\nconst getTooltipPart1: Config[\"getTooltipPart1\"] = (cityMetric: CityMetric) =>\n  `${cityMetric.cityName.trim()}: `\n\nconst getTooltipPart2: Config[\"getTooltipPart2\"] = (cityMetric: CityMetric) => {\n  const date = `${\n    monthNames[cityMetric.date.getMonth()]\n  } of ${cityMetric.date.getFullYear()}`\n\n  return ` ${(cityMetric.employmentRate * 100).toFixed(2)}% - ${date}`\n}\n\nconst getLineIdFromPoint: Config[\"getLineIdFromPoint\"] = (cityMetric) =>\n  cityMetric.cityName\n\nconst getPointXValue: Config[\"getPointXValue\"] = (cityMetric) => cityMetric.date\n\nconst getChartConfig = ({\n  cities,\n  months,\n}: {\n  cities: City[]\n  months: Date[]\n}): Config => ({\n  chartTitle: \"US Unemployment Rate\",\n  getLineId,\n  getLineIdFromPoint,\n  getLinePoints,\n  getPointXValue,\n  getPointYValue,\n  getTooltipPart1,\n  getTooltipPart2,\n  lines: cities,\n  rootElId: CONTAINER_ID,\n  times: months,\n})\n\nexport { SHOW_VORONOI_ID, fetchData, getChartConfig }\n","import { select } from \"d3\"\n\nimport { MultilineVoronoiChart } from \"./multiline-voronoi-chart\"\nimport {\n  SHOW_VORONOI_ID,\n  fetchData,\n  getChartConfig,\n} from \"./multiline-voronoi-chart-config\"\nimport * as styles from \"./multiline-voronoi.module.css\"\nimport { CONTAINER_ID } from \"./ui-constants\"\n\nconst main = async () => {\n  const { cities, months } = await fetchData()\n  const chartConfig = getChartConfig({ cities, months })\n\n  const chart = new MultilineVoronoiChart(chartConfig)\n\n  const form = document.getElementById(styles.formVoronoi) as HTMLElement\n  const chartEl = document.getElementById(CONTAINER_ID) as HTMLElement\n\n  chartEl.appendChild(form)\n\n  select(`#${SHOW_VORONOI_ID}`)\n    .property(\"disabled\", false)\n    .on(\"change\", (mouseEvent: MouseEvent) => {\n      chart.setVoronoi((mouseEvent.target as HTMLInputElement).checked || false)\n    })\n}\n\nexport { CONTAINER_ID, SHOW_VORONOI_ID }\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main, {\n  CONTAINER_ID,\n  SHOW_VORONOI_ID,\n} from \"@/demos/multiline-voronoi/multiline-voronoi\"\nimport * as styles from \"@/demos/multiline-voronoi/multiline-voronoi.module.css\"\n\nconst MultilineVoronoi = ({ pageContext }: DemoPageProps) => (\n  <Demo main={main} pageContext={pageContext}>\n    <form id={styles.formVoronoi}>\n      <input\n        className=\"form-check-input\"\n        id={SHOW_VORONOI_ID}\n        type=\"checkbox\"\n      />{\" \"}\n      <label htmlFor={SHOW_VORONOI_ID}>Show Voronoi lines</label>\n    </form>\n    <div id={CONTAINER_ID} />\n  </Demo>\n)\n\nexport default MultilineVoronoi\n","module.exports = require(\"regenerator-runtime\");\n","// extracted by mini-css-extract-plugin\nexport var backHome = \"styles-module--backHome--b9e05\";\nexport var bullet = \"styles-module--bullet--337e0\";\nexport var d3js = \"styles-module--d3js--ff3aa\";\nexport var raphael = \"styles-module--raphael--40af0\";\nexport var storybook = \"styles-module--storybook--f1bcc\";\nexport var testing = \"styles-module--testing--9f8b3\";\nexport var codeFragment = \"styles-module--codeFragment--8d705\";\nexport var codeFragmentButton = \"styles-module--codeFragmentButton--98bc0\";\nexport var demoName = \"styles-module--demoName--4057d\";\nexport var divisor = \"styles-module--divisor--4c75d\";\nexport var fileNameWrapper = \"styles-module--fileNameWrapper--e0bd4\";\nexport var footer = \"styles-module--footer--a0f96\";\nexport var homeDemoNumber = \"styles-module--homeDemoNumber--755fe\";\nexport var homeDemoNameLink = \"styles-module--homeDemoNameLink--4b57a\";\nexport var notes = \"styles-module--notes--e1c07\";\nexport var rootLayout = \"styles-module--rootLayout--03362\";\nexport var sourceNumber = \"styles-module--sourceNumber--335c1\";\nexport var pageHeader = \"styles-module--pageHeader--06484\";\nexport var rowWrapper = \"styles-module--rowWrapper--9f3a4\";\nexport var tagCollection = \"styles-module--tagCollection--c96c8\";\nexport var tag = \"styles-module--tag--8c674\";\nexport var demosLegend = \"styles-module--demosLegend--16d25\";\nexport var demosLists = \"styles-module--demosLists--52492\";\nexport var highlightStorybook = \"styles-module--highlightStorybook--b465e\";\nexport var highlightTesting = \"styles-module--highlightTesting--b7d3f\";\nexport var demoWip = \"styles-module--demoWip--18449\";\nexport var demoTitle = \"styles-module--demoTitle--7c73a\";\nexport var mainSource = \"styles-module--mainSource--f7ebb\";\nexport var dataList = \"styles-module--dataList--54f77\";\nexport var sourcesList = \"styles-module--sourcesList--27e91\";\nexport var ghButtons = \"styles-module--ghButtons--1d466\";","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["isCompleted","mainSource","name","className","id","styles","title","href","rel","target","ROOT_PATH","role","getDemoE2ETestFilePath","demoName","useState","browserWidth","setBrowserWidth","useEffect","browserWidthInitial","window","Math","max","document","body","scrollWidth","documentElement","offsetWidth","clientWidth","content","isExpanded","setIsExpanded","useBrowserInitialWidth","onClick","type","dangerouslySetInnerHTML","__html","CodeInGH","filePath","CoverageReport","demoInfo","pageFilePath","category","key","files","page","notes","length","map","note","noteIndex","summary","summaryLine","summaryIndex","sources","source","sourceIndex","docs","doc","dataFiles","file","fileIndex","demoTS","demoCSS","cssIndex","parsePath","str","replace","main","children","scripts","links","pageContext","meta","catch","mainError","console","error","Helmet","link","description","script","src","Date","getFullYear","frameBorder","height","scrolling","width","axis","lineHover","formVoronoi","tooltipWidth","MultilineVoronoiChart","config","handleResize","render","this","svg","select","rootElId","append","svgG","xAxis","attr","yAxis","style","text","chartTitle","filter","feMerge","addFilter","linesWrapper","circle","voronoiGroup","tooltip","buildTooltip","elements","state","clickToggle","usedLines","lines","addEventListener","getMargin","defaultMargin","bottom","left","right","top","setVoronoi","newValue","classed","times","color","scaleOrdinal","schemePastel2","rootEl","getElementById","classList","add","elWidth","getBoundingClientRect","margin","isSmallDevice","xScale","scaleTime","range","yScale","scaleLinear","lineXTransformer","point","getPointXValue","lineYTransformer","getPointYValue","lineIdToElement","domain","extent","line","getLinePoints","nice","call","axisBottom","ticks","undefined","axisLeft","lineD3","x","y","updatedLines","selectAll","data","enter","exit","remove","usedLine","usedLineId","getLineId","points","lineIndex","toString","clicked","find","lineItem","getLineIdFromPoint","on","flatPoints","reduce","acc","forEach","push","voronoi","Delaunay","updatedVoronoi","pointIndex","renderCell","mouseover","lineId","linePath","parentNode","appendChild","rawTranslateX","rawTranslateY","translateX","min","translateY","getTooltipPart1","getTooltipPart2","CONTAINER_ID","SHOW_VORONOI_ID","monthNames","formatStr","fetchData","monthFormat","timeFormat","monthParse","timeParse","tsv","dataItems","months","Object","keys","v","Number","cities","initialCity","trim","metrics","date","itemKey","itemValue","employmentRate","cityName","city","cityMetric","getMonth","toFixed","getChartConfig","chartConfig","chart","form","property","mouseEvent","checked","htmlFor","module","exports","backHome","bullet","d3js","raphael","storybook","testing","codeFragment","codeFragmentButton","divisor","fileNameWrapper","footer","homeDemoNumber","homeDemoNameLink","rootLayout","sourceNumber","pageHeader","rowWrapper","tagCollection","tag","demosLegend","demosLists","highlightStorybook","highlightTesting","demoWip","demoTitle","dataList","sourcesList","ghButtons","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err"],"sourceRoot":""}