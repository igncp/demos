(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[189],{6898:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var r=a(7294),n=a(4275),o=a(2137),i=a(7757),l=a.n(i),c=a(2245),p=a(2149),d="area-module--axis--3OeLF",u=function(t){return"Year: "+t.year+", Percent: "+t.percent+"%"},s="Share of top decile [aka top 10%] in national income",f=function(t){var e=t.data,a=t.rootElId,r=document.getElementById(a).getBoundingClientRect().width,n=r<500,o=50,i=n?50:70,l=n?10:50,f=50,h=400-f-o,g=r-i-l,v=(0,c.Ys)("#"+a).append("svg").attr("height",h+f+o).attr("width",g+i+l).append("g").attr("transform","translate("+i+","+f+")").attr("class","area-module--areaChart--18U7a");v.append("text").attr("class","area-module--chartTitle--2vijK").attr("text-anchor","middle").attr("transform","translate("+g/2+","+"-15)").text(s).style("font-weight","bold"),m("points",v,2,.5);var y=(0,c.Fp7)(e,(function(t){return t.year})),x=(0,c.VV$)(e,(function(t){return t.year})),k=(0,c.Fp7)(e,(function(t){return t.percent/100})),w=(0,c.VV$)(e,(function(t){return t.percent/100})),E=(0,c.BYU)().domain([x,y]).range([0,g]),C=(0,c.BYU)().domain([k+.05,w-.05]).range([0,h]),V=n?(0,c.aE8)().domain([0,500]).range(Array.from({length:6}).map((function(t,e){return e})))(r):null,b=(0,c.LLu)(E).tickFormat((0,c.WUZ)(".0f")).ticks(V),Y=(0,c.y4O)(C).tickFormat((0,c.WUZ)(".0%")).tickSize(10);v.append("g").attr("class","area-module--x--3vSV5 "+d).attr("transform","translate(0,"+h+")").call(b).selectAll("text").attr("dy","1.25em"),v.append("g").attr("class","area-module--y--3xyOd "+d).call(Y).selectAll("text").attr("dx","-.25em");var A=(0,c.SOn)().x((function(t){return E(t.year)})).y0(h).y1((function(t){return C(t.percent/100)})),B=(0,c.jvg)().x((function(t){return E(t.year)})).y((function(t){return C(t.percent/100)}));v.append("path").datum(e).attr("class","area-module--line--2fHic").attr("d",B).attr("clip-path","url(#clip)"),v.append("clipPath").attr("id","clip").append("rect").attr("height",h).attr("width",g),v.append("path").datum(e).attr("class","area-module--area--1qZz_").attr("d",A).attr("clip-path","url(#clip)");var F=p.Z.from(e,(function(t){return E(t.year)}),(function(t){return C(t.percent/100)})).voronoi([-i,-f,g+l,h+o]);v.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+E(t.year)+","+C(t.percent/100)+")"})).attr("r","5px").attr("class",(function(t,e){return"area-module--point--29v1- point-"+e})).style("filter","url(#drop-shadow-points)");var S=v.append("g").attr("class","area-module--voronoi--1NIYY");return S.selectAll("path").data(e).enter().append("path").attr("d",(function(t,e){return t.index=e,F.renderCell(e)})).on("mouseover",(function(t,e){(0,c.Ys)(".point-"+e.index).style("display","block")})).on("mouseleave",(function(t,e){(0,c.Ys)(".point-"+e.index).style("display","none")})).append("title").text(u),{toggleVoronoi:function(){var t=S.attr("class"),e="area-module--showVoronoi--1QHCR",a=t.includes(e)?t.replace(e,"").trim():t+" "+e;S.attr("class",a)}}},m=function(t,e,a,r){var n=e.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+t).attr("width","500%").attr("x","-200%").attr("y","-200%");n.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",a),n.append("feOffset").attr("dx",1).attr("dy",1),n.append("feComponentTransfer").append("feFuncA").attr("slope",r).attr("type","linear");var o=n.append("feMerge");o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},h=function(){var t=(0,o.Z)(l().mark((function t(){var e,a,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.gyn)("/demos/data/d3js/area/data.csv");case 2:e=t.sent,"chart",a=f({data:e,rootElId:"chart"}),r=a.toggleVoronoi,document.getElementById("toggle-voronoi").addEventListener("click",(function(t){t.preventDefault(),r()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(t){var e=t.pageContext;return r.createElement(n.Z,{main:h,pageContext:e},r.createElement("form",null,r.createElement("button",{className:"btn btn-info",id:"toggle-voronoi",type:"button"},"Toggle Voronoi")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-tsx-d40c73ff2dbd641d7562.js.map