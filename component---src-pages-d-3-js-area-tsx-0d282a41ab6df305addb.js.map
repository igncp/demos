{"version":3,"file":"component---src-pages-d-3-js-area-tsx-0d282a41ab6df305addb.js","mappings":"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","sources":["webpack://demos/./node_modules/uuid/dist/esm-browser/rng.js","webpack://demos/./node_modules/uuid/dist/esm-browser/regex.js","webpack://demos/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://demos/./node_modules/uuid/dist/esm-browser/validate.js","webpack://demos/./node_modules/uuid/dist/esm-browser/v1.js","webpack://demos/./node_modules/rxjs/node_modules/tslib/tslib.es6.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/config.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://demos/./src/demos/area/config-types.ts","webpack://demos/./node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://demos/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js","webpack://demos/./src/demos/area/ui-constants.ts","webpack://demos/./src/demos/area/area-config.ts","webpack://demos/./src/demos/area/sources/income-item-model.ts","webpack://demos/./src/demos/area/sources/income-config.ts","webpack://demos/./src/demos/area/sources/nobel-prizes-config.ts","webpack://demos/./src/demos/area/area-controls.ts","webpack://demos/./src/demos/area/chart/area-chart.module.css","webpack://demos/./src/demos/area/chart/voronoi-group.ts","webpack://demos/./src/demos/area/chart/area-chart.ts","webpack://demos/./src/demos/area/area.ts","webpack://demos/./src/pages/d3js/area.tsx","webpack://demos/./src/demos/area/area-page.module.css"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}","export function isFunction(value) {\n  return typeof value === 'function';\n}","export function createErrorClass(createImpl) {\n  var _super = function _super(instance) {\n    Error.call(instance);\n    instance.stack = new Error().stack;\n  };\n\n  var ctorFunc = createImpl(_super);\n  ctorFunc.prototype = Object.create(Error.prototype);\n  ctorFunc.prototype.constructor = ctorFunc;\n  return ctorFunc;\n}","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n  return function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n\n    this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) {\n      return i + 1 + \") \" + err.toString();\n    }).join('\\n  ') : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n  };\n});","export function arrRemove(arr, item) {\n  if (arr) {\n    var index = arr.indexOf(item);\n    0 <= index && arr.splice(index, 1);\n  }\n}","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\n\nvar Subscription = function () {\n  function Subscription(initialTeardown) {\n    this.initialTeardown = initialTeardown;\n    this.closed = false;\n    this._parentage = null;\n    this._teardowns = null;\n  }\n\n  Subscription.prototype.unsubscribe = function () {\n    var e_1, _a, e_2, _b;\n\n    var errors;\n\n    if (!this.closed) {\n      this.closed = true;\n      var _parentage = this._parentage;\n\n      if (_parentage) {\n        this._parentage = null;\n\n        if (Array.isArray(_parentage)) {\n          try {\n            for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n              var parent_1 = _parentage_1_1.value;\n              parent_1.remove(this);\n            }\n          } catch (e_1_1) {\n            e_1 = {\n              error: e_1_1\n            };\n          } finally {\n            try {\n              if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n        } else {\n          _parentage.remove(this);\n        }\n      }\n\n      var initialTeardown = this.initialTeardown;\n\n      if (isFunction(initialTeardown)) {\n        try {\n          initialTeardown();\n        } catch (e) {\n          errors = e instanceof UnsubscriptionError ? e.errors : [e];\n        }\n      }\n\n      var _teardowns = this._teardowns;\n\n      if (_teardowns) {\n        this._teardowns = null;\n\n        try {\n          for (var _teardowns_1 = __values(_teardowns), _teardowns_1_1 = _teardowns_1.next(); !_teardowns_1_1.done; _teardowns_1_1 = _teardowns_1.next()) {\n            var teardown_1 = _teardowns_1_1.value;\n\n            try {\n              execTeardown(teardown_1);\n            } catch (err) {\n              errors = errors !== null && errors !== void 0 ? errors : [];\n\n              if (err instanceof UnsubscriptionError) {\n                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n              } else {\n                errors.push(err);\n              }\n            }\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (_teardowns_1_1 && !_teardowns_1_1.done && (_b = _teardowns_1.return)) _b.call(_teardowns_1);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n\n      if (errors) {\n        throw new UnsubscriptionError(errors);\n      }\n    }\n  };\n\n  Subscription.prototype.add = function (teardown) {\n    var _a;\n\n    if (teardown && teardown !== this) {\n      if (this.closed) {\n        execTeardown(teardown);\n      } else {\n        if (teardown instanceof Subscription) {\n          if (teardown.closed || teardown._hasParent(this)) {\n            return;\n          }\n\n          teardown._addParent(this);\n        }\n\n        (this._teardowns = (_a = this._teardowns) !== null && _a !== void 0 ? _a : []).push(teardown);\n      }\n    }\n  };\n\n  Subscription.prototype._hasParent = function (parent) {\n    var _parentage = this._parentage;\n    return _parentage === parent || Array.isArray(_parentage) && _parentage.includes(parent);\n  };\n\n  Subscription.prototype._addParent = function (parent) {\n    var _parentage = this._parentage;\n    this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n  };\n\n  Subscription.prototype._removeParent = function (parent) {\n    var _parentage = this._parentage;\n\n    if (_parentage === parent) {\n      this._parentage = null;\n    } else if (Array.isArray(_parentage)) {\n      arrRemove(_parentage, parent);\n    }\n  };\n\n  Subscription.prototype.remove = function (teardown) {\n    var _teardowns = this._teardowns;\n    _teardowns && arrRemove(_teardowns, teardown);\n\n    if (teardown instanceof Subscription) {\n      teardown._removeParent(this);\n    }\n  };\n\n  Subscription.EMPTY = function () {\n    var empty = new Subscription();\n    empty.closed = true;\n    return empty;\n  }();\n\n  return Subscription;\n}();\n\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n  return value instanceof Subscription || value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe);\n}\n\nfunction execTeardown(teardown) {\n  if (isFunction(teardown)) {\n    teardown();\n  } else {\n    teardown.unsubscribe();\n  }\n}","export var config = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: undefined,\n  useDeprecatedSynchronousErrorHandling: false,\n  useDeprecatedNextContext: false\n};","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n  setTimeout: function (_setTimeout) {\n    function setTimeout() {\n      return _setTimeout.apply(this, arguments);\n    }\n\n    setTimeout.toString = function () {\n      return _setTimeout.toString();\n    };\n\n    return setTimeout;\n  }(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var delegate = timeoutProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) || setTimeout).apply(void 0, __spreadArray([], __read(args)));\n  }),\n  clearTimeout: function (_clearTimeout) {\n    function clearTimeout(_x) {\n      return _clearTimeout.apply(this, arguments);\n    }\n\n    clearTimeout.toString = function () {\n      return _clearTimeout.toString();\n    };\n\n    return clearTimeout;\n  }(function (handle) {\n    var delegate = timeoutProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n  }),\n  delegate: undefined\n};","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n  timeoutProvider.setTimeout(function () {\n    var onUnhandledError = config.onUnhandledError;\n\n    if (onUnhandledError) {\n      onUnhandledError(err);\n    } else {\n      throw err;\n    }\n  });\n}","export function noop() {}","export var COMPLETE_NOTIFICATION = function () {\n  return createNotification('C', undefined, undefined);\n}();\nexport function errorNotification(error) {\n  return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n  return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n  return {\n    kind: kind,\n    value: value,\n    error: error\n  };\n}","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    var isRoot = !context;\n\n    if (isRoot) {\n      context = {\n        errorThrown: false,\n        error: null\n      };\n    }\n\n    cb();\n\n    if (isRoot) {\n      var _a = context,\n          errorThrown = _a.errorThrown,\n          error = _a.error;\n      context = null;\n\n      if (errorThrown) {\n        throw error;\n      }\n    }\n  } else {\n    cb();\n  }\n}\nexport function captureError(err) {\n  if (config.useDeprecatedSynchronousErrorHandling && context) {\n    context.errorThrown = true;\n    context.error = err;\n  }\n}","import { __extends, __read, __spreadArray } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\n\nvar Subscriber = function (_super) {\n  __extends(Subscriber, _super);\n\n  function Subscriber(destination) {\n    var _this = _super.call(this) || this;\n\n    _this.isStopped = false;\n\n    if (destination) {\n      _this.destination = destination;\n\n      if (isSubscription(destination)) {\n        destination.add(_this);\n      }\n    } else {\n      _this.destination = EMPTY_OBSERVER;\n    }\n\n    return _this;\n  }\n\n  Subscriber.create = function (next, error, complete) {\n    return new SafeSubscriber(next, error, complete);\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (this.isStopped) {\n      handleStoppedNotification(nextNotification(value), this);\n    } else {\n      this._next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (this.isStopped) {\n      handleStoppedNotification(errorNotification(err), this);\n    } else {\n      this.isStopped = true;\n\n      this._error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function () {\n    if (this.isStopped) {\n      handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n    } else {\n      this.isStopped = true;\n\n      this._complete();\n    }\n  };\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (!this.closed) {\n      this.isStopped = true;\n\n      _super.prototype.unsubscribe.call(this);\n\n      this.destination = null;\n    }\n  };\n\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n\n  Subscriber.prototype._error = function (err) {\n    try {\n      this.destination.error(err);\n    } finally {\n      this.unsubscribe();\n    }\n  };\n\n  Subscriber.prototype._complete = function () {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  };\n\n  return Subscriber;\n}(Subscription);\n\nexport { Subscriber };\n\nvar SafeSubscriber = function (_super) {\n  __extends(SafeSubscriber, _super);\n\n  function SafeSubscriber(observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    var next;\n\n    if (isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next, error = observerOrNext.error, complete = observerOrNext.complete;\n      var context_1;\n\n      if (_this && config.useDeprecatedNextContext) {\n        context_1 = Object.create(observerOrNext);\n\n        context_1.unsubscribe = function () {\n          return _this.unsubscribe();\n        };\n      } else {\n        context_1 = observerOrNext;\n      }\n\n      next = next === null || next === void 0 ? void 0 : next.bind(context_1);\n      error = error === null || error === void 0 ? void 0 : error.bind(context_1);\n      complete = complete === null || complete === void 0 ? void 0 : complete.bind(context_1);\n    }\n\n    _this.destination = {\n      next: next ? wrapForErrorHandling(next, _this) : noop,\n      error: wrapForErrorHandling(error !== null && error !== void 0 ? error : defaultErrorHandler, _this),\n      complete: complete ? wrapForErrorHandling(complete, _this) : noop\n    };\n    return _this;\n  }\n\n  return SafeSubscriber;\n}(Subscriber);\n\nexport { SafeSubscriber };\n\nfunction wrapForErrorHandling(handler, instance) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    try {\n      handler.apply(void 0, __spreadArray([], __read(args)));\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(err);\n      } else {\n        reportUnhandledError(err);\n      }\n    }\n  };\n}\n\nfunction defaultErrorHandler(err) {\n  throw err;\n}\n\nfunction handleStoppedNotification(notification, subscriber) {\n  var onStoppedNotification = config.onStoppedNotification;\n  onStoppedNotification && timeoutProvider.setTimeout(function () {\n    return onStoppedNotification(notification, subscriber);\n  });\n}\n\nexport var EMPTY_OBSERVER = {\n  closed: true,\n  next: noop,\n  error: defaultErrorHandler,\n  complete: noop\n};","export var observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();","export function identity(x) {\n  return x;\n}","import { identity } from './identity';\nexport function pipe() {\n  var fns = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    fns[_i] = arguments[_i];\n  }\n\n  return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n  if (fns.length === 0) {\n    return identity;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input) {\n    return fns.reduce(function (prev, fn) {\n      return fn(prev);\n    }, input);\n  };\n}","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\n\nvar Observable = function () {\n  function Observable(subscribe) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  Observable.prototype.lift = function (operator) {\n    var observable = new Observable();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  };\n\n  Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n    var _this = this;\n\n    var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n    errorContext(function () {\n      var _a = _this,\n          operator = _a.operator,\n          source = _a.source;\n      subscriber.add(operator ? operator.call(subscriber, source) : source ? _this._subscribe(subscriber) : _this._trySubscribe(subscriber));\n    });\n    return subscriber;\n  };\n\n  Observable.prototype._trySubscribe = function (sink) {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      sink.error(err);\n    }\n  };\n\n  Observable.prototype.forEach = function (_next, promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var subscriber = new SafeSubscriber({\n        next: function next(value) {\n          try {\n            _next(value);\n          } catch (err) {\n            reject(err);\n            subscriber.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n\n      _this.subscribe(subscriber);\n    });\n  };\n\n  Observable.prototype._subscribe = function (subscriber) {\n    var _a;\n\n    return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n  };\n\n  Observable.prototype[Symbol_observable] = function () {\n    return this;\n  };\n\n  Observable.prototype.pipe = function () {\n    var operations = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      operations[_i] = arguments[_i];\n    }\n\n    return pipeFromArray(operations)(this);\n  };\n\n  Observable.prototype.toPromise = function (promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var value;\n\n      _this.subscribe(function (x) {\n        return value = x;\n      }, function (err) {\n        return reject(err);\n      }, function () {\n        return resolve(value);\n      });\n    });\n  };\n\n  Observable.create = function (subscribe) {\n    return new Observable(subscribe);\n  };\n\n  return Observable;\n}();\n\nexport { Observable };\n\nfunction getPromiseCtor(promiseCtor) {\n  var _a;\n\n  return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\n\nfunction isObserver(value) {\n  return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\n\nfunction isSubscriber(value) {\n  return value && value instanceof Subscriber || isObserver(value) && isSubscription(value);\n}","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n  return function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n  };\n});","import { ChartConfig } from \"./chart/area-chart\"\n\nexport type ConfigResult<ConfigData> = {\n  config: ChartConfig<ConfigData>\n  onUpdateRandomValue: () => void\n}\n\nexport enum DataSource {\n  INCOME = \"income\",\n  NOBEL_PRIZES = \"nobel-prizes\",\n}\n","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\n\nvar Subject = function (_super) {\n  __extends(Subject, _super);\n\n  function Subject() {\n    var _this = _super.call(this) || this;\n\n    _this.closed = false;\n    _this.observers = [];\n    _this.isStopped = false;\n    _this.hasError = false;\n    _this.thrownError = null;\n    return _this;\n  }\n\n  Subject.prototype.lift = function (operator) {\n    var subject = new AnonymousSubject(this, this);\n    subject.operator = operator;\n    return subject;\n  };\n\n  Subject.prototype._throwIfClosed = function () {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n  };\n\n  Subject.prototype.next = function (value) {\n    var _this = this;\n\n    errorContext(function () {\n      var e_1, _a;\n\n      _this._throwIfClosed();\n\n      if (!_this.isStopped) {\n        var copy = _this.observers.slice();\n\n        try {\n          for (var copy_1 = __values(copy), copy_1_1 = copy_1.next(); !copy_1_1.done; copy_1_1 = copy_1.next()) {\n            var observer = copy_1_1.value;\n            observer.next(value);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (copy_1_1 && !copy_1_1.done && (_a = copy_1.return)) _a.call(copy_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    });\n  };\n\n  Subject.prototype.error = function (err) {\n    var _this = this;\n\n    errorContext(function () {\n      _this._throwIfClosed();\n\n      if (!_this.isStopped) {\n        _this.hasError = _this.isStopped = true;\n        _this.thrownError = err;\n        var observers = _this.observers;\n\n        while (observers.length) {\n          observers.shift().error(err);\n        }\n      }\n    });\n  };\n\n  Subject.prototype.complete = function () {\n    var _this = this;\n\n    errorContext(function () {\n      _this._throwIfClosed();\n\n      if (!_this.isStopped) {\n        _this.isStopped = true;\n        var observers = _this.observers;\n\n        while (observers.length) {\n          observers.shift().complete();\n        }\n      }\n    });\n  };\n\n  Subject.prototype.unsubscribe = function () {\n    this.isStopped = this.closed = true;\n    this.observers = null;\n  };\n\n  Object.defineProperty(Subject.prototype, \"observed\", {\n    get: function get() {\n      var _a;\n\n      return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Subject.prototype._trySubscribe = function (subscriber) {\n    this._throwIfClosed();\n\n    return _super.prototype._trySubscribe.call(this, subscriber);\n  };\n\n  Subject.prototype._subscribe = function (subscriber) {\n    this._throwIfClosed();\n\n    this._checkFinalizedStatuses(subscriber);\n\n    return this._innerSubscribe(subscriber);\n  };\n\n  Subject.prototype._innerSubscribe = function (subscriber) {\n    var _a = this,\n        hasError = _a.hasError,\n        isStopped = _a.isStopped,\n        observers = _a.observers;\n\n    return hasError || isStopped ? EMPTY_SUBSCRIPTION : (observers.push(subscriber), new Subscription(function () {\n      return arrRemove(observers, subscriber);\n    }));\n  };\n\n  Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n    var _a = this,\n        hasError = _a.hasError,\n        thrownError = _a.thrownError,\n        isStopped = _a.isStopped;\n\n    if (hasError) {\n      subscriber.error(thrownError);\n    } else if (isStopped) {\n      subscriber.complete();\n    }\n  };\n\n  Subject.prototype.asObservable = function () {\n    var observable = new Observable();\n    observable.source = this;\n    return observable;\n  };\n\n  Subject.create = function (destination, source) {\n    return new AnonymousSubject(destination, source);\n  };\n\n  return Subject;\n}(Observable);\n\nexport { Subject };\n\nvar AnonymousSubject = function (_super) {\n  __extends(AnonymousSubject, _super);\n\n  function AnonymousSubject(destination, source) {\n    var _this = _super.call(this) || this;\n\n    _this.destination = destination;\n    _this.source = source;\n    return _this;\n  }\n\n  AnonymousSubject.prototype.next = function (value) {\n    var _a, _b;\n\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  };\n\n  AnonymousSubject.prototype.error = function (err) {\n    var _a, _b;\n\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n  };\n\n  AnonymousSubject.prototype.complete = function () {\n    var _a, _b;\n\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n\n  AnonymousSubject.prototype._subscribe = function (subscriber) {\n    var _a, _b;\n\n    return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n  };\n\n  return AnonymousSubject;\n}(Subject);\n\nexport { AnonymousSubject };","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\n\nvar BehaviorSubject = function (_super) {\n  __extends(BehaviorSubject, _super);\n\n  function BehaviorSubject(_value) {\n    var _this = _super.call(this) || this;\n\n    _this._value = _value;\n    return _this;\n  }\n\n  Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n    get: function get() {\n      return this.getValue();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BehaviorSubject.prototype._subscribe = function (subscriber) {\n    var subscription = _super.prototype._subscribe.call(this, subscriber);\n\n    !subscription.closed && subscriber.next(this._value);\n    return subscription;\n  };\n\n  BehaviorSubject.prototype.getValue = function () {\n    var _a = this,\n        hasError = _a.hasError,\n        thrownError = _a.thrownError,\n        _value = _a._value;\n\n    if (hasError) {\n      throw thrownError;\n    }\n\n    this._throwIfClosed();\n\n    return _value;\n  };\n\n  BehaviorSubject.prototype.next = function (value) {\n    _super.prototype.next.call(this, this._value = value);\n  };\n\n  return BehaviorSubject;\n}(Subject);\n\nexport { BehaviorSubject };","const CONTAINER_ID = \"chart\"\nconst DATA_SOURCE_SELECT_ID = \"data-source-select\"\nconst TOGGLE_BUTTON_ID = \"toggle-voronoi\"\nconst UPDATE_BUTTON_ID = \"update-voronoi\"\n\nconst VORONOI_ITEM = \"data-voronoi-item\"\nconst HAS_VORONOI_ATTR = \"data-has-voronoi\"\n\nexport {\n  CONTAINER_ID,\n  DATA_SOURCE_SELECT_ID,\n  HAS_VORONOI_ATTR,\n  TOGGLE_BUTTON_ID,\n  UPDATE_BUTTON_ID,\n  VORONOI_ITEM,\n}\n","import { getIncomeConfig } from \"./sources/income-config\"\nimport { IncomeItem } from \"./sources/income-item-model\"\nimport {\n  NobelPrizeItem,\n  getNobelPrizesConfig,\n} from \"./sources/nobel-prizes-config\"\n\nenum DataSource {\n  INCOME = \"income\",\n  NOBEL_PRIZES = \"nobel-prizes\",\n}\n\nconst dataSourceToName: Record<DataSource, string> = {\n  [DataSource.INCOME]: \"Income\",\n  [DataSource.NOBEL_PRIZES]: \"Nobel Prizes (external API)\",\n}\n\ntype AppState = {\n  loaded: boolean\n  source: DataSource\n}\n\ntype GenericItem = IncomeItem | NobelPrizeItem\n\nconst createChartConfig = async ({\n  appState,\n  updateState,\n}: {\n  appState: AppState\n  updateState: (newState: Partial<AppState>) => void\n}) => {\n  const [incomeResult, nobelPrizesResult] = await Promise.all([\n    getIncomeConfig(),\n    getNobelPrizesConfig(),\n  ])\n\n  const getResult = (source?: DataSource) => {\n    switch (source ?? appState.source) {\n      case DataSource.NOBEL_PRIZES:\n        return nobelPrizesResult\n      case DataSource.INCOME:\n        return incomeResult\n\n      default:\n        throw new Error(\"Unknown source\")\n    }\n  }\n\n  const getConfig = (source?: DataSource) => getResult(source).config\n\n  return {\n    config: {\n      getAreaPoints: () => getConfig().getAreaPoints(),\n      getChartTitle: () => getConfig().getChartTitle(),\n      getChartTitleShort: () => getConfig().getChartTitleShort(),\n      getItemId: (nodeItem: GenericItem) =>\n        // @ts-expect-error\n        getConfig(nodeItem.source).getItemId(nodeItem),\n      getItemTitle: (nodeItem: GenericItem) =>\n        // @ts-expect-error\n        getConfig(nodeItem.source).getItemTitle(nodeItem),\n      getItemXValue: (nodeItem: GenericItem) =>\n        // @ts-expect-error\n        getConfig(nodeItem.source).getItemXValue(nodeItem),\n      getItemYValue: (nodeItem: GenericItem) =>\n        // @ts-expect-error\n        getConfig(nodeItem.source).getItemYValue(nodeItem),\n      getPointClickHandler: () =>\n        getConfig().getPointClickHandler() as\n          | ((point: GenericItem) => void)\n          | null,\n      getRootElId: () => getConfig().getRootElId(),\n      getVerticalOffset: () => getConfig().getVerticalOffset(),\n      getXAxisFormat: () => getConfig().getXAxisFormat(),\n      getYAxisFormat: () => getConfig().getYAxisFormat(),\n    },\n    onUpdateRandomValue: () => getResult().onUpdateRandomValue(),\n    updateSource: (source: DataSource) => {\n      updateState({ source })\n    },\n  }\n}\n\nexport {\n  createChartConfig,\n  AppState,\n  DataSource,\n  dataSourceToName,\n  GenericItem,\n}\n","import { csv } from \"d3\"\n\nimport { DataSource } from \"../config-types\"\n\ntype IncomeItemBase = {\n  percent: number\n  year: number\n}\n\ntype IncomeItemData = Omit<IncomeItemBase, \"percent\"> & {\n  percentage: number\n  pointIndex: number\n}\n\nclass IncomeItem {\n  public source: DataSource.INCOME\n  private readonly incomeItemData: IncomeItemData\n\n  private constructor(incomeItemData: IncomeItemData) {\n    this.source = DataSource.INCOME\n    this.incomeItemData = incomeItemData\n    this.incomeItemData.percentage = Number(this.incomeItemData.percentage)\n  }\n\n  public static async fetchAndCreateCollection(): Promise<IncomeItem[]> {\n    const response = (await (csv(\n      `${ROOT_PATH}data/d3js/area/data.csv`\n    ) as unknown)) as IncomeItemBase[]\n\n    const incomeItemsData = response.map((...[point, pointIndex]) => ({\n      ...point,\n      percentage: point.percent,\n      pointIndex,\n    }))\n\n    return incomeItemsData.map(\n      (incomeItemData) => new IncomeItem(incomeItemData)\n    )\n  }\n\n  public getYear() {\n    return this.incomeItemData.year\n  }\n\n  public changePercentage(percentageChange: number) {\n    const valueWithLowerBound = Math.max(\n      this.incomeItemData.percentage + percentageChange,\n      0\n    )\n    const newValue = Math.min(100, valueWithLowerBound)\n\n    this.incomeItemData.percentage = newValue\n  }\n\n  public getNormalizedValue() {\n    return this.incomeItemData.percentage / 100\n  }\n\n  public getId() {\n    return this.incomeItemData.pointIndex\n  }\n\n  public getSummary(): string {\n    const { incomeItemData } = this\n\n    return `Year: ${\n      incomeItemData.year\n    }, Percentage: ${incomeItemData.percentage.toFixed(2)}%`\n  }\n}\n\nexport { IncomeItem }\n","import { format } from \"d3\"\n\nimport { ChartConfig } from \"../chart/area-chart\"\nimport { ConfigResult } from \"../config-types\"\nimport { CONTAINER_ID } from \"../ui-constants\"\n\nimport { IncomeItem } from \"./income-item-model\"\n\ntype Config = ChartConfig<IncomeItem>\n\nconst getItemXValue: Config[\"getItemXValue\"] = (incomeItem) =>\n  incomeItem.getYear()\nconst getItemYValue: Config[\"getItemYValue\"] = (incomeItem) =>\n  incomeItem.getNormalizedValue()\nconst getItemId: Config[\"getItemId\"] = (incomeItem) =>\n  `${incomeItem.source}-${incomeItem.getId()}`\nconst getItemTitle: Config[\"getItemTitle\"] = (incomeItem: IncomeItem) =>\n  incomeItem.getSummary()\nconst chartTitle = \"Share of top decile [aka top 10%] in national income\"\nconst chartTitleShort = chartTitle.replace(\" [aka top 10%]\", \"\")\n\ntype IncomeResult = ConfigResult<IncomeItem>\n\nconst getIncomeConfig = async (): Promise<IncomeResult> => {\n  const dataPoints = await IncomeItem.fetchAndCreateCollection()\n\n  const config = {\n    getAreaPoints: () => dataPoints,\n    getChartTitle: () => chartTitle,\n    getChartTitleShort: () => chartTitleShort,\n    getItemId,\n    getItemTitle,\n    getItemXValue,\n    getItemYValue,\n    getPointClickHandler: () => null,\n    getRootElId: () => CONTAINER_ID,\n    getVerticalOffset: () => 0.05,\n    getXAxisFormat: () => format(\".0f\"),\n    getYAxisFormat: () => format(\".0%\"),\n  }\n\n  const onUpdateRandomValue = () => {\n    Array.from({ length: 50 }).forEach(() => {\n      const randomIndex = Math.floor(Math.random() * dataPoints.length)\n      const randomChange = Math.random() * 10 * (Math.random() > 0.5 ? 1 : -1)\n\n      dataPoints[randomIndex].changePercentage(randomChange)\n    })\n  }\n\n  return {\n    config,\n    onUpdateRandomValue,\n  }\n}\n\nexport { getIncomeConfig }\n","import { format, json } from \"d3\"\n\nimport { ChartConfig } from \"../chart/area-chart\"\nimport { ConfigResult, DataSource } from \"../config-types\"\nimport { CONTAINER_ID } from \"../ui-constants\"\n\ntype NobelPrizeResponse = {\n  laureates: Array<{\n    birth?: { date: string }\n    familyName: { en: string }\n    givenName: { en: string }\n    id: string\n    knownName: { en: string }\n    nobelPrizes?: Array<{ awardYear: string }>\n    wikipedia: { english: string }\n  }>\n  links: {\n    next: string\n  }\n}\ntype NobelPrizeItem = {\n  birthYear: number\n  id: number\n  link: string\n  name: string\n  prizeYear: number\n  source: DataSource.NOBEL_PRIZES\n}\n\ntype Config = ChartConfig<NobelPrizeItem>\n\nconst getItemXValue: Config[\"getItemXValue\"] = (laureate) => laureate.birthYear\nconst getItemYValue: Config[\"getItemYValue\"] = (laureate) => laureate.prizeYear\nconst getItemId: Config[\"getItemId\"] = (laureate) =>\n  `${laureate.source}-${laureate.id}`\n\nconst getItemTitle: Config[\"getItemTitle\"] = (laureate) =>\n  `${laureate.name}\\nBorn: ${laureate.birthYear}\\nAward: ${laureate.prizeYear}`\n\nconst chartTitleShort = \"Nobel Prizes (subset)\"\nconst chartTitle = `${chartTitleShort} year of birth (x) vs. year of award (y)`\n\nconst fetchSomeLaureates = async () => {\n  const initialData = (await json(\n    \"https://api.nobelprize.org/2.1/laureates?limit=100\"\n  )) as NobelPrizeResponse\n  const secondPage = (await json(initialData.links.next)) as NobelPrizeResponse\n\n  initialData.laureates.push(...secondPage.laureates)\n\n  return initialData\n}\n\ntype NobelPrizesResult = ConfigResult<NobelPrizeItem>\n\nconst pointClickHandler = (laureate: NobelPrizeItem) => {\n  if (!laureate.link) {\n    return\n  }\n\n  window.open(laureate.link, \"_blank\")\n}\n\nconst getNobelPrizesConfig = async (): Promise<NobelPrizesResult> => {\n  const initialData = await fetchSomeLaureates()\n\n  const birthYears = new Set<number>()\n\n  const dataPoints: NobelPrizeItem[] = initialData.laureates\n    .filter((laureate) => laureate.birth && laureate.nobelPrizes)\n    .map((laureate) => {\n      if (!laureate.nobelPrizes || !laureate.birth) {\n        return null\n      }\n\n      const birthYear = parseInt(laureate.birth.date.split(\"-\")[0], 10)\n\n      if (birthYears.has(birthYear)) {\n        return null\n      }\n\n      birthYears.add(birthYear)\n\n      const newItem: NobelPrizeItem = {\n        birthYear,\n        id: Number(laureate.id),\n        link: laureate.wikipedia.english || \"\",\n        name:\n          laureate.knownName.en ||\n          `${laureate.givenName.en} ${laureate.familyName.en}`,\n        prizeYear: Number(laureate.nobelPrizes[0].awardYear),\n        source: DataSource.NOBEL_PRIZES,\n      }\n\n      return newItem\n    })\n    .filter((laureate) => !!laureate) as NobelPrizeItem[]\n\n  dataPoints.sort(\n    (...[laureateA, laureateB]) => laureateA.birthYear - laureateB.birthYear\n  )\n\n  const config = {\n    getAreaPoints: () => dataPoints,\n    getChartTitle: () => chartTitle,\n    getChartTitleShort: () => chartTitleShort,\n    getItemId,\n    getItemTitle,\n    getItemXValue,\n    getItemYValue,\n    getPointClickHandler: () => pointClickHandler,\n    getRootElId: () => CONTAINER_ID,\n    getVerticalOffset: () => 15,\n    getXAxisFormat: () => format(\".0f\"),\n    getYAxisFormat: () => format(\".0f\"),\n  }\n\n  const onUpdateRandomValue = () => {\n    Array.from({ length: 50 }).forEach(() => {\n      const randomIndex = Math.floor(Math.random() * dataPoints.length)\n      const randomChange = Math.random() * 10 * (Math.random() > 0.5 ? 1 : -1)\n\n      dataPoints[randomIndex].prizeYear =\n        dataPoints[randomIndex].prizeYear + randomChange\n    })\n  }\n\n  return {\n    config,\n    onUpdateRandomValue,\n  }\n}\n\nexport { getNobelPrizesConfig, NobelPrizeItem }\n","import {\n  DATA_SOURCE_SELECT_ID,\n  TOGGLE_BUTTON_ID,\n  UPDATE_BUTTON_ID,\n} from \"./ui-constants\"\n\nconst setupChartControls = ({\n  onToggleVoronoiClick,\n  onUpdateRandomValue,\n  onUpdateSelect,\n  selectOptions,\n}: {\n  onToggleVoronoiClick: () => void\n  onUpdateRandomValue: () => void\n  onUpdateSelect: (newValue: string) => void\n  selectOptions: Array<{ inputValue: string; label: string }>\n}) => {\n  const dataSourceSelect = document.getElementById(\n    DATA_SOURCE_SELECT_ID\n  ) as HTMLSelectElement\n  const toggleButtonElement = document.getElementById(\n    TOGGLE_BUTTON_ID\n  ) as HTMLElement\n  const updateButtonElement = document.getElementById(\n    UPDATE_BUTTON_ID\n  ) as HTMLElement\n\n  selectOptions.forEach((...[selectOption, selectOptionIndex]) => {\n    const sourceOption = document.createElement(\"option\")\n\n    sourceOption.setAttribute(\"value\", selectOption.inputValue)\n\n    if (selectOptionIndex === 0) {\n      sourceOption.setAttribute(\"selected\", \"selected\")\n    }\n\n    sourceOption.innerHTML = selectOption.label\n\n    dataSourceSelect.appendChild(sourceOption)\n  })\n\n  dataSourceSelect.addEventListener(\"change\", () => {\n    onUpdateSelect(dataSourceSelect.value)\n  })\n\n  toggleButtonElement.addEventListener(\"click\", (clickEvent: MouseEvent) => {\n    clickEvent.preventDefault()\n\n    onToggleVoronoiClick()\n  })\n\n  updateButtonElement.addEventListener(\"click\", (clickEvent: MouseEvent) => {\n    clickEvent.preventDefault()\n\n    onUpdateRandomValue()\n  })\n}\n\nexport {\n  DATA_SOURCE_SELECT_ID,\n  TOGGLE_BUTTON_ID,\n  UPDATE_BUTTON_ID,\n  setupChartControls,\n}\n","// extracted by mini-css-extract-plugin\nexport var areaChart = \"area-chart-module--areaChart--8ccff\";\nexport var line = \"area-chart-module--line--571fe\";\nexport var area = \"area-chart-module--area--5af1c\";\nexport var axis = \"area-chart-module--axis--6cab9\";\nexport var chartTitle = \"area-chart-module--chartTitle--ca932\";\nexport var x = \"area-chart-module--x--5ced5\";\nexport var minor = \"area-chart-module--minor--8ab97\";\nexport var y = \"area-chart-module--y--c7cbb\";\nexport var voronoi = \"area-chart-module--voronoi--25398\";\nexport var showVoronoi = \"area-chart-module--showVoronoi--5bec7\";\nexport var point = \"area-chart-module--point--3acfa\";","import {\n  BaseType,\n  Selection,\n  color as colorD3,\n  scaleOrdinal,\n  schemePastel2,\n} from \"d3\"\nimport { Delaunay } from \"d3-delaunay\"\n\nimport { HAS_VORONOI_ATTR, VORONOI_ITEM } from \"../ui-constants\"\n\nimport * as styles from \"./area-chart.module.css\"\n\ntype RenderOpts<Point> = {\n  animationDuration: number\n  boundaries: [number, number, number, number]\n  className: string\n  clipPath: string\n  extractXScale: (point: Point) => number\n  extractYScale: (point: Point) => number\n  filter: string\n  getItemId: (point: Point) => string\n  getTitle: (point: Point) => string\n  mouseenter: (_: unknown, point: Point) => void\n  mouseleave: (_: unknown, point: Point) => void\n  points: Point[]\n}\n\nclass VoronoiGroup<Point> {\n  private readonly voronoiGroup: Selection<\n    SVGGElement,\n    unknown,\n    BaseType,\n    unknown\n  >\n\n  private readonly state = {\n    hasVoronoi: false,\n  }\n\n  public constructor(\n    parent: Selection<SVGGElement, unknown, HTMLElement, unknown>\n  ) {\n    this.voronoiGroup = parent.append(\"g\")\n  }\n\n  public toggleVoronoi() {\n    this.state.hasVoronoi = !this.state.hasVoronoi\n    this.setVoronoi()\n  }\n\n  public render({\n    animationDuration,\n    boundaries,\n    className,\n    clipPath,\n    extractXScale,\n    extractYScale,\n    filter,\n    getItemId,\n    getTitle,\n    mouseenter,\n    mouseleave,\n    points,\n  }: RenderOpts<Point>) {\n    const { voronoiGroup } = this\n    const voronoiData = voronoiGroup\n      .selectAll<SVGPathElement, Point>(\"path\")\n      .data(points, (point) => getItemId(point))\n\n    voronoiData.enter().append(\"path\")\n    voronoiData.exit().remove()\n\n    const colorScale = scaleOrdinal<string, string>(schemePastel2)\n\n    const voronoi = Delaunay.from(points, extractXScale, extractYScale).voronoi(\n      boundaries\n    )\n\n    voronoiGroup\n      .attr(\"clip-path\", clipPath)\n      .attr(\"class\", styles.voronoi)\n      .selectAll<SVGPathElement, Point>(\"path\")\n      .attr(\"fill\", (point) => {\n        const itemId = getItemId(point)\n        const colorHex = colorScale(itemId)\n        const itemColor = colorD3(colorHex)!\n\n        itemColor.opacity = 0.2\n\n        return itemColor.formatRgb()\n      })\n      .on(\"mouseenter\", mouseenter)\n      .on(\"mouseleave\", mouseleave)\n      .attr(\"class\", className)\n      .attr(VORONOI_ITEM, (...[, itemIndex]) => itemIndex)\n      .attr(\"title\", getTitle)\n      .style(\"filter\", filter)\n      .transition()\n      .duration(animationDuration)\n      .attr(\"d\", (...[, pointIndex]) => voronoi.renderCell(pointIndex))\n\n    this.setVoronoi()\n  }\n\n  private setVoronoi() {\n    const {\n      state: { hasVoronoi },\n      voronoiGroup,\n    } = this\n    const currentClass = voronoiGroup.attr(\"class\")\n    const { showVoronoi } = styles\n\n    const currentClassWithoutVoronoi = currentClass\n      .replace(showVoronoi, \"\")\n      .trim()\n\n    const newClass = hasVoronoi\n      ? `${currentClassWithoutVoronoi} ${showVoronoi}`\n      : currentClassWithoutVoronoi\n\n    voronoiGroup.attr(\"class\", newClass)\n\n    voronoiGroup.attr(HAS_VORONOI_ATTR, hasVoronoi)\n  }\n}\n\nexport { VoronoiGroup }\n","import {\n  BaseType,\n  Selection,\n  area as areaD3,\n  axisBottom,\n  axisLeft,\n  line as lineD3,\n  max,\n  min,\n  scaleLinear,\n  scaleQuantize,\n  select,\n} from \"d3\"\nimport $ from \"jquery\"\nimport \"jquery-ui/themes/base/all.css\"\nimport { v1 as uuidv1 } from \"uuid\"\n\nimport * as styles from \"./area-chart.module.css\"\nimport { VoronoiGroup } from \"./voronoi-group\"\n\nif (typeof window !== \"undefined\") {\n  require(\"jquery-ui/ui/widgets/tooltip\")\n}\n\nconst filterBlackOpacity = ({\n  deviation,\n  id,\n  slope,\n  svg,\n}: {\n  deviation: number\n  id: string\n  slope: number\n  svg: Selection<SVGGElement, unknown, HTMLElement, unknown>\n}) => {\n  const defs = svg.append(\"defs\")\n  const filter = defs\n    .append(\"filter\")\n    .attr(\"height\", \"500%\")\n    .attr(\"id\", `drop-shadow-${id}`)\n    .attr(\"width\", \"500%\")\n    .attr(\"x\", \"-200%\")\n    .attr(\"y\", \"-200%\")\n\n  filter\n    .append(\"feGaussianBlur\")\n    .attr(\"in\", \"SourceAlpha\")\n    .attr(\"stdDeviation\", deviation)\n\n  filter.append(\"feOffset\").attr(\"dx\", 1).attr(\"dy\", 1)\n  filter\n    .append(\"feComponentTransfer\")\n    .append(\"feFuncA\")\n    .attr(\"slope\", slope)\n    .attr(\"type\", \"linear\")\n\n  const feMerge = filter.append(\"feMerge\")\n\n  feMerge.append(\"feMergeNode\")\n\n  feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\")\n}\n\ntype ChartConfig<AreaPoint> = {\n  getAreaPoints: () => AreaPoint[]\n  getChartTitle: () => string\n  getChartTitleShort: () => string\n  getItemId: (areaPoint: AreaPoint) => string\n  getItemTitle: (areaPoint: AreaPoint) => string\n  getItemXValue: (areaPoint: AreaPoint) => number\n  getItemYValue: (areaPoint: AreaPoint) => number\n  getPointClickHandler: () => ((point: AreaPoint) => void) | null\n  getRootElId: () => string\n  getVerticalOffset: () => number // padding in the bottom and top of the chart, in Y's units\n  getXAxisFormat: () => (record: number | { valueOf: () => number }) => string\n  getYAxisFormat: () => (record: number | { valueOf: () => number }) => string\n}\n\ninterface BaseChart {\n  refresh: () => void\n  tearDown: () => void\n  toggleVoronoi: () => void\n}\n\ntype CommonSelection<El extends BaseType> = Selection<\n  El,\n  unknown,\n  HTMLElement,\n  unknown\n>\n\ntype ChartElements<AreaPoint> = Readonly<{\n  areaSel: CommonSelection<SVGPathElement>\n  backgroundBands: CommonSelection<SVGGElement>\n  chartTitleSel: CommonSelection<SVGTextElement>\n  clipRect: CommonSelection<SVGRectElement>\n  clipTopRect: CommonSelection<SVGRectElement>\n  lineSel: CommonSelection<SVGPathElement>\n  svg: CommonSelection<SVGSVGElement>\n  svgG: CommonSelection<SVGGElement>\n  voronoiGroup: VoronoiGroup<AreaPoint>\n  xAxisSel: CommonSelection<SVGGElement>\n  yAxisSel: CommonSelection<SVGGElement>\n}>\n\nclass AreaChart<AreaPoint> implements BaseChart {\n  private readonly config: ChartConfig<AreaPoint>\n  private readonly svgOpacityFilter: string\n  private readonly elements: ChartElements<AreaPoint>\n\n  private constructor(chartConfig: ChartConfig<AreaPoint>) {\n    this.config = chartConfig\n\n    const rootElId = chartConfig.getRootElId()\n\n    const svg = select(`#${rootElId}`).append(\"svg\")\n    const svgG = svg.append(\"g\").attr(\"class\", styles.areaChart)\n    const backgroundBands = svgG.append(\"g\")\n    const chartTitleSel = svgG\n      .append(\"text\")\n      .attr(\"class\", styles.chartTitle)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-weight\", \"bold\")\n    const xAxisSel = svgG.append(\"g\")\n    const yAxisSel = svgG.append(\"g\")\n    const lineSel = svgG.append(\"path\")\n    const areaSel = svgG.append(\"path\")\n    const voronoiGroup = new VoronoiGroup<AreaPoint>(svgG)\n    const clipRect = svgG.append(\"clipPath\").attr(\"id\", \"clip\").append(\"rect\")\n\n    // This is exclusively for clipping the vertical axis\n    const clipTopRect = svgG\n      .append(\"clipPath\")\n      .attr(\"id\", \"clip-top\")\n      .append(\"rect\")\n\n    this.svgOpacityFilter = `opacity-${uuidv1().slice(0, 6)}`\n\n    filterBlackOpacity({\n      deviation: 2,\n      id: this.svgOpacityFilter,\n      slope: 0.5,\n      svg: svgG,\n    })\n\n    this.elements = {\n      areaSel,\n      backgroundBands,\n      chartTitleSel,\n      clipRect,\n      clipTopRect,\n      lineSel,\n      svg,\n      svgG,\n      voronoiGroup,\n      xAxisSel,\n      yAxisSel,\n    }\n\n    this.render(true)\n\n    window.addEventListener(\"resize\", this.handleWindowResize)\n  }\n\n  public static renderChart<AreaPoint>(chartConfig: ChartConfig<AreaPoint>) {\n    return new AreaChart(chartConfig)\n  }\n\n  public refresh(cancelAnimation?: boolean) {\n    this.render(!!cancelAnimation)\n  }\n\n  public tearDown() {\n    window.removeEventListener(\"resize\", this.handleWindowResize)\n  }\n\n  public toggleVoronoi() {\n    this.elements.voronoiGroup.toggleVoronoi()\n  }\n\n  private render(cancelAnimation: boolean) {\n    const rootElId = this.config.getRootElId()\n    const { width } = (\n      document.getElementById(rootElId) as HTMLElement\n    ).getBoundingClientRect()\n    const isSmallDevice = width < 500\n    const animationDuration = cancelAnimation || isSmallDevice ? 0 : 1000\n\n    const margin = {\n      bottom: 50,\n      left: isSmallDevice ? 50 : 70,\n      right: isSmallDevice ? 10 : 50,\n      top: 50,\n    }\n\n    const innerWidth = width - margin.left - margin.right\n    const height = 400 - margin.top - margin.bottom\n\n    const { config: chartConfig } = this\n\n    const areaPoints = chartConfig.getAreaPoints()\n    const tooltipItemClass = `tooltip-item-${uuidv1().slice(0, 6)}`\n    const pointClassPrefix = `point-${uuidv1().slice(0, 6)}-`\n\n    const titleYOffset = -15\n    const axisTickSize = 10\n\n    const {\n      elements: {\n        areaSel,\n        backgroundBands,\n        chartTitleSel,\n        clipRect,\n        clipTopRect,\n        lineSel,\n        svg,\n        svgG,\n        voronoiGroup,\n        xAxisSel,\n        yAxisSel,\n      },\n    } = this\n\n    svg\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .attr(\"width\", innerWidth + margin.left + margin.right)\n\n    svgG.attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n    chartTitleSel\n      .attr(\n        \"transform\",\n        `translate(${width / 2 - margin.left},${titleYOffset})`\n      )\n      .text(() =>\n        isSmallDevice\n          ? chartConfig.getChartTitleShort()\n          : chartConfig.getChartTitle()\n      )\n\n    const xMax = max(areaPoints, chartConfig.getItemXValue) as number\n    const xMin = min(areaPoints, chartConfig.getItemXValue) as number\n\n    const yMax = max(areaPoints, chartConfig.getItemYValue) as number\n    const yMin = min(areaPoints, chartConfig.getItemYValue) as number\n\n    const xScale = scaleLinear().domain([xMin, xMax]).range([0, innerWidth])\n    const verticalOffset = chartConfig.getVerticalOffset()\n    const yScale = scaleLinear()\n      .domain([yMax + verticalOffset, yMin - verticalOffset])\n      .range([0, height])\n\n    const extractXScale = (areaPoint: AreaPoint) =>\n      xScale(chartConfig.getItemXValue(areaPoint))\n\n    const extractYScale = (areaPoint: AreaPoint) =>\n      yScale(chartConfig.getItemYValue(areaPoint))\n\n    const getSmallDeviceTicksScale = () =>\n      scaleQuantize()\n        .domain([0, 500])\n        .range(Array.from({ length: 6 }).map((...[, rangeIndex]) => rangeIndex))\n\n    const ticks = isSmallDevice ? getSmallDeviceTicksScale()(width) : null\n\n    const xAxisFormat = this.config.getXAxisFormat()\n    const yAxisFormat = this.config.getYAxisFormat()\n\n    const xAxis = axisBottom(xScale).tickFormat(xAxisFormat).ticks(ticks)\n    const yAxis = axisLeft(yScale)\n      .tickFormat(yAxisFormat)\n      .tickSize(axisTickSize)\n\n    xAxisSel\n      .attr(\"class\", `${styles.x} ${styles.axis}`)\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(xAxis)\n      .selectAll(\"text\")\n      .attr(\"dy\", \"1.25em\")\n\n    yAxisSel\n      .attr(\"class\", `${styles.y} ${styles.axis}`)\n      .attr(\"clip-path\", \"url(#clip-top)\")\n      .transition()\n      .duration(animationDuration)\n      .call(yAxis)\n      .selectAll(\"text\")\n      .attr(\"dx\", \"-.25em\")\n\n    const area = areaD3<AreaPoint>()\n      .x(extractXScale)\n      .y0(height)\n      .y1(extractYScale)\n    const line = lineD3<AreaPoint>().x(extractXScale).y(extractYScale)\n\n    lineSel\n      .datum(areaPoints)\n      .attr(\"clip-path\", \"url(#clip)\")\n      .attr(\"class\", styles.line)\n      .transition()\n      .duration(animationDuration)\n      .attr(\"d\", line)\n\n    clipRect.attr(\"height\", height).attr(\"width\", innerWidth)\n\n    clipTopRect\n      .attr(\"height\", height)\n      .attr(\"width\", innerWidth)\n      .attr(\"transform\", \"translate(-50,-5)\")\n\n    areaSel\n      .datum(areaPoints)\n      .attr(\"class\", styles.area)\n      .attr(\"clip-path\", \"url(#clip)\")\n      .transition()\n      .duration(animationDuration)\n      .attr(\"d\", area)\n\n    const mouseenter = (...[, areaPoint]: [unknown, AreaPoint]) => {\n      select(`.${pointClassPrefix}${chartConfig.getItemId(areaPoint)}`).style(\n        \"display\",\n        \"block\"\n      )\n    }\n\n    const mouseleave = (...[, areaPoint]: [unknown, AreaPoint]) => {\n      select(`.${pointClassPrefix}${chartConfig.getItemId(areaPoint)}`).style(\n        \"display\",\n        \"none\"\n      )\n    }\n\n    const bandsNumber = 10\n    const bandsData = Array.from({ length: bandsNumber }).map(\n      (...[, bandIndex]) => bandIndex\n    )\n    const bandHeight = height / bandsNumber\n\n    const bands = backgroundBands.selectAll(\"rect\").data(bandsData)\n\n    bands.enter().append(\"rect\")\n    bands.exit().remove()\n\n    backgroundBands\n      .selectAll<SVGRectElement, number>(\"rect\")\n      .attr(\"clip-path\", \"url(#clip)\")\n      .attr(\"x\", 0)\n      .attr(\"width\", innerWidth)\n      .attr(\"fill\", (...[, bandIndex]) =>\n        bandIndex % 2 ? \"#f7f7f7\" : \"#ffffff\"\n      )\n      .attr(\"class\", \"backgroundBands\")\n      .attr(\"height\", bandHeight)\n      .attr(\"y\", (band) => band * bandHeight)\n\n    const circleData = svgG.selectAll(\"circle\").data(areaPoints)\n\n    circleData.enter().append(\"circle\").attr(\"class\", styles.point)\n    circleData.exit().remove()\n\n    const clickHandler = this.config.getPointClickHandler()\n\n    svgG\n      .selectAll<SVGCircleElement, AreaPoint>(`.${styles.point}`)\n      .attr(\"r\", \"5px\")\n      .style(\"filter\", `url(#drop-shadow-${this.svgOpacityFilter})`)\n      .attr(\n        \"transform\",\n        (areaPoint: AreaPoint) =>\n          `translate(${extractXScale(areaPoint)},${extractYScale(areaPoint)})`\n      )\n      .attr(\"class\", (areaPoint) =>\n        [\n          styles.point,\n          tooltipItemClass,\n          pointClassPrefix + chartConfig.getItemId(areaPoint),\n        ].join(\" \")\n      )\n      .on(\"mouseenter\", mouseenter)\n      .on(\"mouseleave\", mouseleave)\n      .on(\"click\", (...[, point]) => {\n        clickHandler?.(point)\n      })\n      .style(\"cursor\", clickHandler ? \"pointer\" : \"default\")\n      .attr(\"title\", chartConfig.getItemTitle)\n\n    voronoiGroup.render({\n      animationDuration,\n      boundaries: [\n        -margin.left,\n        -margin.top,\n        innerWidth + margin.right,\n        height + margin.bottom,\n      ],\n      className: tooltipItemClass,\n      clipPath: \"url(#clip)\",\n      extractXScale,\n      extractYScale,\n      filter: `url(#drop-shadow-${this.svgOpacityFilter})`,\n      getItemId: chartConfig.getItemId,\n      getTitle: chartConfig.getItemTitle,\n      mouseenter,\n      mouseleave,\n      points: areaPoints,\n    })\n\n    $(`.${tooltipItemClass}`).tooltip({\n      track: true,\n    })\n  }\n\n  private readonly handleWindowResize = () => {\n    this.render(true)\n  }\n}\n\nexport { ChartConfig, AreaChart }\n","import { BehaviorSubject } from \"rxjs\"\n\nimport {\n  AppState,\n  DataSource,\n  GenericItem,\n  createChartConfig,\n  dataSourceToName,\n} from \"./area-config\"\nimport {\n  DATA_SOURCE_SELECT_ID,\n  TOGGLE_BUTTON_ID,\n  UPDATE_BUTTON_ID,\n  setupChartControls,\n} from \"./area-controls\"\nimport { AreaChart } from \"./chart/area-chart\"\nimport { CONTAINER_ID } from \"./ui-constants\"\n\nconst main = () => {\n  const appState: AppState = {\n    loaded: false,\n    source: DataSource.INCOME,\n  }\n\n  const state$ = new BehaviorSubject(appState)\n\n  const updateState = (newState: Partial<AppState>) => {\n    Object.assign(appState, newState)\n    state$.next(appState)\n  }\n\n  const renderChart = async () => {\n    const chartConfig = await createChartConfig({ appState, updateState })\n\n    updateState({\n      loaded: true,\n    })\n\n    const areaChart = AreaChart.renderChart<GenericItem>(chartConfig.config)\n\n    setupChartControls({\n      onToggleVoronoiClick: () => {\n        areaChart.toggleVoronoi()\n      },\n      onUpdateRandomValue: () => {\n        chartConfig.onUpdateRandomValue()\n\n        areaChart.refresh()\n      },\n      onUpdateSelect: (newDataSource: string) => {\n        chartConfig.updateSource(newDataSource as DataSource)\n\n        areaChart.refresh(true)\n      },\n      selectOptions: Object.values(DataSource).map((dataSource) => ({\n        inputValue: dataSource,\n        label: dataSourceToName[dataSource],\n      })),\n    })\n  }\n\n  renderChart().catch((error) => {\n    // eslint-disable-next-line no-console\n    console.error(error)\n  })\n\n  return { state$ }\n}\n\nexport {\n  CONTAINER_ID,\n  DATA_SOURCE_SELECT_ID,\n  TOGGLE_BUTTON_ID,\n  UPDATE_BUTTON_ID,\n}\n\nexport default main\n","import React, { useEffect, useRef, useState } from \"react\"\n\nimport { DemoPageProps } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main, {\n  CONTAINER_ID,\n  DATA_SOURCE_SELECT_ID,\n  TOGGLE_BUTTON_ID,\n  UPDATE_BUTTON_ID,\n} from \"@/demos/area/area\"\nimport * as styles from \"@/demos/area/area-page.module.css\"\n\nconst Area = ({ pageContext }: DemoPageProps) => {\n  const [loaded, setLoaded] = useState(false)\n  const stateSubscription = useRef<{\n    unsubscribe: () => void\n  }>()\n\n  useEffect(\n    () => () => {\n      stateSubscription.current?.unsubscribe()\n    },\n    []\n  )\n\n  const mainHandler = () => {\n    const { state$ } = main()\n\n    stateSubscription.current?.unsubscribe()\n    stateSubscription.current = state$.subscribe((state) => {\n      if (state.loaded) {\n        setLoaded(true)\n      }\n    })\n\n    return Promise.resolve()\n  }\n\n  const visibilityStyle = {\n    visibility: (loaded ? \"visible\" : \"hidden\") as VisibilityState,\n  }\n\n  return (\n    <Demo main={mainHandler} pageContext={pageContext}>\n      {!loaded && (\n        <div className={styles.loaderWrapper}>\n          <div className={styles.loader} />\n        </div>\n      )}\n      <form className={styles.form} style={visibilityStyle}>\n        <select className=\"form-select\" id={DATA_SOURCE_SELECT_ID} />\n        <button className=\"btn btn-info\" id={TOGGLE_BUTTON_ID} type=\"button\">\n          Toggle Voronoi\n        </button>\n        <button className=\"btn btn-success\" id={UPDATE_BUTTON_ID} type=\"button\">\n          Update Random Values\n        </button>\n      </form>\n      <div id={CONTAINER_ID} />\n    </Demo>\n  )\n}\n\nexport default Area\n","// extracted by mini-css-extract-plugin\nexport var form = \"area-page-module--form--1895c\";\nexport var loader = \"area-page-module--loader--3d671\";\nexport var load6 = \"area-page-module--load6--d277d\";\nexport var round = \"area-page-module--round--91980\";\nexport var loaderWrapper = \"area-page-module--loaderWrapper--9c6d1\";"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","byteToHex","i","push","toString","substr","_nodeId","_clockseq","arr","offset","arguments","length","undefined","toLowerCase","TypeError","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","_extendStatics","d","Object","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","__extends","String","__","this","constructor","create","__values","o","s","Symbol","iterator","m","next","value","done","__read","r","e","ar","error","__spreadArray","to","from","pack","l","slice","concat","isFunction","createErrorClass","createImpl","ctorFunc","instance","stack","UnsubscriptionError","_super","errors","message","map","err","join","name","arrRemove","item","index","indexOf","splice","Subscription","initialTeardown","closed","_parentage","_teardowns","empty","unsubscribe","e_1","_a","e_2","_b","isArray","_parentage_1","_parentage_1_1","remove","e_1_1","return","_teardowns_1","_teardowns_1_1","teardown_1","execTeardown","e_2_1","add","teardown","_hasParent","_addParent","parent","includes","_removeParent","EMPTY","EMPTY_SUBSCRIPTION","isSubscription","config","onUnhandledError","onStoppedNotification","Promise","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","setTimeout","_setTimeout","apply","args","_i","delegate","clearTimeout","_clearTimeout","_x","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","kind","context","errorContext","cb","isRoot","errorThrown","captureError","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","observerOrNext","context_1","wrapForErrorHandling","defaultErrorHandler","handler","notification","subscriber","observable","identity","x","pipeFromArray","fns","input","reduce","prev","fn","Observable","subscribe","_subscribe","lift","operator","source","isObserver","_trySubscribe","sink","forEach","promiseCtor","getPromiseCtor","resolve","reject","pipe","operations","toPromise","DataSource","ObjectUnsubscribedError","Subject","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","copy","copy_1","copy_1_1","shift","defineProperty","get","enumerable","configurable","_checkFinalizedStatuses","_innerSubscribe","asObservable","BehaviorSubject","_value","getValue","subscription","CONTAINER_ID","DATA_SOURCE_SELECT_ID","TOGGLE_BUTTON_ID","UPDATE_BUTTON_ID","IncomeItem","incomeItemData","INCOME","percentage","Number","fetchAndCreateCollection","csv","ROOT_PATH","response","incomeItemsData","point","pointIndex","percent","getYear","year","changePercentage","percentageChange","valueWithLowerBound","Math","max","newValue","min","getNormalizedValue","getId","getSummary","toFixed","getItemXValue","incomeItem","getItemYValue","getItemId","getItemTitle","chartTitle","chartTitleShort","replace","getIncomeConfig","dataPoints","getAreaPoints","getChartTitle","getChartTitleShort","getPointClickHandler","getRootElId","getVerticalOffset","getXAxisFormat","format","getYAxisFormat","onUpdateRandomValue","randomIndex","floor","randomChange","laureate","birthYear","prizeYear","id","fetchSomeLaureates","json","initialData","links","secondPage","laureates","pointClickHandler","link","window","open","getNobelPrizesConfig","birthYears","Set","filter","birth","nobelPrizes","parseInt","date","split","has","wikipedia","english","knownName","en","givenName","familyName","awardYear","NOBEL_PRIZES","sort","laureateA","laureateB","dataSourceToName","createChartConfig","appState","updateState","all","incomeResult","nobelPrizesResult","getResult","getConfig","nodeItem","updateSource","setupChartControls","onToggleVoronoiClick","onUpdateSelect","selectOptions","dataSourceSelect","document","getElementById","toggleButtonElement","updateButtonElement","selectOption","selectOptionIndex","sourceOption","createElement","setAttribute","inputValue","innerHTML","label","appendChild","addEventListener","clickEvent","preventDefault","axis","VoronoiGroup","state","hasVoronoi","voronoiGroup","append","toggleVoronoi","setVoronoi","render","animationDuration","boundaries","className","clipPath","extractXScale","extractYScale","getTitle","mouseenter","mouseleave","points","voronoiData","selectAll","data","enter","exit","colorScale","scaleOrdinal","schemePastel2","voronoi","Delaunay","attr","itemId","colorHex","itemColor","colorD3","opacity","formatRgb","on","itemIndex","style","transition","duration","renderCell","showVoronoi","currentClassWithoutVoronoi","trim","newClass","require","AreaChart","chartConfig","handleWindowResize","rootElId","svg","select","svgG","backgroundBands","chartTitleSel","xAxisSel","yAxisSel","lineSel","areaSel","clipRect","clipTopRect","svgOpacityFilter","uuidv1","deviation","slope","feMerge","filterBlackOpacity","elements","renderChart","refresh","cancelAnimation","tearDown","removeEventListener","width","getBoundingClientRect","isSmallDevice","margin","innerWidth","height","areaPoints","tooltipItemClass","pointClassPrefix","text","xMax","xMin","yMax","yMin","xScale","scaleLinear","domain","range","verticalOffset","yScale","areaPoint","ticks","scaleQuantize","rangeIndex","getSmallDeviceTicksScale","xAxisFormat","yAxisFormat","xAxis","axisBottom","tickFormat","yAxis","axisLeft","tickSize","styles","area","areaD3","y0","y1","line","lineD3","y","datum","bandsData","bandIndex","bandHeight","bands","band","circleData","clickHandler","$","tooltip","track","loaded","state$","newState","assign","areaChart","newDataSource","values","dataSource","catch","console","pageContext","useState","setLoaded","stateSubscription","useRef","useEffect","current","visibilityStyle","visibility","main","type"],"sourceRoot":""}