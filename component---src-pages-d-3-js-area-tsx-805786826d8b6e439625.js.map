{"version":3,"file":"component---src-pages-d-3-js-area-tsx-805786826d8b6e439625.js","mappings":"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","sources":["webpack://demos/./node_modules/uuid/dist/esm-browser/rng.js","webpack://demos/./node_modules/uuid/dist/esm-browser/regex.js","webpack://demos/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://demos/./node_modules/uuid/dist/esm-browser/validate.js","webpack://demos/./node_modules/uuid/dist/esm-browser/v1.js","webpack://demos/./src/common.ts","webpack://demos/./src/demos/area/area-chart.module.css","webpack://demos/./src/demos/area/area-chart.ts","webpack://demos/./src/demos/area/income-chart-config.ts","webpack://demos/./src/demos/area/income-chart-controls.ts","webpack://demos/./src/demos/area/income-item-model.ts","webpack://demos/./src/demos/area/area.ts","webpack://demos/./src/pages/d3js/area.tsx"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","type DocName = string\ntype DocLink = string\n\nexport type Meta = {\n  description: string\n}\n\nexport type DemoBase = {\n  dataFiles: string[]\n  docs: Array<[DocName, DocLink]>\n  isCompleted: boolean\n  name: string\n  notes: string[]\n  sources: string[]\n  summary: string[]\n}\n\ntype DemoFile = {\n  content: string\n  fileName: string\n}\n\nexport type DemoInfo = DemoBase & {\n  category: string\n  files: {\n    demoCSS: DemoFile[]\n    demoTS: DemoFile[]\n    page: {\n      content: string\n      type: string\n    }\n  }\n  key: string\n}\n\nexport type DemoSummary = {\n  category: string\n  key: string\n  name: DemoBase[\"name\"]\n  route: string\n}\n\nexport type IndexPageProps = {\n  pageContext: {\n    groupedDemos: DemoSummary[][]\n    meta: Meta\n    numberPerGroup: number\n  }\n}\n\nexport type DemoPageProps = {\n  pageContext: {\n    demoInfo: DemoInfo\n    meta: Meta\n  }\n}\n\nexport const STORYBOOK_DEMO_KEY = \"storybook\"\n\nexport const JQUERYUI = {\n  SCRIPT: \"/vendors/jquery-ui/jquery-ui.min.js\",\n  STYLE: \"/vendors/jquery-ui/themes/base/jquery-ui.min.css\",\n}\n","// extracted by mini-css-extract-plugin\nexport var areaChart = \"area-chart-module--areaChart--Ked6_\";\nexport var line = \"area-chart-module--line--1O1QS\";\nexport var area = \"area-chart-module--area--ul7t6\";\nexport var axis = \"area-chart-module--axis--2jpe6\";\nexport var chartTitle = \"area-chart-module--chartTitle--3_EHS\";\nexport var x = \"area-chart-module--x--1LLGJ\";\nexport var minor = \"area-chart-module--minor--1GaRb\";\nexport var y = \"area-chart-module--y--1GhEy\";\nexport var voronoi = \"area-chart-module--voronoi--3QRtu\";\nexport var showVoronoi = \"area-chart-module--showVoronoi--3rQXC\";\nexport var point = \"area-chart-module--point--3nljr\";","import {\n  Selection,\n  area as areaD3,\n  axisBottom,\n  axisLeft,\n  format,\n  line as lineD3,\n  max,\n  min,\n  scaleLinear,\n  scaleQuantize,\n  select,\n} from \"d3\"\nimport { Delaunay } from \"d3-delaunay\"\nimport { v1 as uuidv1 } from \"uuid\"\n\nimport * as styles from \"./area-chart.module.css\"\n\nconst filterBlackOpacity = ({\n  deviation,\n  id,\n  slope,\n  svg,\n}: {\n  deviation: number\n  id: string\n  slope: number\n  svg: Selection<SVGGElement, unknown, HTMLElement, unknown>\n}) => {\n  const defs = svg.append(\"defs\")\n  const filter = defs\n    .append(\"filter\")\n    .attr(\"height\", \"500%\")\n    .attr(\"id\", `drop-shadow-${id}`)\n    .attr(\"width\", \"500%\")\n    .attr(\"x\", \"-200%\")\n    .attr(\"y\", \"-200%\")\n\n  filter\n    .append(\"feGaussianBlur\")\n    .attr(\"in\", \"SourceAlpha\")\n    .attr(\"stdDeviation\", deviation)\n\n  filter.append(\"feOffset\").attr(\"dx\", 1).attr(\"dy\", 1)\n  filter\n    .append(\"feComponentTransfer\")\n    .append(\"feFuncA\")\n    .attr(\"slope\", slope)\n    .attr(\"type\", \"linear\")\n\n  const feMerge = filter.append(\"feMerge\")\n\n  feMerge.append(\"feMergeNode\")\n\n  feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\")\n}\n\nexport type ChartConfig<AreaPoint> = {\n  areaPoints: AreaPoint[]\n  chartTitle: string\n  getItemId: (areaPoint: AreaPoint) => number\n  getItemTitle: (areaPoint: AreaPoint) => string\n  getItemXValue: (areaPoint: AreaPoint) => number\n  getItemYValue: (areaPoint: AreaPoint) => number\n  rootElId: string\n}\n\ntype ChartReturn = {\n  toggleVoronoi: () => void\n}\n\nexport const renderChart = <AreaPoint>(\n  chartConfig: ChartConfig<AreaPoint>\n): ChartReturn => {\n  const { areaPoints, rootElId } = chartConfig\n  const { width: elWidth } = (\n    document.getElementById(rootElId) as HTMLElement\n  ).getBoundingClientRect()\n  const isSmallDevice = elWidth < 500\n\n  const voronoiGroupClass = `voronoi-group-${uuidv1().slice(0, 6)}`\n  const pointClassPrefix = `point-${uuidv1().slice(0, 6)}-`\n\n  const margin = {\n    bottom: 50,\n    left: isSmallDevice ? 50 : 70,\n    right: isSmallDevice ? 10 : 50,\n    top: 50,\n  }\n\n  const height = 400 - margin.top - margin.bottom\n  const titleYOffset = -15\n  const axisTickSize = 10\n\n  const width = elWidth - margin.left - margin.right\n\n  const svg = select(`#${rootElId}`)\n    .append(\"svg\")\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .attr(\"width\", width + margin.left + margin.right)\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n    .attr(\"class\", styles.areaChart)\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", styles.chartTitle)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"transform\", `translate(${width / 2},${titleYOffset})`)\n    .text(chartConfig.chartTitle)\n    .style(\"font-weight\", \"bold\")\n\n  filterBlackOpacity({\n    deviation: 2,\n    id: \"points\",\n    slope: 0.5,\n    svg,\n  })\n\n  const xMax = max(areaPoints, chartConfig.getItemXValue) as number\n  const xMin = min(areaPoints, chartConfig.getItemXValue) as number\n\n  const yMax = max(areaPoints, chartConfig.getItemYValue) as number\n  const yMin = min(areaPoints, chartConfig.getItemYValue) as number\n\n  const xScale = scaleLinear().domain([xMin, xMax]).range([0, width])\n  const yScale = scaleLinear()\n    .domain([yMax + 0.05, yMin - 0.05])\n    .range([0, height])\n\n  const extractXScale = (areaPoint: AreaPoint) =>\n    xScale(chartConfig.getItemXValue(areaPoint))\n  const extractYScale = (areaPoint: AreaPoint) =>\n    yScale(chartConfig.getItemYValue(areaPoint))\n\n  const getSmallDeviceTicksScale = () =>\n    scaleQuantize()\n      .domain([0, 500])\n      .range(Array.from({ length: 6 }).map((...[, rangeIndex]) => rangeIndex))\n\n  const ticks = isSmallDevice ? getSmallDeviceTicksScale()(elWidth) : null\n\n  const xAxis = axisBottom(xScale).tickFormat(format(\".0f\")).ticks(ticks)\n  const yAxis = axisLeft(yScale)\n    .tickFormat(format(\".0%\"))\n    .tickSize(axisTickSize)\n\n  svg\n    .append(\"g\")\n    .attr(\"class\", `${styles.x} ${styles.axis}`)\n    .attr(\"transform\", `translate(0,${height})`)\n    .call(xAxis)\n    .selectAll(\"text\")\n    .attr(\"dy\", \"1.25em\")\n\n  svg\n    .append(\"g\")\n    .attr(\"class\", `${styles.y} ${styles.axis}`)\n    .call(yAxis)\n    .selectAll(\"text\")\n    .attr(\"dx\", \"-.25em\")\n\n  const area = areaD3<AreaPoint>().x(extractXScale).y0(height).y1(extractYScale)\n  const line = lineD3<AreaPoint>().x(extractXScale).y(extractYScale)\n\n  svg\n    .append(\"path\")\n    .datum(areaPoints)\n    .attr(\"class\", styles.line)\n    .attr(\"d\", line)\n    .attr(\"clip-path\", \"url(#clip)\")\n\n  svg\n    .append(\"clipPath\")\n    .attr(\"id\", \"clip\")\n    .append(\"rect\")\n    .attr(\"height\", height)\n    .attr(\"width\", width)\n\n  svg\n    .append(\"path\")\n    .datum(areaPoints)\n    .attr(\"class\", styles.area)\n    .attr(\"d\", area)\n    .attr(\"clip-path\", \"url(#clip)\")\n\n  const voronoi = Delaunay.from(\n    areaPoints,\n    extractXScale,\n    extractYScale\n  ).voronoi([\n    -margin.left,\n    -margin.top,\n    width + margin.right,\n    height + margin.bottom,\n  ])\n\n  const mouseover = (...[, areaPoint]: [unknown, AreaPoint]) => {\n    select(`.${pointClassPrefix}${chartConfig.getItemId(areaPoint)}`).style(\n      \"display\",\n      \"block\"\n    )\n  }\n\n  const mouseleave = (...[, areaPoint]: [unknown, AreaPoint]) => {\n    select(`.${pointClassPrefix}${chartConfig.getItemId(areaPoint)}`).style(\n      \"display\",\n      \"none\"\n    )\n  }\n\n  svg\n    .selectAll(\"circle\")\n    .data(areaPoints)\n    .enter()\n    .append(\"circle\")\n    .attr(\n      \"transform\",\n      (areaPoint: AreaPoint) =>\n        `translate(${extractXScale(areaPoint)},${extractYScale(areaPoint)})`\n    )\n    .attr(\"r\", \"5px\")\n    .attr(\n      \"class\",\n      (areaPoint) =>\n        `${styles.point} ${pointClassPrefix}${chartConfig.getItemId(areaPoint)}`\n    )\n    .style(\"filter\", \"url(#drop-shadow-points)\")\n\n  const voronoiGroup = svg.append(\"g\").attr(\"class\", styles.voronoi)\n\n  voronoiGroup\n    .selectAll(\"path\")\n    .data(areaPoints)\n    .enter()\n    .append(\"path\")\n    .attr(\"d\", (areaPoint) =>\n      voronoi.renderCell(chartConfig.getItemId(areaPoint))\n    )\n    .on(\"mouseover\", mouseover)\n    .on(\"mouseleave\", mouseleave)\n    .attr(\"class\", voronoiGroupClass)\n    .attr(\"title\", chartConfig.getItemTitle)\n\n  $(`.${voronoiGroupClass}`).tooltip({\n    track: true,\n  })\n\n  return {\n    toggleVoronoi: () => {\n      const currentClass = voronoiGroup.attr(\"class\")\n      const { showVoronoi } = styles\n\n      const newClass = currentClass.includes(showVoronoi)\n        ? currentClass.replace(showVoronoi, \"\").trim()\n        : `${currentClass} ${showVoronoi}`\n\n      voronoiGroup.attr(\"class\", newClass)\n    },\n  }\n}\n","import { ChartConfig } from \"./area-chart\"\nimport { IncomeItem } from \"./income-item-model\"\n\nexport const CONTAINER_ID = \"chart\"\n\ntype Config = ChartConfig<IncomeItem>\n\nconst getItemXValue: Config[\"getItemXValue\"] = (incomeItem) =>\n  incomeItem.getYear()\nconst getItemYValue: Config[\"getItemYValue\"] = (incomeItem) =>\n  incomeItem.getNormalizedValue()\nconst getItemId: Config[\"getItemId\"] = (incomeItem) => incomeItem.getId()\nconst getItemTitle: Config[\"getItemTitle\"] = (incomeItem: IncomeItem) =>\n  incomeItem.getSummary()\nconst chartTitle = \"Share of top decile [aka top 10%] in national income\"\n\nexport const createChartConfig = (\n  dataPoints: IncomeItem[]\n): ChartConfig<IncomeItem> => ({\n  areaPoints: dataPoints,\n  chartTitle,\n  getItemId,\n  getItemTitle,\n  getItemXValue,\n  getItemYValue,\n  rootElId: CONTAINER_ID,\n})\n","export const BUTTON_ID = \"toggle-voronoi\"\n\nexport const setupChartControls = (onToggleVoronoiClick: () => void) => {\n  const buttonElement = document.getElementById(\"toggle-voronoi\") as HTMLElement\n\n  buttonElement.addEventListener(\"click\", (clickEvent: MouseEvent) => {\n    clickEvent.preventDefault()\n\n    onToggleVoronoiClick()\n  })\n}\n","import { csv } from \"d3\"\n\ntype IncomeItemBase = {\n  percent: number\n  year: number\n}\n\ntype IncomeItemData = IncomeItemBase & {\n  pointIndex: number\n}\n\nclass IncomeItem {\n  private readonly incomeItemData: IncomeItemData\n\n  private constructor(incomeItemData: IncomeItemData) {\n    this.incomeItemData = incomeItemData\n  }\n\n  public static async fetchAndCreateCollection(): Promise<IncomeItem[]> {\n    const response = (await (csv(\n      `${ROOT_PATH}data/d3js/area/data.csv`\n    ) as unknown)) as IncomeItemBase[]\n\n    const incomeItemsData = response.map((...[point, pointIndex]) => ({\n      ...point,\n      pointIndex,\n    }))\n\n    return incomeItemsData.map(\n      (incomeItemData) => new IncomeItem(incomeItemData)\n    )\n  }\n\n  public getYear() {\n    return this.incomeItemData.year\n  }\n\n  public getNormalizedValue() {\n    return this.incomeItemData.percent / 100\n  }\n\n  public getId() {\n    return this.incomeItemData.pointIndex\n  }\n\n  public getSummary(): string {\n    const { incomeItemData } = this\n\n    return `Year: ${incomeItemData.year}, Percent: ${incomeItemData.percent}%`\n  }\n}\n\nexport { IncomeItem }\n","import { renderChart } from \"./area-chart\"\nimport { CONTAINER_ID, createChartConfig } from \"./income-chart-config\"\nimport { setupChartControls } from \"./income-chart-controls\"\nimport { IncomeItem } from \"./income-item-model\"\n\nconst main = async () => {\n  const dataPoints = await IncomeItem.fetchAndCreateCollection()\n  const chartConfig = createChartConfig(dataPoints)\n\n  const { toggleVoronoi } = renderChart<IncomeItem>(chartConfig)\n\n  setupChartControls(toggleVoronoi)\n}\n\nexport { CONTAINER_ID }\n\nexport default main\n","import React from \"react\"\n\nimport { DemoPageProps, JQUERYUI } from \"@/common\"\n\nimport Demo from \"@/components/demo\"\n\nimport main, { CONTAINER_ID } from \"@/demos/area/area\"\nimport { BUTTON_ID } from \"@/demos/area/income-chart-controls\"\n\nconst Area = ({ pageContext }: DemoPageProps) => (\n  <Demo\n    links={[JQUERYUI.STYLE]}\n    main={main}\n    pageContext={pageContext}\n    scripts={[JQUERYUI.SCRIPT]}\n  >\n    <form>\n      <button className=\"btn btn-info\" id={BUTTON_ID} type=\"button\">\n        Toggle Voronoi\n      </button>\n    </form>\n    <div id={CONTAINER_ID} />\n  </Demo>\n)\n\nexport default Area\n"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","byteToHex","i","push","toString","substr","_nodeId","_clockseq","arr","offset","arguments","length","undefined","toLowerCase","TypeError","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","STORYBOOK_DEMO_KEY","JQUERYUI","SCRIPT","STYLE","axis","renderChart","chartConfig","areaPoints","rootElId","elWidth","document","getElementById","getBoundingClientRect","width","isSmallDevice","voronoiGroupClass","uuidv1","slice","pointClassPrefix","margin","height","svg","select","append","attr","text","chartTitle","style","deviation","id","slope","filter","feMerge","filterBlackOpacity","xMax","max","getItemXValue","xMin","min","yMax","getItemYValue","yMin","xScale","scaleLinear","domain","range","yScale","extractXScale","areaPoint","extractYScale","ticks","scaleQuantize","from","map","rangeIndex","getSmallDeviceTicksScale","xAxis","axisBottom","tickFormat","format","yAxis","axisLeft","tickSize","styles","call","selectAll","area","areaD3","x","y0","y1","line","lineD3","y","datum","voronoi","Delaunay","data","enter","getItemId","voronoiGroup","renderCell","on","getItemTitle","$","tooltip","track","toggleVoronoi","currentClass","showVoronoi","newClass","includes","replace","trim","CONTAINER_ID","incomeItem","getYear","getNormalizedValue","getId","getSummary","createChartConfig","dataPoints","setupChartControls","onToggleVoronoiClick","addEventListener","clickEvent","preventDefault","IncomeItem","incomeItemData","this","fetchAndCreateCollection","csv","ROOT_PATH","response","incomeItemsData","point","pointIndex","year","percent","main","pageContext","links","scripts","className","type"],"sourceRoot":""}