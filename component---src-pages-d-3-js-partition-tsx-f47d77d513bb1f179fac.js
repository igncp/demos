(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[505],{1745:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7294),a=n(5414),l=n(2552),o=function(e){var t,n=e.isCompleted,a=e.mainSource,o=e.name;return r.createElement("h2",{className:"row",id:l.dc},r.createElement("span",{className:"col-xs-12 col-sm-10 p-0"},r.createElement("span",{className:l.jS},o," Chart "),r.createElement("small",{id:l.l4,title:"Main Source"},r.createElement("a",{href:a},"···")),!n&&r.createElement("small",{id:l.oT,title:"This demo is still work in progress"},"WIP")),r.createElement("span",Object.assign({className:"col-sm-2 p-0 d-xs-none "+l.eR},((t={})["data-back-home"]="",t)),r.createElement("a",{className:"btn btn-info",href:"/demos/",role:"button"},r.createElement("span",{className:"glyphicon glyphicon-home"})," Home")))},s=function(e){return"src/demos/"+e+"/tests/"+e+".e2e.ts"},i=function(){var e=(0,r.useState)(null),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e="undefined"==typeof window?null:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth);null!==e&&n(e)}),[]),t},c=function(e){var t=e.content,n=(0,r.useState)(!1),a=n[0],o=n[1],s=i();return null===s?null:!s||s<1280&&!a?r.createElement("div",{className:l.wI},r.createElement("button",{className:l.W2+" btn btn-light",onClick:function(){return o(!0)},type:"button"},"Show Code")):r.createElement("pre",null,r.createElement("code",{dangerouslySetInnerHTML:{__html:t}}))},u=function(e){var t=e.filePath;return r.createElement(r.Fragment,null,r.createElement("span",null,"| "),r.createElement("a",{href:"https://github.com/igncp/demos/blob/main/"+t,rel:"noreferrer",target:"_blank"},"Code in Github"))},m=function(e){var t=e.filePath;return r.createElement(r.Fragment,null,r.createElement("span",null,"| "),r.createElement("a",{href:"https://igncp.github.io/demos/coverage-ts/files/"+t+".html",rel:"noreferrer",target:"_blank"},"TypeScript coverage report"))},d=function(e){var t=e.demoInfo;if("undefined"==typeof window)return null;var n="pages/"+t.category+"/"+t.key+"."+t.files.page.type;return r.createElement("div",null,!!t.notes.length&&r.createElement("div",{className:"bs-callout bs-callout-info"+l.$c},r.createElement("p",null,r.createElement("strong",null,"Notes:")),r.createElement("ul",null,t.notes.map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],l=t[1];return r.createElement("li",{dangerouslySetInnerHTML:{__html:a},key:l})})))),!!t.summary.length&&r.createElement("div",{className:"bs-callout bs-callout-summary "+l.$c},r.createElement("p",null,r.createElement("strong",null,"Implementation Summary:")),r.createElement("ul",null,t.summary.map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],l=t[1];return r.createElement("p",{dangerouslySetInnerHTML:{__html:a},key:l})})))),r.createElement("div",{className:"bs-callout bs-callout-primary",id:l.V2},r.createElement("p",null,r.createElement("strong",null,"Sources:")),r.createElement("ul",null,t.sources.map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],o=t[1];return r.createElement("li",{key:o},r.createElement("span",{className:l.hB},"[",o+1,"]"),":"," ",r.createElement("a",{href:a},a))})))),!!t.docs.length&&r.createElement("div",{className:"bs-callout bs-callout-secondary",id:"docs"},r.createElement("p",null,r.createElement("strong",null,"Docs:")),r.createElement("div",{className:l.Jw},t.docs.map((function(e){return r.createElement("span",{className:l._q,key:e[1]},r.createElement("a",{href:e[1],rel:"noreferrer",target:"_blank"},e[0]))})))),!!t.dataFiles.length&&r.createElement("div",{className:"bs-callout bs-callout-warning",id:l.sD},r.createElement("p",null,r.createElement("strong",null,"Data files: "),t.dataFiles.map((function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var l=n[0],o=n[1];return r.createElement("a",{href:"/demos/data/"+t.category+"/"+t.key+"/"+l,key:o},l)})))),r.createElement("div",{className:"bs-callout bs-callout-success",id:"code"},r.createElement("p",null,r.createElement("strong",null,"Code:")),r.createElement("ul",null,t.files.demoTS.map((function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=n[0],i=o.content,d=o.filePath,f=n[1];return r.createElement("li",{key:d},r.createElement("p",null,r.createElement("span",{className:l.s2},d)," ",r.createElement(u,{filePath:d})," ",r.createElement(m,{filePath:d}),0===f&&r.createElement(r.Fragment,null,r.createElement("span",null," | "),r.createElement("a",{href:"https://github.com/igncp/demos/blob/main/"+s(t.key),rel:"noreferrer",target:"_blank"},"E2E tests"))),r.createElement(c,{content:i}),r.createElement("div",{className:l.XP}))})),r.createElement("li",null,r.createElement("p",null,r.createElement("span",{className:l.s2},n)," ",r.createElement(u,{filePath:n})," ",r.createElement(m,{filePath:n})),r.createElement(c,{content:t.files.page.content}),!!t.files.demoCSS.length&&r.createElement("div",{className:l.XP})),t.files.demoCSS.map((function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=n[0],s=o.content,i=o.filePath,m=n[1];return r.createElement("li",{key:i},r.createElement("p",null,r.createElement("span",{className:l.s2},i)," ",r.createElement(u,{filePath:i})),r.createElement(c,{content:s}),m!==t.files.demoCSS.length-1&&r.createElement("div",{className:l.XP}))})))))},f=n(2504),h=function(e){return"/"===e[0]?"/demos/"+e.replace(/^\//,""):e},p=function(e){var t=e.main,n=e.children,l=e.scripts,s=void 0===l?[]:l,i=e.links,c=void 0===i?[]:i,u=e.pageContext,m=u.demoInfo,p=u.meta,g=m.isCompleted,y=m.name,v=m.sources;return(0,r.useEffect)((function(){"undefined"!=typeof window&&t().catch((function(e){console.error("error:",e)}))}),[]),r.createElement(f.Z,null,r.createElement(a.q,{link:c.map((function(e){return{href:h(e),rel:"stylesheet",type:"text/css"}})),meta:[{content:p.description,name:"description"}],script:s.map((function(e){return{src:h(e),type:"text/javascript"}})),title:m.name+" | Demos igncp"}),r.createElement(o,{isCompleted:g,mainSource:v[0],name:y}),n,r.createElement(d,{demoInfo:m}))}},2504:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7294),a=n(2552),l=function(){return r.createElement("footer",{className:a.Mv},r.createElement("p",null,(new Date).getFullYear()))},o=function(){return r.createElement("div",{className:a.H6},r.createElement("h1",{className:"row"},r.createElement("span",{className:"col-3 col-md-8 p-0"},r.createElement("a",{href:"/demos/"},"Demos")," ",r.createElement("small",{className:"hide-tablet"},"interactive data visualization examples")),r.createElement("span",{className:"col-9 col-md-4 p-0",id:a.ak},r.createElement("iframe",{className:"hide-mobile",frameBorder:"0",height:"20",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=follow",width:"119"}),r.createElement("iframe",{className:"hide-mobile",frameBorder:"0",height:"20",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=fork",width:"62"}),r.createElement("iframe",{frameBorder:"0",height:"20",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=watch",width:"52"}))))},s=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement("div",{className:a.Mg},r.createElement("div",{className:"px-3 px-sm-5"},r.createElement(o,null),t)),r.createElement(l,null))}},9945:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r,a=n(7294),l=n(1745),o=n(8634),s=n(2656),i=n.n(s),c=n(5221),u="chart",m="type-form",d=2e3;!function(e){e.Count="count",e.Size="size"}(r||(r={}));var f=c.sfe,h=function(e){return{depth:e.depth,x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}},p=function(e){var t=e.fn,n=e.initialData;return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var l=r[0],o=r[1],s=n[o],i=(0,c.sXR)(h(s),h(l));return function(e){var n=i(e);return t(n)}}},g=function(){function e(e){var t=this;this.handleResize=function(){t.render()},this.config=e;var n=e.partitionType,r=e.rootElId,a=(0,c.Ys)("#"+r).append("svg").text(""),l=a.append("g"),o=l.append("g");this.state={descendants:[],drag:{x:0,y:0},partitionType:n},this.state.descendants=this.getDataHierarchy(),this.elements={svg:a,svgDrag:l,svgG:o},this.setupDrag(),window.addEventListener("resize",this.handleResize)}var t=e.prototype;return t.updatePartition=function(e){this.state.partitionType=e;var t=this.getDataHierarchy();this.state.descendants=t,this.renderDescendants()},t.render=function(){var e=this.getDimensions().width,t=this.elements,n=t.svg,r=t.svgG;n.attr("width",e).attr("height",700),r.attr("transform","translate("+e/2+",364)"),this.renderDescendants()},t.getDimensions=function(){var e=this.config.rootElId,t=document.getElementById(e).getBoundingClientRect().width,n=Math.max(t,700);return{chartWidth:n,radius:Math.min(n,700)/2,width:t}},t.getDataHierarchy=function(){var e=this.config,t=e.getNodeSize,n=e.rootData,r=this.state.partitionType,a=this.getDimensions().radius,l=(0,c.bT9)(n).sum((function(e){var n;return null!==(n=t(e))&&void 0!==n?n:0})),o=(0,c.bT9)(n).sum((function(){return 1}));return(0,c.uKc)().size([2*Math.PI,a])("size"===r?l:o).descendants()},t.setupDrag=function(){var e=this,t=this.elements,n=t.svg,r=t.svgDrag,a=function(t){e.state.drag.x+=t.dx,e.state.drag.y+=t.dy,r.attr("transform","translate("+e.state.drag.x+","+e.state.drag.y+")")},l=(0,c.ohM)().on("drag",a);n.style("cursor","move").call(l).on("drag",a).on("wheel",null)},t.renderDescendants=function(){var e=this.config,t=e.getNodeLabel,n=e.getNodeTitle,r=this.elements.svgG,a=this.state.descendants,l=(0,c.PKp)(c.i4X),o=function(e){return e.children?l(t(e.data)):l(t(e.parent.data))},s=(0,c.Nb1)().startAngle((function(e){return e.x0})).endAngle((function(e){return e.x1})).innerRadius((function(e){return e.y0})).outerRadius((function(e){return e.y1})).padAngle(.01),i=function(e){if(!e.depth)return"";var t,n=s.centroid(Object.assign({},e,{x0:e.x0+.05*(e.x0>Math.PI?-1:1)}));return["rotate("+((t=90+180*(e.x0+(e.x1-e.x0)/2)/Math.PI)>90&&t<270?t-180:t)+","+n[0]+","+n[1]+")","translate("+n[0]+","+n[1]+")"].join(" ")},u=r.selectAll("path"),m=u.data(),h=u.data(a);h.exit().remove();var g=h.enter().append("path").attr("display",(function(e){return e.depth?null:"none"})).attr("data-index",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return r})).style("stroke","#000").style("stroke-width","0.5px").style("stroke-dasharray","1,3").style("fill",o).attr("d",s);h.transition().duration(d).ease(f).attrTween("d",p({fn:s,initialData:m}));var y=r.selectAll("text"),v=y.data(),E=y.data(a);E.exit().remove();var b=function(e){return Math.abs(e.x0-e.x1)*e.y1<25||Math.abs((e.x0+e.x1)/2-Math.PI)<.2?0:1},x=E.enter().append("text").style("fill","#333").style("cursor","default").style("font","bold 12px Arial").attr("text-anchor","middle").text((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],l=n[1];if(0===l)return"";var o=t(a.data),s=9;return o.length>s?o.slice(0,s)+"...":o})).attr("data-index",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return r})).attr("transform",i).style("opacity",b);E.transition("movement").duration(d).ease(f).attrTween("transform",p({fn:i,initialData:v})),r.selectAll("text").transition("opacity").duration(d).ease(c.Nyw).style("opacity",b),[g,x].forEach((function(e){e.on("mouseover",(function(){var e=(0,c.Ys)(this).attr("data-index");(0,c.Ys)('path[data-index="'+e+'"]').style("fill","#de7c03"),(0,c.Ys)('text[data-index="'+e+'"]').style("fill","white")})),e.on("mouseout",(function(){var e=(0,c.Ys)(this).attr("data-index");(0,c.Ys)('path[data-index="'+e+'"]').style("fill",o),(0,c.Ys)('text[data-index="'+e+'"]').style("fill","#000")})),e.append("title").text((function(e){return n({nodeData:e.data,valueNum:e.value})}))}))},e}(),y=function(e){return e.size},v=function(e){return e.name},E=function(e){var t=e.nodeData,n=e.valueNum;return t.name+"\n"+n},b=function(e){var t=e.partitionType,n=e.rootData;return{getNodeLabel:v,getNodeSize:y,getNodeTitle:E,partitionType:t,rootData:n,rootElId:u}},x=function(){var e=(0,o.Z)(i().mark((function e(){var t,n,r,a,l,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.AVB)("/demos/data/d3js/partition/flare.json");case 2:t=e.sent,n=document.getElementById(m),a=(r=function(){return Array.from(n.elements).find((function(e){return e.checked})).value})(),l=b({partitionType:a,rootData:t}),(o=new g(l)).render(),n.addEventListener("change",(function(){var e=r();o.updatePartition(e)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=x,N=function(e){var t=e.pageContext;return a.createElement(l.Z,{main:w,pageContext:t},a.createElement("form",{id:m,style:{marginBottom:20}},a.createElement("label",null,a.createElement("input",{name:"mode",type:"radio",value:"size"})," Size"),a.createElement("label",null,a.createElement("input",{defaultChecked:!0,name:"mode",type:"radio",value:"count"})," Count")),a.createElement("div",{id:u}))}},2656:function(e,t,n){e.exports=n(3076)},2552:function(e,t,n){"use strict";n.d(t,{eR:function(){return r},rT:function(){return a},UG:function(){return l},ZV:function(){return o},Bf:function(){return s},K7:function(){return i},wI:function(){return c},W2:function(){return u},jS:function(){return m},XP:function(){return d},s2:function(){return f},Mv:function(){return h},eQ:function(){return p},Be:function(){return g},$c:function(){return y},Mg:function(){return v},hB:function(){return E},H6:function(){return b},YX:function(){return x},Jw:function(){return w},_q:function(){return N},zG:function(){return k},Vj:function(){return D},pn:function(){return S},x:function(){return T},oT:function(){return P},dc:function(){return C},l4:function(){return A},sD:function(){return I},V2:function(){return M},ak:function(){return z}});var r="styles-module--backHome--b9e05",a="styles-module--bullet--337e0",l="styles-module--d3js--ff3aa",o="styles-module--raphael--40af0",s="styles-module--storybook--f1bcc",i="styles-module--testing--9f8b3",c="styles-module--codeFragment--8d705",u="styles-module--codeFragmentButton--98bc0",m="styles-module--demoName--4057d",d="styles-module--divisor--4c75d",f="styles-module--fileNameWrapper--e0bd4",h="styles-module--footer--a0f96",p="styles-module--homeDemoNumber--755fe",g="styles-module--homeDemoNameLink--4b57a",y="styles-module--notes--e1c07",v="styles-module--rootLayout--03362",E="styles-module--sourceNumber--335c1",b="styles-module--pageHeader--06484",x="styles-module--rowWrapper--9f3a4",w="styles-module--tagCollection--c96c8",N="styles-module--tag--8c674",k="styles-module--demosLegend--16d25",D="styles-module--demosLists--52492",S="styles-module--highlightStorybook--b465e",T="styles-module--highlightTesting--b7d3f",P="styles-module--demoWip--18449",C="styles-module--demoTitle--7c73a",A="styles-module--mainSource--f7ebb",I="styles-module--dataList--54f77",M="styles-module--sourcesList--27e91",z="styles-module--ghButtons--1d466"},8634:function(e,t,n){"use strict";function r(e,t,n,r,a,l,o){try{var s=e[l](o),i=s.value}catch(c){return void n(c)}s.done?t(i):Promise.resolve(i).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var o=e.apply(t,n);function s(e){r(o,a,l,s,i,"next",e)}function i(e){r(o,a,l,s,i,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-partition-tsx-f47d77d513bb1f179fac.js.map