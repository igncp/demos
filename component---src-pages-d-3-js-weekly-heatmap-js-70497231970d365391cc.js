(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[5],{7440:function(t,e){"use strict";var n={colorsScale:function(t,e){var n=d3.scale.linear().domain(e).range([0,1]),a=d3.scale.linear().domain(d3.range(0,1,1/t.length)).range(t);return function(t){return a(n(t))}},filterBlackOpacity:function(t,e,n,a){var r=e.append("defs").append("filter").attr({height:"500%",id:"drop-shadow-"+t,width:"500%",x:"-200%",y:"-200%"});r.append("feGaussianBlur").attr({in:"SourceAlpha",stdDeviation:n}),r.append("feOffset").attr({dx:1,dy:1}),r.append("feComponentTransfer").append("feFuncA").attr({slope:a,type:"linear"});var o=r.append("feMerge");return o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},filterColor:function(t,e,n,a,r){null==r&&(r=!1);var o=e.append("defs").append("filter").attr({id:"drop-shadow-"+t});return r&&o.attr({height:"500%",width:"500%",x:"-200%",y:"-200%"}),o.append("feOffset").attr({dx:.5,dy:.5,in:"SourceGraphic",result:"offOut"}),o.append("feGaussianBlur").attr({in:"offOut",result:"blurOut",stdDeviation:n}),o.append("feBlend").attr({in:"SourceGraphic",in2:"blurOut",mode:"normal"}),o.append("feComponentTransfer").append("feFuncA").attr({slope:a,type:"linear"})},middleTitle:function(t,e,n,a){null==a&&(a=-15),t.append("text").attr({class:"chart-title","text-anchor":"middle",transform:"translate("+String(e/2)+","+a+")"}).text(n).style({"font-weight":"bold"})},svg:function(t,e,n,a){return d3.select(t).text("").append("svg").attr({height:n+a.top+a.bottom,width:e+a.left+a.right}).append("g").attr({transform:"translate("+a.left+","+a.top+")"})},tooltip:function(t,e){null==e&&(e={});var n=_.merge({elementSelector:"",followElement:!1,followMouse:!1,leftOffst:60,tOpts:{container:"body",viewport:{selector:"#chart svg"}},topOffst:40},e);$(t).tooltip(n.tOpts),n.followMouse?$(t).hover((function(t){return $(".tooltip").css({left:String(t.pageX-n.leftOffst)+"px",top:String(t.pageY-n.topOffst)+"px"})})):n.followElement&&$(t).hover((function(){return $(".tooltip").css({left:String($(n.elementSelector).position().left-n.leftOffst)+"px",top:String($(n.elementSelector).position().top-n.topOffst)+"px"})}))}};e.Z=n},7897:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var a=n(7294),r=n(7538),o=n(7440),l=function(){var t=100,e=50,n=50,a=50,r=$("#chart").innerWidth()-e-n,l=Math.ceil(10*r/24)-a-t+60,i=Math.floor(r/24),d=2*i,p=["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],s=["Mo","Tu","We","Th","Fr","Sa","Su"],u=["1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12 am","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm","12 pm"];d3.tsv("/demos/data/d3js/weekly-heatmap/data.tsv",(function(t){return{day:+t.day,hour:+t.hour,value:+t.value}}),(function(f,c){var m=d3.scale.quantile().domain([0,8,d3.max(c,(function(t){return t.value}))]).range(p),h=d3.select("#chart").append("svg").attr({height:l+a+t,width:r+e+n}).append("g").attr("transform","translate("+e+","+a+")");h.selectAll(".dayLabel").data(s).enter().append("text").text((function(t){return t})).attr({class:function(t,e){return e>=0&&e<=4?"dayLabel mono axis axis-workweek":"dayLabel mono axis"},transform:"translate(-6,"+i/1.5+")",x:0,y:function(t,e){return e*i}}).style("text-anchor","end"),h.selectAll(".timeLabel").data(u).enter().append("text").text((function(t){return t})).attr({class:function(t,e){return e>=7&&e<=16?"timeLabel mono axis axis-worktime":"timeLabel mono axis"},transform:"translate("+i/2+", -6)",x:function(t,e){return e*i},y:0}).style("text-anchor","middle");var g=h.selectAll(".hour").data(c).enter().append("rect").attr({class:"hour bordered",height:i,rx:4,ry:4,width:i,x:function(t){return(t.hour-1)*i},y:function(t){return(t.day-1)*i}}).style("fill",p[0]);g.transition().duration(6e3).style("fill",(function(t){return m(t.value)})),g.attr("data-title",(function(t){return"Value: "+t.value})),o.Z.tooltip(".hour",{tOpts:{delay:{hide:0,show:500}}});var x=h.selectAll(".legend").data([0].concat(m.quantiles()),(function(t){return t})).enter().append("g").attr("class","legend");x.append("rect").attr("x",(function(t,e){return d*e})).attr("y",l).attr("width",d).attr("height",i/2).style({fill:function(t,e){return p[e]},stroke:"#CCC"}),x.append("text").attr("class","mono").text((function(t){return"â‰¥ "+Math.round(t)})).attr("x",(function(t,e){return d*e})).attr("y",l+i)}))},i=function(t){var e=t.pageContext.demoInfo;return a.createElement(r.Z,{demoInfo:e,main:l,scripts:["/vendors/d3/d3.min.js","/js/d3js-utils.js"]},a.createElement("div",{className:"weekly-heatmap-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-weekly-heatmap-js-70497231970d365391cc.js.map