(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[850],{7440:function(t,e,n){"use strict";var a=n(2492),r=n.n(a),o={colorsScale:function(t,e){var n=d3.scale.linear().domain(e).range([0,1]),a=d3.scale.linear().domain(d3.range(0,1,1/t.length)).range(t);return function(t){return a(n(t))}},filterBlackOpacity:function(t,e,n,a){var r=e.append("defs").append("filter").attr({height:"500%",id:"drop-shadow-"+t,width:"500%",x:"-200%",y:"-200%"});r.append("feGaussianBlur").attr({in:"SourceAlpha",stdDeviation:n}),r.append("feOffset").attr({dx:1,dy:1}),r.append("feComponentTransfer").append("feFuncA").attr({slope:a,type:"linear"});var o=r.append("feMerge");return o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},filterColor:function(t,e,n,a,r){null==r&&(r=!1);var o=e.append("defs").append("filter").attr({id:"drop-shadow-"+t});return r&&o.attr({height:"500%",width:"500%",x:"-200%",y:"-200%"}),o.append("feOffset").attr({dx:.5,dy:.5,in:"SourceGraphic",result:"offOut"}),o.append("feGaussianBlur").attr({in:"offOut",result:"blurOut",stdDeviation:n}),o.append("feBlend").attr({in:"SourceGraphic",in2:"blurOut",mode:"normal"}),o.append("feComponentTransfer").append("feFuncA").attr({slope:a,type:"linear"})},middleTitle:function(t,e,n,a){null==a&&(a=-15),t.append("text").attr({class:"chart-title","text-anchor":"middle",transform:"translate("+String(e/2)+","+a+")"}).text(n).style("font-weight","bold")},svg:function(t,e,n,a){return d3.select(t).text("").append("svg").attr({height:n+a.top+a.bottom,width:e+a.left+a.right}).append("g").attr({transform:"translate("+a.left+","+a.top+")"})},tooltip:function(t,e){null==e&&(e={});var n=r()({elementSelector:"",followElement:!1,followMouse:!1,leftOffst:60,tOpts:{container:"body",viewport:{selector:"#chart svg"}},topOffst:40},e);$(t).tooltip(n.tOpts),n.followMouse?$(t).hover((function(t){return $(".tooltip").css({left:String(t.pageX-n.leftOffst)+"px",top:String(t.pageY-n.topOffst)+"px"})})):n.followElement&&$(t).hover((function(){return $(".tooltip").css({left:String($(n.elementSelector).position().left-n.leftOffst)+"px",top:String($(n.elementSelector).position().top-n.topOffst)+"px"})}))}};e.Z=o},5723:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var a=n(7294),r=n(7538),o=n(9734),l=n.n(o),i=n(7440),s={bottom:20,left:200,right:40,top:90},d=function(){var t=document.getElementById("chart").getBoundingClientRect().width-s.left-s.right,e=750-s.top-s.bottom,n=["#7C7CC9","#429742","#63BD28","#D14141"],a=[{name:"name",scale:d3.scale.ordinal().rangePoints([0,e]),type:String},{name:"Acc. 40ยบ 150%",scale:d3.scale.linear().range([0,e]),type:Number},{name:"Scale",scale:d3.scale.linear().range([e,0]),type:Number},{name:"Areal",scale:d3.scale.sqrt().range([e,0]),type:Number},{name:"Angular",scale:d3.scale.linear().range([e,0]),type:Number}],r=i.Z.svg("#chart",t,e,s);i.Z.middleTitle(r,t,"Comparison of 41 map projections by four different types of distortion. Lower is better.",-60);var o=d3.scale.ordinal().domain(a.map((function(t){return t.name}))).rangePoints([0,t]),d=d3.svg.line().defined((function(t){return!isNaN(t[1])})),c=d3.svg.axis().orient("left"),p=r.selectAll(".dimension").data(a).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+o(t.name)+")"}));d3.tsv("/demos/data/d3js/map-distorsions/data.tsv",(function(t){i.Z.filterColor("lines",r,2,.4),t=l()(t,"name");var e=i.Z.colorsScale(n,[0,t.length-1]);a.forEach((function(e){return e.scale.domain(e.type===Number?d3.extent(t,(function(t){return+t[e.name]})):t.map((function(t){return t[e.name]})).sort())}));var s=function(t){return d(a.map((function(e){return[o(e.name),e.scale(t[e.name])]})))},f=function(t){var e=["Acc. 40ยบ 150%","Scale","Areal","Angular"].map((function(e){return String(Number(t[e]).toFixed(2))}));return t.name+":  "+e.join(" - ")};r.append("g").attr("class","background").selectAll("path").data(t).enter().append("path").attr("d",s).attr("data-title",f),r.append("g").attr("class","foreground").selectAll("path").data(t).enter().append("path").attr("d",s).attr("data-title",f),p.append("g").attr("class","axis").each((function(t){return d3.select(this).call(c.scale(t.scale))})).append("text").attr("class","title").attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),r.select(".axis").selectAll("text:not(.title)").attr("class","label").data(t,(function(t){return t.name||t})).style("fill",(function(t,n){return e(n)}));var u=function(){return this.parentNode.appendChild(this)};r.selectAll(".foreground path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(t,n){return e(n)}));var m=r.selectAll(".axis text,.background path,.foreground path").on("mouseover",(function(t){return r.selectAll(".foreground path").style("filter","none"),r.classed("active",!0),m.classed("inactive",(function(e){return e!==t})),m.filter((function(e){return e===t})).each(u)})).on("mouseout",(function(){r.selectAll(".foreground path").style("filter","url(#drop-shadow-lines)"),r.classed("active",!1),m.classed("inactive",!1)}));i.Z.tooltip(".background path, .foreground path",{followMouse:!0,leftOffst:100,topOffst:50})}))},c=function(t){var e=t.pageContext.demoInfo;return a.createElement(r.Z,{demoInfo:e,main:d,scripts:["/vendors/d3/d3.min.js","/js/d3js-utils.js"]},a.createElement("div",{className:"map-distorsions-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-js-932605c19de683bc0b92.js.map