(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[640],{2137:function(t,e,n){"use strict";function a(t,e,n,a,r,s,o){try{var i=t[s](o),u=i.value}catch(l){return void n(l)}i.done?e(u):Promise.resolve(u).then(a,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var o=t.apply(e,n);function i(t){a(o,r,s,i,u,"next",t)}function u(t){a(o,r,s,i,u,"throw",t)}i(void 0)}))}}n.d(e,{Z:function(){return r}})},5052:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return U}});var a,r=n(7294),s=n(4275),o=n(2137),i=n(7757),u=n.n(i),l=n(6660),c="map-distorsions-module--background--3HsKv",d="map-distorsions-module--foreground--2rO1Q",p="map-distorsions-module--axis--2ai88",m="map-distorsions-module--title--2_Wji",f="map-distorsions-module--inactive--1UynL",h="map-distorsions-module--active--iDjhn",v=20,g=200,y=40,A=90,b=750-A-v,x=["#7C7CC9","#429742","#63BD28","#D14141"],w="Comparison of 41 map projections by four different types of distortion. Lower is better.";!function(t){t.Acc40="Acc. 40ยบ 150%",t.Angular="Angular",t.Areal="Areal",t.Scale="Scale"}(a||(a={}));var C=function(t){var e=[a.Acc40,a.Scale,a.Areal,a.Angular].map((function(e){return Number(t[e]).toFixed(2)+" ("+e+")"}));return t.name+": "+e.join(", ")},j=function(t){var e=t.data,n=t.rootElId,r=document.getElementById(n);r.classList.add("map-distorsions-module--mapDistorsionsChart--mUvvP");var s=r.getBoundingClientRect().width-g-y,o=[{name:"name",scale:(0,l.q2y)().range([0,b]),type:String},{name:a.Acc40,scale:(0,l.BYU)().range([0,b]),type:Number},{name:a.Scale,scale:(0,l.BYU)().range([b,0]),type:Number},{name:a.Areal,scale:(0,l.PUr)().range([b,0]),type:Number},{name:a.Angular,scale:(0,l.BYU)().range([b,0]),type:Number}],i=(0,l.Ys)("#"+n).append("svg").attr("height",b+A+v).attr("width",s+g+y).append("g").attr("transform","translate("+g+","+A+")");i.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+s/2+",-60)").text(w).style("font-weight","bold");var u=(0,l.q2y)().domain(o.map((function(t){return t.name}))).range([0,s]),x=(0,l.jvg)().defined((function(t){return!isNaN(t[1])})),j=i.selectAll(".dimension").data(o).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+u(t.name)+")"}));k("lines",i,2,.4);var N=e.slice(0).sort((function(t,e){var n=t.name,a=e.name;return n===a?0:n<a?-1:1})),U=B([0,N.length-1]);o.forEach((function(t){return t.scale.domain(t.type===Number?(0,l.Wem)(N,(function(e){return+e[t.name]})):N.map((function(e){return e[t.name]})).sort())}));var O=function(t){var e=o.map((function(e){return[u(e.name),e.scale(t[e.name])]}));return x(e)};i.append("g").attr("class",c).selectAll("path").data(N).enter().append("path").attr("d",O).attr("title",C),i.append("g").attr("class",d).selectAll("path").data(N).enter().append("path").attr("d",O).attr("data-title",C),j.append("g").attr("class",p).each((function(t){var e=(0,l.y4O)(t.scale);return(0,l.Ys)(this).call(e)})).append("text").attr("class",m).attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),i.select("."+p).selectAll("text:not(."+m+")").attr("class","map-distorsions-module--label--1aIb-").data(N,(function(t){return t.name})).style("fill",(function(t,e){return U(e)}));var S=function(){this.parentNode.appendChild(this)};i.selectAll("."+d+" path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(t,e){return U(e)}));var Y=i.selectAll("."+p+" text,."+c+" path,."+d+" path").on("mouseover",(function(t,e){i.selectAll("."+d+" path").style("filter","none"),i.classed(h,!0),Y.classed(f,(function(t){return t.name!==e.name})),Y.filter((function(t){return t.name===e.name})).each(S)})).on("mouseout",(function(){i.selectAll("."+d+" path").style("filter","url(#drop-shadow-lines)"),i.classed(h,!1),Y.classed(f,!1)}));$("."+c+" path, ."+d+" path").tooltip({track:!0})},B=function(t){var e=(0,l.BYU)().domain(t).range([0,1]),n=(0,l.BYU)().domain((0,l.w6H)(0,1,1/x.length)).range(x);return function(t){return n(e(t))}},k=function(t,e,n,a){var r=e.append("defs").append("filter").attr("id","drop-shadow-"+t);r.append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),r.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",n),r.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),r.append("feComponentTransfer").append("feFuncA").attr("slope",a).attr("type","linear")},N=function(){var t=(0,o.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.pvA)("/demos/data/d3js/map-distorsions/data.tsv");case 2:e=t.sent,"chart",j({data:e,rootElId:"chart"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(t){var e=t.pageContext;return r.createElement(s.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:N,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-tsx-f0ac862f6d94b6429baa.js.map