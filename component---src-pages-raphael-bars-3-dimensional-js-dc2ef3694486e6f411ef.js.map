{"version":3,"sources":["webpack://demos/./src/demos/bars-3dimensional/bars-3dimensional.js","webpack://demos/./src/pages/raphael/bars-3dimensional.js"],"names":["ch","cb","$","ajax","done","data","results","setData","keys","Object","seriesDisplayed","seriesLength","length","keysLength","forEach","item","dom","els","config","cg","_","extend","colorScheme","deep","easing","heightOffset","ratio","speed","width","paper","Raphael","i","_i","path","String","attr","fill","stroke","it","se","calcH5","calcH10","calcH0","index","inner","calcInnerPath","outer","calcOuterPath","opacity","el","push","transform","title","animate","bind","e","preventDefault","animateCountries","drawAxis","set","bindClickEvent","createCountries","setCg","setDom","getData","render","ready","demoInfo","pageContext","main","scripts","style","marginBottom","textAalign","className","href","id"],"mappings":"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","file":"component---src-pages-raphael-bars-3-dimensional-js-dc2ef3694486e6f411ef.js","sourcesContent":["const ch = {}\n\nch.getData = function (cb) {\n  return $.ajax(\"/data/raphael/bars-3dimensional/data.json\").done((data) => {\n    ch.data = data.results\n    ch.setData()\n\n    return cb()\n  })\n}\n\nch.setData = function () {\n  const { data } = ch\n\n  data.keys = Object.keys(data)\n  data.seriesDisplayed = 0\n  data.seriesLength = data[data.keys[0]].length\n  data.keysLength = data.keys.length\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item] = {}\n  })\n}\n\nch.setCg = function (config) {\n  if (config == null) {\n    config = {}\n  }\n\n  ch.cg = _.extend(\n    {\n      colorScheme: [\"#C1252D\", \"#5F3A5F\", \"#51A8D0\"],\n      deep: 5,\n      easing: \"bounce\",\n      heightOffset: 100,\n      ratio: 0.6,\n      speed: 800,\n      width: $(\"#chart\").width(),\n    },\n    config\n  )\n}\n\nch.setDom = function () {\n  ch.dom = {\n    els: {},\n    paper: Raphael(\"chart\", ch.cg.width, 245),\n  }\n}\n\nch.drawAxis = function () {\n  const { paper } = ch.dom\n  const { deep } = ch.cg\n\n  for (let i = 0, _i = 0; _i <= 3; i = ++_i) {\n    const path = `M5,${String(25 * i)} ${ch.cg.width},${String(\n      ch.cg.heightOffset + i * 25\n    )}`\n\n    paper.path(path).attr({\n      \"stroke-dasharray\": \". \",\n    })\n  }\n\n  return paper\n    .path(\n      `M0,${deep + 100} ${deep},100 ${ch.cg.width},${\n        100 + ch.cg.heightOffset\n      } ${ch.cg.width - deep},${100 + ch.cg.heightOffset + deep}Z`\n    )\n    .attr({\n      fill: \"#999\",\n      stroke: \"none\",\n    })\n}\n\nch.calcH0 = function (it, se) {\n  return 100 - ch.data[it][se]\n}\n\nch.calcH5 = function (it, se) {\n  return 100 - ch.data[it][se] + 5 * ch.cg.ratio\n}\n\nch.calcH10 = function (it, se) {\n  return 100 - ch.data[it][se] + 10 * ch.cg.ratio\n}\n\nch.calcInnerPath = function (it, se) {\n  return (\n    `M0,${ch.calcH5(it, se)} 15,${ch.calcH10(it, se)} ` +\n    `15,${100 + 10 * ch.cg.ratio} 0,${100 + 5 * ch.cg.ratio}Z`\n  )\n}\n\nch.calcOuterPath = function (it, se) {\n  return `M0,${ch.calcH5(it, se)} 5,${ch.calcH0(it, se)} 20,${ch.calcH5(\n    it,\n    se\n  )} 20,${100 + 5 * ch.cg.ratio} 15,${100 + 10 * ch.cg.ratio} 0,${\n    100 + 5 * ch.cg.ratio\n  }Z`\n}\n\nch.createCountries = function (i) {\n  const { data } = ch\n  const { paper } = ch.dom\n\n  return data.keys.forEach((item, index) => {\n    ch.dom.els[item].inner = paper.path(ch.calcInnerPath(item, i))\n    ch.dom.els[item].outer = paper.path(ch.calcOuterPath(item, i)).attr({\n      opacity: \".5\",\n    })\n    ch.dom.els[item].el.push(ch.dom.els[item].inner, ch.dom.els[item].outer)\n    ch.dom.els[item].el.transform(\n      `T ${String((ch.cg.width / data.keysLength) * index)},` +\n        `${String((ch.cg.heightOffset / data.keysLength) * index)}`\n    )\n\n    return ch.dom.els[item].el.attr({\n      fill: \"#C1252D\",\n      stroke: \"none\",\n      title: `${item}: ${data[item][i]}`,\n    })\n  })\n}\n\nch.animateCountries = function (i) {\n  const { data } = ch\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item].inner.animate(\n      {\n        path: ch.calcInnerPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n    ch.dom.els[item].outer.animate(\n      {\n        path: ch.calcOuterPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n\n    return ch.dom.els[item].el.animate(\n      {\n        fill: ch.cg.colorScheme[i],\n      },\n      ch.cg.speed\n    )\n  })\n}\n\nch.bindClickEvent = function () {\n  const { data } = ch\n\n  return $(\".animate-bars\").bind(\"click\", (e) => {\n    e.preventDefault()\n\n    if (data.seriesDisplayed + 1 === data.seriesLength) {\n      data.seriesDisplayed = 0\n    } else {\n      data.seriesDisplayed = data.seriesDisplayed + 1\n    }\n\n    return ch.animateCountries(data.seriesDisplayed)\n  })\n}\n\nch.render = function () {\n  ch.drawAxis()\n  ch.data.keys.forEach((item) => {\n    ch.dom.els[item].el = ch.dom.paper.set()\n  })\n  ch.bindClickEvent()\n\n  return ch.createCountries(ch.data.seriesDisplayed)\n}\n\nch.ready = function () {\n  ch.setCg()\n  ch.setDom()\n\n  return ch.getData(ch.render)\n}\n\nexport default () => {\n  ch.ready()\n}\n","import React from \"react\"\n\nimport Demo from \"../../components/demo\"\n\nimport main from \"../../demos/bars-3dimensional/bars-3dimensional\"\n\nimport \"../../demos/bars-3dimensional/bars-3dimensional.styl\"\n\nconst Bars3Dimensional = ({ pageContext: { demoInfo } }) => (\n  <Demo\n    demoInfo={demoInfo}\n    main={main}\n    scripts={[\"/vendors/raphael/raphael-min.js\"]}\n  >\n    <div\n      style={{\n        marginBottom: 20,\n        textAalign: \"center\",\n      }}\n    >\n      <a className=\"btn btn-info animate-bars\" href=\"\">\n        Change Series\n      </a>\n    </div>\n    <div className=\"bars-3dimensional-chart\" id=\"chart\" />\n  </Demo>\n)\n\nexport default Bars3Dimensional\n"],"sourceRoot":""}