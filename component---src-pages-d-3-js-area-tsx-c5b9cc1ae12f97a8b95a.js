(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[189],{1146:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return I}});var r=a(7294),n=a(4275),o=a(2137),i=a(7757),l=a.n(i),u=a(7723),c=a(2149),s="area-module--axis--3OeLF",p=function(t){var e=t.items,a=t.rootElId,r=document.getElementById(a).getBoundingClientRect().width,n=r<500,o=50,i=n?50:70,l=n?10:50,p=50,d=400-p-o,m=r-i-l,f=(0,u.Ys)("#"+a).append("svg").attr("height",d+p+o).attr("width",m+i+l).append("g").attr("transform","translate("+i+","+p+")").attr("class","area-module--areaChart--18U7a");f.append("text").attr("class","area-module--chartTitle--2vijK").attr("text-anchor","middle").attr("transform","translate("+m/2+","+"-15)").text(t.getChartTitle()).style("font-weight","bold"),function(t,e,a,r){var n=e.append("defs").append("filter").attr("height","500%").attr("id","drop-shadow-"+t).attr("width","500%").attr("x","-200%").attr("y","-200%");n.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",a),n.append("feOffset").attr("dx",1).attr("dy",1),n.append("feComponentTransfer").append("feFuncA").attr("slope",r).attr("type","linear");var o=n.append("feMerge");o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")}("points",f,2,.5);var g=(0,u.Fp7)(e,t.getItemXValue),h=(0,u.VV$)(e,t.getItemXValue),v=(0,u.Fp7)(e,t.getItemYValue),y=(0,u.VV$)(e,t.getItemYValue),I=(0,u.BYU)().domain([h,g]).range([0,m]),x=(0,u.BYU)().domain([v+.05,y-.05]).range([0,d]),V=function(e){return I(t.getItemXValue(e))},k=function(e){return x(t.getItemYValue(e))},w=n?(0,u.aE8)().domain([0,500]).range(Array.from({length:6}).map((function(t,e){return e})))(r):null,Y=(0,u.LLu)(I).tickFormat((0,u.WUZ)(".0f")).ticks(w),b=(0,u.y4O)(x).tickFormat((0,u.WUZ)(".0%")).tickSize(10);f.append("g").attr("class","area-module--x--3vSV5 "+s).attr("transform","translate(0,"+d+")").call(Y).selectAll("text").attr("dy","1.25em"),f.append("g").attr("class","area-module--y--3xyOd "+s).call(b).selectAll("text").attr("dx","-.25em");var C=(0,u.SOn)().x(V).y0(d).y1(k),E=(0,u.jvg)().x(V).y(k);f.append("path").datum(e).attr("class","area-module--line--2fHic").attr("d",E).attr("clip-path","url(#clip)"),f.append("clipPath").attr("id","clip").append("rect").attr("height",d).attr("width",m),f.append("path").datum(e).attr("class","area-module--area--1qZz_").attr("d",C).attr("clip-path","url(#clip)");var j=c.Z.from(e,V,k).voronoi([-i,-p,m+l,d+o]);f.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+V(t)+","+k(t)+")"})).attr("r","5px").attr("class",(function(e){return"area-module--point--29v1- point-"+t.getItemId(e)})).style("filter","url(#drop-shadow-points)");var A=f.append("g").attr("class","area-module--voronoi--1NIYY");return A.selectAll("path").data(e).enter().append("path").attr("d",(function(e){return j.renderCell(t.getItemId(e))})).on("mouseover",(function(e,a){(0,u.Ys)(".point-"+t.getItemId(a)).style("display","block")})).on("mouseleave",(function(e,a){(0,u.Ys)(".point-"+t.getItemId(a)).style("display","none")})).attr("class","voronoi-group").attr("title",t.getItemTitle),$(".voronoi-group").tooltip({track:!0}),{toggleVoronoi:function(){var t=A.attr("class"),e="area-module--showVoronoi--1QHCR",a=t.includes(e)?t.replace(e,"").trim():t+" "+e;A.attr("class",a)}}},d=function(){var t=(0,o.Z)(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.gyn)("/demos/data/d3js/area/data.csv");case 2:return e=t.sent,t.abrupt("return",e.map((function(t,e){return Object.assign({},t,{index:e})})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(t){return t.year},f=function(t){return t.percent/100},g=function(t){return t.index},h=function(t){return"Year: "+t.year+", Percent: "+t.percent+"%"},v=function(){return"Share of top decile [aka top 10%] in national income"},y=function(){var t=(0,o.Z)(l().mark((function t(){var e,a,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:e=t.sent,a=p({getChartTitle:v,getItemId:g,getItemTitle:h,getItemXValue:m,getItemYValue:f,items:e,rootElId:"chart"}),r=a.toggleVoronoi,document.getElementById("toggle-voronoi").addEventListener("click",(function(t){t.preventDefault(),r()}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(t){var e=t.pageContext;return r.createElement(n.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:y,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},r.createElement("form",null,r.createElement("button",{className:"btn btn-info",id:"toggle-voronoi",type:"button"},"Toggle Voronoi")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-tsx-c5b9cc1ae12f97a8b95a.js.map