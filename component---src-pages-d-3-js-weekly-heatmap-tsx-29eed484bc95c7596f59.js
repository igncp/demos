(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[730],{6126:function(t,e,r){"use strict";var n;r.d(e,{H:function(){return a},d:function(){return n}}),function(t){t.STORYBOOK="storybook",t.TESTING="testing"}(n||(n={}));var a={SCRIPT:"/vendors/jquery-ui/jquery-ui.min.js",STYLE:"/vendors/jquery-ui/themes/base/jquery-ui.min.css"}},7986:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return S}});var n=r(7294),a=r(6126),o=r(4275),l=r(8634),u=r(2656),i=r.n(u),c=r(2094),s="weekly-heatmap-module--mono--1FY_w",f="weekly-heatmap-module--axisBold--ymVm3",d=["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],h=d.length,v=100,p=50,y=50,m=50,g=function(t){var e=t.rootElId,r=t.weeklyData,n=document.getElementById(e);n.classList.add("weekly-heatmap-module--weeklyHeatmapChart--3k92Q");var a=t.horizontalLabels,o=t.verticalLabels,l=n.getBoundingClientRect().width-p-y,u=Math.ceil(10*l/a.length)-m-v+60,i=Math.floor(l/a.length),g=2*i,x=(0,c.Fp7)(r,(function(e){return t.getItemValue(e)})),w=(0,c.FTZ)().domain([0,h-1,x]).range(d),b=(0,c.Ys)("#"+e).append("svg").attr("height",u+m+v).attr("width",l+p+y).append("g").attr("transform","translate("+p+","+m+")");b.selectAll(".verticalLabel").data(o).enter().append("text").text((function(t){return t})).attr("class",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],o=r[1];return"verticalLabel "+s+" axis"+(t.getIsVerticalLabelBold(a,o)?" "+f:"")})).attr("transform","translate(-6,"+i/1.5+")").attr("x",0).attr("y",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return n*i})).style("text-anchor","end"),b.selectAll(".horizontalLabel").data(a).enter().append("text").text((function(t){return t})).attr("class",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],o=r[1];return"horizontalLabel "+s+" axis"+(t.getIsHorizontalLabelBold(a,o)?" "+f:"")})).attr("transform","translate("+i/2+", "+"-6)").attr("x",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return n*i})).attr("y",0).style("text-anchor","middle"),b.selectAll(".cell").data(r).enter().append("rect").attr("class","cell weekly-heatmap-module--bordered--2Vfqv").attr("height",i).attr("rx",100).attr("ry",100).attr("width",i).attr("x",(function(e){return t.getItemHorizontalIndex(e)*i})).attr("y",(function(e){return t.getItemVerticalIndex(e)*i})).attr("title",t.getItemTooltip).style("fill",d[0]).transition().duration(6e3).style("fill",(function(e){return w(t.getItemValue(e))})),$(".cell").tooltip();var I=b.selectAll(".legend").data([0].concat(w.quantiles()),(function(t){return t})).enter().append("g").attr("class","legend");I.append("rect").attr("x",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return g*n})).attr("y",u).attr("width",g).attr("height",i/2).style("fill",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return d[n]})).style("stroke","#ccc"),I.append("text").attr("class",s).text(t.getLegendText).style("text-anchor","middle").attr("x",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return g*n+g/2})).attr("y",u+i)},x="chart",w=["Mo","Tu","We","Th","Fr","Sa","Su"],b=Array.from({length:24}).map((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1],a=n%12;return a+1+" "+(n>=11&&23!==n?"pm":"am")})),I=function(){var t=(0,l.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.pvA)("/demos/data/d3js/weekly-heatmap/data.tsv");case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return{arbitraryMetric:+t.value,day:+t.day,hour:+t.hour}})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(t){return t.arbitraryMetric},A=function(t){return"Arbitrary Metric: "+t.arbitraryMetric},L=function(t){return t.hour-1},T=function(t){return t.day-1},V=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return n>=7&&n<=16},z=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[1];return n>=0&&n<=4},B=function(t){return"â‰¥ "+t.toFixed(2)},C=function(t){return{getIsHorizontalLabelBold:V,getIsVerticalLabelBold:z,getItemHorizontalIndex:L,getItemTooltip:A,getItemValue:k,getItemVerticalIndex:T,getLegendText:B,horizontalLabels:b,rootElId:x,verticalLabels:w,weeklyData:t}},E=function(){var t=(0,l.Z)(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:e=t.sent,r=C(e),g(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=E,S=function(t){var e=t.pageContext;return n.createElement(o.Z,{links:[a.H.STYLE],main:H,pageContext:e,scripts:[a.H.SCRIPT]},n.createElement("div",{id:x}))}},2656:function(t,e,r){t.exports=r(3076)},8634:function(t,e,r){"use strict";function n(t,e,r,n,a,o,l){try{var u=t[o](l),i=u.value}catch(c){return void r(c)}u.done?e(i):Promise.resolve(i).then(n,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var l=t.apply(e,r);function u(t){n(l,a,o,u,i,"next",t)}function i(t){n(l,a,o,u,i,"throw",t)}u(void 0)}))}}r.d(e,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-weekly-heatmap-tsx-29eed484bc95c7596f59.js.map