(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[640],{5052:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return U}});var a,r,s=n(7294),o=n(4275),i=n(2137),l=n(7757),c=n.n(l),u=n(7723),d=n(2203),p="map-distorsions-module--background--3HsKv",m="map-distorsions-module--foreground--2rO1Q",f="map-distorsions-module--axis--2ai88",h="map-distorsions-module--title--2_Wji",g="map-distorsions-module--inactive--1UynL",v="map-distorsions-module--active--iDjhn",y=function(t){return t.length>20?t.slice(0,20)+"...":t},A=20,w=200,b=40,x=90,j=750-x-A,C=["#7C7CC9","#429742","#63BD28","#D14141"],k="Comparison of 41 map projections by four different types of distortion. Lower is better.";!function(t){t.Acc40="Acc. 40ยบ 150%",t.Angular="Angular",t.Areal="Areal",t.Scale="Scale"}(a||(a={})),function(t){t.Number="number",t.String="string"}(r||(r={}));var B=function(t){var e=[a.Acc40,a.Scale,a.Areal,a.Angular].map((function(e){return Number(t[e]).toFixed(2)+" ("+e+")"}));return t.name+": "+e.join(", ")},N=function(t){var e=t.mapsDistorsions,n=t.rootElId,s=document.getElementById(n);s.classList.add("map-distorsions-module--mapDistorsionsChart--mUvvP");var o=s.getBoundingClientRect().width-w-b,i=[{name:"name",scale:(0,u.q2y)().range([0,j]),type:r.String},{name:a.Acc40,scale:(0,u.BYU)().range([0,j]),type:r.Number},{name:a.Scale,scale:(0,u.BYU)().range([j,0]),type:r.Number},{name:a.Areal,scale:(0,u.PUr)().range([j,0]),type:r.Number},{name:a.Angular,scale:(0,u.BYU)().range([j,0]),type:r.Number}],l=(0,u.Ys)("#"+n).append("svg").attr("height",j+x+A).attr("width",o+w+b).append("g").attr("transform","translate("+w+","+x+")");l.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+o/2+",-60)").text(k).style("font-weight","bold");var c,N,S,U,q,D=(0,u.q2y)().domain(i.map((function(t){return t.name}))).range([0,o]),O=(0,u.jvg)().defined((function(t){return!isNaN(t[1])})),Y=l.selectAll(".dimension").data(i).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+D(t.name)+")"}));N=(c={deviation:2,id:"lines",slope:.4,svg:l}).deviation,S=c.id,U=c.slope,(q=c.svg.append("defs").append("filter").attr("id","drop-shadow-"+S)).append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),q.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",N),q.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),q.append("feComponentTransfer").append("feFuncA").attr("slope",U).attr("type","linear");var E,I,G,L=e.slice(0).sort((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0].name,r=e[1].name;return a===r?0:a<r?-1:1})),F=(E=[0,L.length-1],I=(0,u.BYU)().domain(E).range([0,1]),G=(0,u.BYU)().domain((0,u.w6H)(0,1,1/C.length)).range(C),function(t){return G(I(t))});i.forEach((function(t){return t.scale.domain(t.type===r.Number?(0,u.Wem)(L,(function(e){return+e[t.name]})):L.map((function(e){var n=e[t.name];return y(n)})).sort())}));var H=function(t){var e=i.map((function(e){var n=t[e.name];return[D(e.name),e.scale("string"==typeof n?y(n):n)]}));return O(e)};l.append("g").attr("class",p).selectAll("path").data(L).enter().append("path").attr("d",H).style("cursor","pointer").attr("title",B).on("click",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];window.open("https://www.google.com/search?"+d.stringify({q:a.name+" map projection",tbm:"isch"}))})),l.append("g").attr("class",m).selectAll("path").data(L).enter().append("path").attr("d",H).attr("data-title",B),Y.append("g").attr("class",f).each((function(t){var e=(0,u.y4O)(t.scale);return(0,u.Ys)(this).call(e)})).append("text").attr("class",h).attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),l.select("."+f).selectAll("text:not(."+h+")").attr("class","map-distorsions-module--label--1aIb-").data(L,(function(t){return t.name})).style("fill",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return F(a)}));var P=function(){this.parentNode.appendChild(this)},W=l.selectAll("."+f+" text,."+p+" path,."+m+" path");l.selectAll("."+m+" path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return F(a)})),W.on("mouseover",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];l.selectAll("."+m+" path").style("filter","none"),l.classed(v,!0),W.classed(g,(function(t){return t.name!==a.name})),W.filter((function(t){return t.name===a.name})).each(P)})).on("mouseout",(function(){l.selectAll("."+m+" path").style("filter","url(#drop-shadow-lines)"),l.classed(v,!1),W.classed(g,!1)})),$("."+p+" path, ."+m+" path").tooltip({track:!0})},S=function(){var t=(0,i.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.pvA)("/demos/data/d3js/map-distorsions/data.tsv");case 2:e=t.sent,"chart",N({mapsDistorsions:e,rootElId:"chart"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(t){var e=t.pageContext;return s.createElement(o.Z,{links:["/vendors/jquery-ui/themes/base/jquery-ui.min.css"],main:S,pageContext:e,scripts:["/vendors/jquery-ui/jquery-ui.min.js"]},s.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-tsx-75dce89c9f25d8b328b8.js.map