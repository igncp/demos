"use strict";(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[640],{5052:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var a,r,s=n(7294),o=n(6126),i=n(4275),l=n(8634),c=n(2656),u=n.n(c),d=n(862),p=n(2203),m="map-distorsions-module--background--vQMV5",f="map-distorsions-module--foreground--x4qwk",h="map-distorsions-module--axis--zWiFF",g="map-distorsions-module--title--nY6aB",v="map-distorsions-module--inactive--3EoOA",y="map-distorsions-module--active--jl1cg",A="chart",w=function(t){return t.length>20?t.slice(0,20)+"...":t},b=20,x=200,B=40,C=90,k=750-C-b,N=["#7C7CC9","#429742","#63BD28","#D14141"],S="Comparison of 41 map projections by four different types of distortion. Lower is better.";!function(t){t.Acc40="Acc. 40ยบ 150%",t.Angular="Angular",t.Areal="Areal",t.Scale="Scale"}(a||(a={})),function(t){t.Number="number",t.String="string"}(r||(r={}));var Y=function(t){var e=[a.Acc40,a.Scale,a.Areal,a.Angular].map((function(e){return Number(t[e]).toFixed(2)+" ("+e+")"}));return t.name+": "+e.join(", ")},E=function(t){var e=t.mapsDistorsions,n=t.rootElId,s=document.getElementById(n);s.classList.add("map-distorsions-module--mapDistorsionsChart--VBbVy");var o=s.getBoundingClientRect().width-x-B,i=[{name:"name",scale:(0,d.q2y)().range([0,k]),type:r.String},{name:a.Acc40,scale:(0,d.BYU)().range([0,k]),type:r.Number},{name:a.Scale,scale:(0,d.BYU)().range([k,0]),type:r.Number},{name:a.Areal,scale:(0,d.PUr)().range([k,0]),type:r.Number},{name:a.Angular,scale:(0,d.BYU)().range([k,0]),type:r.Number}],l=(0,d.Ys)("#"+n).append("svg").attr("height",k+C+b).attr("width",o+x+B).append("g").attr("transform","translate("+x+","+C+")");l.append("text").attr("class","chart-title").attr("text-anchor","middle").attr("transform","translate("+o/2+",-60)").text(S).style("font-weight","bold");var c,u,A,E,O,j=(0,d.q2y)().domain(i.map((function(t){return t.name}))).range([0,o]),D=(0,d.jvg)().defined((function(t){return!isNaN(t[1])})),F=l.selectAll(".dimension").data(i).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+j(t.name)+")"}));u=(c={deviation:2,id:"lines",slope:.4,svg:l}).deviation,A=c.id,E=c.slope,(O=c.svg.append("defs").append("filter").attr("id","drop-shadow-"+A)).append("feOffset").attr("dx",.5).attr("dy",.5).attr("in","SourceGraphic").attr("result","offOut"),O.append("feGaussianBlur").attr("in","offOut").attr("result","blurOut").attr("stdDeviation",u),O.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal"),O.append("feComponentTransfer").append("feFuncA").attr("slope",E).attr("type","linear");var U,q,I,G=e.slice(0).sort((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0].name,r=e[1].name;return a===r?0:a<r?-1:1})),H=(U=[0,G.length-1],q=(0,d.BYU)().domain(U).range([0,1]),I=(0,d.BYU)().domain((0,d.w6H)(0,1,1/N.length)).range(N),function(t){return I(q(t))});i.forEach((function(t){return t.scale.domain(t.type===r.Number?(0,d.Wem)(G,(function(e){return+e[t.name]})):G.map((function(e){var n=e[t.name];return w(n)})).sort())}));var L=function(t){var e=i.map((function(e){var n=t[e.name];return[j(e.name),e.scale("string"==typeof n?w(n):n)]}));return D(e)};l.append("g").attr("class",m).selectAll("path").data(G).enter().append("path").attr("d",L).style("cursor","pointer").attr("title",Y).on("click",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];window.open("https://www.google.com/search?"+p.stringify({q:a.name+" map projection",tbm:"isch"}))})),l.append("g").attr("class",f).selectAll("path").data(G).enter().append("path").attr("d",L).attr("data-title",Y),F.append("g").attr("class",h).each((function(t){var e=(0,d.y4O)(t.scale);return(0,d.Ys)(this).call(e)})).append("text").attr("class",g).attr("text-anchor","middle").attr("y",-9).text((function(t){return t.name})),l.select("."+h).selectAll("text:not(."+g+")").attr("class","map-distorsions-module--label--sWBFF").data(G,(function(t){return t.name})).style("fill",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return H(a)}));var T=function(){this.parentNode.appendChild(this)},V=l.selectAll("."+h+" text,."+m+" path,."+f+" path");l.selectAll("."+f+" path").style("filter","url(#drop-shadow-lines)").style("stroke",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];return H(a)})),V.on("mouseover",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[1];l.selectAll("."+f+" path").style("filter","none"),l.classed(y,!0),V.classed(v,(function(t){return t.name!==a.name})),V.filter((function(t){return t.name===a.name})).each(T)})).on("mouseout",(function(){l.selectAll("."+f+" path").style("filter","url(#drop-shadow-lines)"),l.classed(y,!1),V.classed(v,!1)})),$("."+m+" path, ."+f+" path").tooltip({track:!0})},O=function(){var t=(0,l.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.pvA)("/demos/data/d3js/map-distorsions/data.tsv");case 2:e=t.sent,A,E({mapsDistorsions:e,rootElId:"chart"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=O,D=function(t){var e=t.pageContext;return s.createElement(i.Z,{links:[o.H.STYLE],main:j,pageContext:e,scripts:[o.H.SCRIPT]},s.createElement("div",{id:A}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-map-distorsions-tsx-645427b9877ad9adaa43.js.map