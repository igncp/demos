(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[542],{8469:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var r=n(7294),a=n(7538),i=function(){d3.csv("/data/d3js/area/data.csv",(function(t,e){var n={bottom:50,left:70,right:50,top:50},r=$("#chart").innerWidth()-n.left-n.right,a=400-n.top-n.bottom,i=d3utils.svg("#chart",r,a,n);d3utils.middleTitle(i,r,"Share of top decile [aka top 10%] in national income"),d3utils.filterBlackOpacity("points",i,2,.5);var o=d3.max(e,(function(t){return t.year})),c=d3.min(e,(function(t){return t.year})),l=d3.max(e,(function(t){return t.percent/100})),s=d3.min(e,(function(t){return t.percent/100})),d=d3.scale.linear().range([0,r]).domain([c,o]),p=d3.scale.linear().range([0,a]).domain([l+.05,s-.05]),u=d3.svg.axis().scale(d).tickFormat(d3.format(".")).innerTickSize(-a),f=d3.svg.axis().scale(p).tickFormat(d3.format("%")).innerTickSize(-r).orient("left");i.append("g").attr("class","x axis").attr("transform","translate(0,"+String(a)+")").call(u).selectAll("text").attr({dy:"1.25em"}),i.append("g").attr("class","y axis").call(f).selectAll("text").attr({dx:"-.25em"});var m=d3.svg.area().interpolate("monotone").x((function(t){return d(t.year)})).y0(a).y1((function(t){return p(t.percent/100)})),h=d3.svg.line().x((function(t){return d(t.year)})).y((function(t){return p(t.percent/100)}));i.append("path").datum(e).attr({class:"line","clip-path":"url(#clip)",d:h}),i.append("clipPath").attr({id:"clip"}).append("rect").attr({height:a,width:r}),i.append("path").datum(e).attr({class:"area","clip-path":"url(#clip)",d:m});var v=d3.geom.voronoi().x((function(t){return d(t.year)})).y((function(t){return p(t.percent/100)})).clipExtent([[-n.left,-n.top],[r+n.right,a+n.bottom]]);i.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+String(d(t.year))+","+p(t.percent/100)+")"})).attr("r","5px").attr("class",(function(t,e){return"point point-"+e})).style({filter:"url(#drop-shadow-points)"}),i.append("g").attr("class","voronoi").selectAll("path").data(v(e)).enter().append("path").attr("d",(function(t,e){return t.index=e,"M"+t.join("L")+"Z"})).on("mouseover",(function(t){return d3.select(".point-"+t.index).style("display","block")})).on("mouseleave",(function(t){return d3.select(".point-"+t.index).style("display","none")})).attr("class","voronoi-area").append("title").text((function(t){return"Year: "+t.point.year+": Percent: "+t.point.percent+"%"}))}))},o=function(t){var e=t.pageContext.demoInfo;return r.createElement(a.Z,{demoInfo:e,main:i,scripts:["/vendors/d3/d3.min.js","/js/d3js-utils.js"]},r.createElement("div",{className:"area-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-js-ada13cc69c5fe8416352.js.map