(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[894],{2137:function(t,n,e){"use strict";function r(t,n,e,r,i,a,c){try{var o=t[a](c),l=o.value}catch(u){return void e(u)}o.done?n(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var n=this,e=arguments;return new Promise((function(i,a){var c=t.apply(n,e);function o(t){r(c,i,a,o,l,"next",t)}function l(t){r(c,i,a,o,l,"throw",t)}o(void 0)}))}}e.d(n,{Z:function(){return i}})},8905:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return h}});var r=e(7294),i=e(7538),a=e(2137),c=e(7757),o=e.n(c),l=20,u=120,s=120,d=20,f=function(){var t=(0,a.Z)(o().mark((function t(){var n,e,r,i,a,c,f,h,p,v,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="chart",e=document.getElementById(n).getBoundingClientRect().width-s-u,r=800-d-l,t.next=5,new Promise((function(t){d3.json("/demos/data/d3js/collapsible-tree/data.json",(function(n,e){e.children.forEach((function t(n){n.children&&(n._children=n.children,n._children.forEach(t),n.children=null)})),t(e)}))}));case 5:(i=t.sent).x0=r/2,i.y0=0,a=0,c=750,f=d3.layout.tree().size([r,e]),h=d3.svg.diagonal().projection((function(t){return[t.y,t.x]})),p=d3.select("#"+n).append("svg").attr("width",e+s+u).attr("height",r+d+l).append("g").attr("transform","translate("+u+","+d+")"),v=function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),y(t)},(y=function(t){var n=f.nodes(i).reverse(),e=f.links(n);n.forEach((function(t){t.y=180*t.depth}));var r=p.selectAll("g.node").data(n,(function(t){return t.id||(t.id=++a),t.id})),o=r.enter().append("g").attr("class","node").attr("transform",(function(){return"translate("+t.y0+","+t.x0+")"})).on("click",v);o.append("circle").attr("r",1e-6).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),o.append("text").attr("x",(function(t){return t.children||t._children?-10:10})).attr("dy",".35em").attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.name})).style("fill-opacity",1e-6);var l=r.transition().duration(c).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"}));l.select("circle").attr("r",4.5).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),l.select("text").style("fill-opacity",1);var u=r.exit().transition().duration(c).attr("transform",(function(){return"translate("+t.y+","+t.x+")"})).remove();u.select("circle").attr("r",1e-6),u.select("text").style("fill-opacity",1e-6);var s=p.selectAll("path.link").data(e,(function(t){return t.target.id}));s.enter().insert("path","g").attr("class","link").attr("d",(function(){var n={x:t.x0,y:t.y0};return h({source:n,target:n})})),s.transition().duration(c).attr("d",h),s.exit().transition().duration(c).attr("d",(function(){var n={x:t.x,y:t.y};return h({source:n,target:n})})).remove(),n.forEach((function(t){t.x0=t.x,t.y0=t.y}))})(i);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(t){var n=t.pageContext.demoInfo;return r.createElement(i.Z,{demoInfo:n,main:f,scripts:["/vendors/d3/d3.min.js"]},r.createElement("div",{className:"collapsible-tree-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-collapsible-tree-js-4b0ead6ff8eda27053b2.js.map