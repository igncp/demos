(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[201],{2137:function(e,t,n){"use strict";function r(e,t,n,r,a,u,o){try{var c=e[u](o),i=c.value}catch(l){return void n(l)}c.done?t(i):Promise.resolve(i).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,u){var o=e.apply(t,n);function c(e){r(o,a,u,c,i,"next",e)}function i(e){r(o,a,u,c,i,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return a}})},3643:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(7294),a=n(4275),u=n(2137),o=n(7757),c=n.n(o),i=n(628),l="trend-line-module--axis--2pFpS",d=function(){var e=(0,u.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.pvA)("/demos/data/d3js/trend-line/data.tsv");case 2:return t=e.sent,n=(0,i.Z1g)("%Y-%m-%d"),r=t.map((function(e){return{occurred:n(e.occurred),value:+e.value}})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=50,p=50,m=50,f=50,v=500-f-s,h=2e3,g=function(e,t){var n=(0,i.FTZ)().domain([0,1]).range((0,i.w6H)(1,e.length+1));return function(r){var a=e.slice(0,n(r));return t(a)}},y=function(e){var t=e.data,n=e.initialZoomed,r=e.rootElId,a=document.getElementById(r);a.classList.add("trend-line-module--trendLineChart--32KJ2");var u=a.getBoundingClientRect().width-p-m,o=function(e){var n=(0,i.Ys)("#"+r).text("").append("svg").attr("height",v+f+s).attr("width",u+p+m).append("g").attr("transform","translate("+p+","+m+")"),a=(0,i.Xf)().range([0,u]),o=(0,i.BYU)().range([v,0]),c=(0,i.LLu)(a),d=(0,i.y4O)(o),y=(0,i.jvg)().x((function(e){return a(e.occurred)})).y((function(e){return o(e.value)}));a.domain((0,i.Wem)(t,(function(e){return e.occurred}))),o.domain([e?(0,i.VV$)(t,(function(e){return e.value})):0,(0,i.Fp7)(t,(function(e){return e.value}))]),n.append("g").attr("class","x "+l).attr("transform","translate(0,"+v+")").call(c),n.append("g").attr("class","y "+l).call(d),n.append("path").datum(t).transition().duration(h).attrTween("d",(function(){return g(t,y)})).attr("class","trend-line-module--line--1IGBC");var x=function(e){var t={},n=e.length,r=0,a=0,u=0,o=0,c=0;return e.forEach((function(e){r+=e.occurred.getTime(),a+=e.value,o+=e.occurred.getTime()*e.occurred.getTime(),c+=e.value*e.value,u+=e.occurred.getTime()*e.value})),t.slope=(n*u-r*a)/(n*o-r*r),t.intercept=(a-t.slope*r)/n,t.r2=Math.pow((n*u-r*a)/Math.sqrt((n*o-r*r)*(n*c-a*a)),2),t}(t),w=(0,i.jvg)().x((function(e){return a(e.occurred)})).y((function(e){var t=x.intercept+x.slope*+e.occurred;return o(t)}));n.append("path").datum(t).transition().delay(h).duration(h).attrTween("d",(function(){return g(t,w)})).attr("class","trend-line-module--rline--3Goq9"),n.append("text").attr("transform","translate("+.7*u+","+.7*v+")").style("opacity",0).transition().delay(4e3).text("Slope: "+x.slope.toExponential(3)).style("opacity",1)};return o(n),{renderContent:o}},x=function(){var e=(0,u.Z)(c().mark((function e(){var t,n,r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="chart",e.next=3,d();case 3:n=e.sent,a=y({data:n,initialZoomed:(r=function(){return document.querySelector('input[value="zoom"]').checked})(),rootElId:t}),u=a.renderContent,(0,i.td_)('input[name="mode"]').on("change",(function(){var e=r();u(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.pageContext;return r.createElement(a.Z,{main:x,pageContext:t},r.createElement("form",null,r.createElement("label",null,r.createElement("input",{defaultChecked:!0,name:"mode",type:"radio",value:"zoom"})," Zoom"),r.createElement("label",null,r.createElement("input",{name:"mode",type:"radio",value:"normal"})," Normal")),r.createElement("div",{id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-trend-line-tsx-54410add7a807477804b.js.map