(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[909],{1745:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7294),a=n(5414),o=n(2552),s=function(e){var t,n=e.isCompleted,a=e.mainSource,s=e.name;return r.createElement("h2",{className:"row",id:o.dc},r.createElement("span",{className:"col-xs-12 col-sm-10 p-0"},r.createElement("span",{className:o.jS},s," Chart "),r.createElement("small",{id:o.l4,title:"Main Source"},r.createElement("a",{href:a,rel:"noreferrer",target:"_blank"},"source")),!n&&r.createElement("small",{id:o.oT,title:"This demo is still work in progress"},"WIP")),r.createElement("span",Object.assign({className:"col-sm-2 p-0 d-xs-none "+o.eR},((t={})["data-back-home"]="",t)),r.createElement("a",{className:"btn btn-info",href:"/demos/",role:"button"},r.createElement("span",{className:"glyphicon glyphicon-home"})," Home")))},i=function(e){return"src/demos/"+e+"/tests/"+e+".e2e.ts"},l=function(){var e=(0,r.useState)(null),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e="undefined"==typeof window?null:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth);null!==e&&n(e)}),[]),t},c=function(e){var t=e.content,n=(0,r.useState)(!1),a=n[0],s=n[1],i=l();return null===i?null:!i||i<1280&&!a?r.createElement("div",{className:o.wI},r.createElement("button",{className:o.W2+" btn btn-light",onClick:function(){return s(!0)},type:"button"},"Show Code")):r.createElement("pre",null,r.createElement("code",{dangerouslySetInnerHTML:{__html:t}}))},u=function(e){var t=e.filePath;return r.createElement(r.Fragment,null,r.createElement("span",null,"| "),r.createElement("a",{href:"https://github.com/igncp/demos/blob/main/"+t,rel:"noreferrer",target:"_blank"},"Code in Github"))},m=function(e){var t=e.filePath;return r.createElement(r.Fragment,null,r.createElement("span",null,"| "),r.createElement("a",{href:"https://igncp.github.io/demos/coverage-ts/files/"+t+".html",rel:"noreferrer",target:"_blank"},"TypeScript coverage report"))},d=function(e){var t=e.demoInfo;if("undefined"==typeof window)return null;var n="pages/"+t.category+"/"+t.key+"."+t.files.page.type;return r.createElement("div",null,!!t.notes.length&&r.createElement("div",{className:"bs-callout bs-callout-info"+o.$c},r.createElement("p",null,r.createElement("strong",null,"Notes:")),r.createElement("ul",null,t.notes.map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],o=t[1];return r.createElement("li",{dangerouslySetInnerHTML:{__html:a},key:o})})))),!!t.summary.length&&r.createElement("div",{className:"bs-callout bs-callout-summary "+o.$c},r.createElement("p",null,r.createElement("strong",null,"Implementation Summary:")),r.createElement("ul",null,t.summary.map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],o=t[1];return r.createElement("p",{dangerouslySetInnerHTML:{__html:a},key:o})})))),r.createElement("div",{className:"bs-callout bs-callout-primary",id:o.V2},r.createElement("p",null,r.createElement("strong",null,"Sources:")),r.createElement("ul",null,t.sources.map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],s=t[1];return r.createElement("li",{key:s},r.createElement("span",{className:o.hB},"[",s+1,"]"),":"," ",r.createElement("a",{href:a},a))})))),!!t.docs.length&&r.createElement("div",{className:"bs-callout bs-callout-secondary",id:"docs"},r.createElement("p",null,r.createElement("strong",null,"Docs:")),r.createElement("div",{className:o.Jw},t.docs.map((function(e){return r.createElement("span",{className:o._q,key:e[1]},r.createElement("a",{href:e[1],rel:"noreferrer",target:"_blank"},e[0]))})))),!!t.dataFiles.length&&r.createElement("div",{className:"bs-callout bs-callout-warning",id:o.sD},r.createElement("p",null,r.createElement("strong",null,"Data files: "),t.dataFiles.map((function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=n[0],s=n[1];return r.createElement("a",{href:"/demos/data/"+t.category+"/"+t.key+"/"+o,key:s},o)})))),r.createElement("div",{className:"bs-callout bs-callout-success",id:"code"},r.createElement("p",null,r.createElement("strong",null,"Code:")),r.createElement("ul",null,t.files.demoTS.map((function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=n[0],l=s.content,d=s.filePath,f=n[1];return r.createElement("li",{key:d},r.createElement("p",null,r.createElement("span",{className:o.s2},d)," ",r.createElement(u,{filePath:d})," ",r.createElement(m,{filePath:d}),0===f&&r.createElement(r.Fragment,null,r.createElement("span",null," | "),r.createElement("a",{href:"https://github.com/igncp/demos/blob/main/"+i(t.key),rel:"noreferrer",target:"_blank"},"E2E tests"))),r.createElement(c,{content:l}),r.createElement("div",{className:o.XP}))})),r.createElement("li",null,r.createElement("p",null,r.createElement("span",{className:o.s2},n)," ",r.createElement(u,{filePath:n})," ",r.createElement(m,{filePath:n})),r.createElement(c,{content:t.files.page.content}),!!t.files.demoCSS.length&&r.createElement("div",{className:o.XP})),t.files.demoCSS.map((function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=n[0],i=s.content,l=s.filePath,m=n[1];return r.createElement("li",{key:l},r.createElement("p",null,r.createElement("span",{className:o.s2},l)," ",r.createElement(u,{filePath:l})),r.createElement(c,{content:i}),m!==t.files.demoCSS.length-1&&r.createElement("div",{className:o.XP}))})))))},f=n(2504),h=function(e){return"/"===e[0]?"/demos/"+e.replace(/^\//,""):e},p=function(e){var t=e.main,n=e.children,o=e.scripts,i=void 0===o?[]:o,l=e.links,c=void 0===l?[]:l,u=e.pageContext,m=u.demoInfo,p=u.meta,v=m.isCompleted,g=m.name,y=m.sources;return(0,r.useEffect)((function(){"undefined"!=typeof window&&t().catch((function(e){console.error("error:",e)}))}),[]),r.createElement(f.Z,null,r.createElement(a.q,{link:c.map((function(e){return{href:h(e),rel:"stylesheet",type:"text/css"}})),meta:[{content:p.description,name:"description"}],script:i.map((function(e){return{src:h(e),type:"text/javascript"}})),title:m.name+" | Demos igncp"}),r.createElement(s,{isCompleted:v,mainSource:y[0],name:g}),n,r.createElement(d,{demoInfo:m}))}},2504:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7294),a=n(2552),o=function(){return r.createElement("div",{className:a.Mv},r.createElement("p",null,(new Date).getFullYear()))},s=function(){return r.createElement("div",{className:a.H6},r.createElement("h1",null,r.createElement("span",{className:a.FJ},r.createElement("a",{href:"/demos/"},"Demos")," ",r.createElement("small",{className:"hide-tablet"},"interactive data visualization examples")),r.createElement("span",{id:a.ak},r.createElement("iframe",{className:"hide-mobile",frameBorder:"0",height:"20",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=follow",width:"119"}),r.createElement("iframe",{className:"hide-mobile",frameBorder:"0",height:"20",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=fork",width:"62"}),r.createElement("iframe",{frameBorder:"0",height:"20",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=igncp&repo=demos&type=watch",width:"52"}))))},i=function(e){var t=e.children;return r.createElement("div",{className:a.Mg+" px-3 px-sm-5"},r.createElement("div",{className:a.cs},r.createElement(s,null)),r.createElement("div",{className:a.Fh},t),r.createElement("div",{className:a.Y2},r.createElement(o,null)))}},4753:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(7294),a=n(1745),o=n(8634),s=n(2656),i=n.n(s),l=n(4494),c=function(e){var t=e.method,n=e.source,r=e.target;return function(){var e=n[t].apply(n,arguments);return e===n?r:e}},u=function e(t){var n=t.distortion,r=t.focus,a=t.scale,o=n,s=r;function i(e){var t=a(e),n=t<s,r=(0,l.Wem)(a.range()),i=r[0],c=r[1],u=n?s-i:c-s;return 0===u&&(u=c-i),(n?-1:1)*u*(o+1)/(o+u/Math.abs(t-s))+s}var u=function(e){return function(t){return void 0===t?o:(e(t),i)}};return i.distortion=u((function(e){o=+e})),i.focus=u((function(e){s=+e})),i.copy=function(){return e({distortion:o,focus:s,scale:a.copy()})},i.nice=a.nice,i.ticks=a.ticks,i.tickFormat=a.tickFormat,i.domain=c({method:"domain",source:a,target:i}),i.range=c({method:"range",source:a,target:i}),i},m={scale:function(e){return u({distortion:3,focus:0,scale:e()})}},d="fish-eye-module--axis--33d9a",f="fish-eye-module--background--ac9ea",h="fish-eye-module--chartTitle--a1de9",p=70,v=70,g=50,y=80,E=700-y-p,b=function(){function e(e){this.width=0,this.config=e,this.setupRootEl(),this.setVars(),this.setDom(),this.setChartTitle(),this.setBackground(),this.setPointer(),this.setAxis(),this.setLabels(),this.setDots(),this.setTitles(),this.updateDimensions(),this.bindMousemove(),this.bindMouseLeave(),this.bindClick(),this.bindResize(),this.setZoom({animationDuration:0,distortion:0,focus:[0,0]})}e.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0};var t=e.prototype;return t.refresh=function(){this.updateDimensions(1e3)},t.setupRootEl=function(){var e=document.getElementById(this.config.rootElId);e.classList.add("fish-eye-module--fishEyeChart--20e7a"),this.width=e.getBoundingClientRect().width-v-g},t.isSmallDevice=function(){return this.width<500},t.setDom=function(){var e=(0,l.Ys)("#"+this.config.rootElId).append("svg"),t=e.append("g");this.dom={svg:e,svgG:t}},t.setChartTitle=function(){this.dom.svgG.append("text").attr("class",h).attr("text-anchor","middle").style("font-weight","bold")},t.setVars=function(){var e=(0,l.PKp)().domain(this.config.colorDomain).range(l.i4X),t=(0,l.PUr)().domain([0,5e8]).range([5,60]),n=m.scale(l.p2C).domain([200,1e5]).range([0,this.width]),r=m.scale(l.BYU).domain([20,90]).range([E,0]);this.vars={colorScale:e,focused:!1,radiusScale:t,xScale:n,yScale:r}},t.setAxis=function(){var e=(0,l.WUZ)(",d");this.dom.xAxis=(0,l.LLu)(this.vars.xScale).tickFormat((function(t){if(t<1e3)return e(t);var n=Math.round(t/1e3);return e(n)+"k"})).tickSize(-E),this.dom.yAxis=(0,l.y4O)(this.vars.yScale).tickSize(-this.width),this.dom.svgG.append("g").attr("class","x "+d).attr("transform","translate(0,"+E+")").call(this.dom.xAxis),this.dom.svgG.append("g").attr("class","y "+d).call(this.dom.yAxis)},t.setBackground=function(){return this.dom.svgG.append("rect").attr("class",f)},t.setLabels=function(){this.dom.svgG.append("text").attr("class","x label").attr("text-anchor","middle").text(this.config.xAxisLabel),this.dom.svgG.append("text").attr("class","y label").attr("text-anchor","middle").attr("x",-E/2).attr("y",-40).attr("dy",".75em").attr("transform","rotate(-90)").text(this.config.yAxisLabel)},t.position=function(e){var t=this;this.dom.svgG.attr("transform","translate("+(v-(this.isSmallDevice()?20:0))+","+y+")"),this.dom.dot.sort((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],o=n[1];return t.config.getRadiusValue(o)-t.config.getRadiusValue(a)})).transition().duration(e).attr("cx",(function(e){var n=t.config.getXValue(e);return t.vars.xScale(n)})).attr("cy",(function(e){var n=t.config.getYValue(e);return t.vars.yScale(n)})).attr("r",(function(e){var n=t.config.getRadiusValue(e);return t.vars.radiusScale(n)/(t.isSmallDevice()?2:1)})),this.dom.xAxis.ticks(this.isSmallDevice()?2:void 0),this.dom.svgG.select(".x."+d).transition().duration(e).call(this.dom.xAxis),this.dom.svgG.select(".y."+d).transition().duration(e).call(this.dom.yAxis)},t.setDots=function(){var e=this;this.dom.dot=this.dom.svgG.append("g").attr("class","dots").selectAll(".dot").data(this.config.chartItems).enter().append("circle").attr("class","dot").style("fill",(function(t){var n=e.config.getColorValue(t);return e.vars.colorScale(n)})).style("stroke","black").style('"stroke-width"',"1px"),this.position(0)},t.setTitles=function(){this.dom.dot.append("title").attr("class","dot-title"),this.updateTitles()},t.setZoom=function(e){var t=e.animationDuration,n=e.distortion,r=e.focus;this.vars.xScale.distortion(n).focus(r[0]),this.vars.yScale.distortion(n).focus(r[1]),this.position(t)},t.updateTitles=function(){var e=this;this.dom.dot.selectAll(".dot-title").text((function(t){return e.config.getCircleTitle(t)})),this.dom.svgG.select("."+h).text(this.isSmallDevice()?this.config.titles.short:this.config.titles.long)},t.zoom=function(e){var t=e.animationDuration,n=e.interactionEvent,r=(0,l.cx$)(n);this.setZoom({animationDuration:t,distortion:2.5,focus:r})},t.setPointer=function(){this.dom.pointer=this.dom.svgG.append("text").text("+").attr("class","fish-eye-module--pointer--15827")},t.bindMousemove=function(){var t=this;return this.dom.svgG.on("mousemove",(function(n){e.isTouchDevice()||t.vars.focused||t.zoom({animationDuration:0,interactionEvent:n})}))},t.bindMouseLeave=function(){var e=this;return this.dom.svgG.on("mouseleave",(function(){e.vars.focused||e.setZoom({animationDuration:1e3,distortion:0,focus:[0,0]})}))},t.bindClick=function(){var t=this;this.dom.svgG.on("click",(function(n){var r=e.isTouchDevice();if(r||(t.vars.focused=!t.vars.focused,!t.vars.focused))t.dom.pointer.style("opacity",0),t.zoom({animationDuration:r?1e3:0,interactionEvent:n});else{var a=(0,l.cx$)(t);t.dom.pointer.attr("x",a[0]).attr("y",a[1]).style("opacity",1)}}))},t.updateDimensions=function(e){void 0===e&&(e=0),this.setupRootEl();var t=this.isSmallDevice()?20:0,n=this.width+t;this.dom.svg.attr("width",this.width+v+g).attr("height",E+y+p),this.dom.svgG.select("."+h).attr("transform","translate("+n/2+",-40)"),this.dom.svgG.select("."+f).attr("width",this.width).attr("height",E),this.dom.svgG.select(".x.label").attr("y",E+26).attr("x",this.width/2),this.vars.xScale.range([0,n]),this.updateTitles(),this.position(e)},t.bindResize=function(){var e=this;window.addEventListener("resize",(function(){e.updateDimensions()}))},e}(),x="chart",w="random-update",k=function(){var e=(0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.AVB)("/demos/data/d3js/fish-eye/data.json"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){return e.income},N=function(e){return e.lifeExpectancy},D=function(e){return e.population},C=function(e){return e.region},A=function(e){for(var t=e.toFixed(0);;){var n=t.replace(/(\d)(\d{3})($|,|\.)/g,"$1,$2$3");if(n===t)break;t=n}return t},P=function(e){return e.name+":\n- Income: "+A(e.income)+" $/P.C.\n- Population: "+A(e.population)+"\n- Life expectancy: "+e.lifeExpectancy+" years"},T=["Sub-Saharan Africa","South Asia","Middle East & North Africa","America","Europe & Central Asia","East Asia & Pacific"],L=function(e){return{chartItems:e,colorDomain:T,getCircleTitle:P,getColorValue:C,getRadiusValue:D,getXValue:S,getYValue:N,rootElId:x,titles:{long:"Income Per Capita vs Life Expectancy vs Population vs Region - 180 Countries",short:"Income Per Capita vs Life Expectancy"},xAxisLabel:"income per capita, inflation-adjusted (dollars)",yAxisLabel:"life expectancy (years)"}},G=function(){var e=(0,o.Z)(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:n=e.sent,r=L(n),a=new b(r),null===(t=document.getElementById(w))||void 0===t||t.addEventListener("click",(function(){var e=function(e){return(0,l.Wem)(r.chartItems,(function(t){return t[e]}))},t=e("population"),n=e("income"),o=e("lifeExpectancy"),s=(0,l.vY$)().exponent(20).range(t),i=(0,l.vY$)().exponent(5).range(n),c=(0,l.vY$)().exponent(2).range(o);r.chartItems.forEach((function(e){Math.random()<.1&&(e.population=s(Math.random()),e.income=i(Math.random()),e.lifeExpectancy=c(Math.random()))})),a.refresh()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=G,M=function(e){var t=e.pageContext;return r.createElement(a.Z,{main:I,pageContext:t},r.createElement("div",{style:{marginBottom:20,textAlign:"center"}},r.createElement("button",{className:"btn btn-primary",id:w},"Update random values")),r.createElement("div",{id:x}))}},2656:function(e,t,n){e.exports=n(3076)},2552:function(e,t,n){"use strict";n.d(t,{eR:function(){return r},rT:function(){return a},UG:function(){return o},ZV:function(){return s},Bf:function(){return i},K7:function(){return l},wI:function(){return c},W2:function(){return u},Fh:function(){return m},jS:function(){return d},XP:function(){return f},s2:function(){return h},Mv:function(){return p},Y2:function(){return v},eQ:function(){return g},Be:function(){return y},cs:function(){return E},$c:function(){return b},Mg:function(){return x},hB:function(){return w},H6:function(){return k},FJ:function(){return S},YX:function(){return N},Jw:function(){return D},_q:function(){return C},zG:function(){return A},Vj:function(){return P},pn:function(){return T},x:function(){return L},oT:function(){return G},dc:function(){return I},l4:function(){return M},sD:function(){return W},V2:function(){return B},ak:function(){return V}});var r="styles-module--backHome--b9e05",a="styles-module--bullet--337e0",o="styles-module--d3js--ff3aa",s="styles-module--raphael--40af0",i="styles-module--storybook--f1bcc",l="styles-module--testing--9f8b3",c="styles-module--codeFragment--8d705",u="styles-module--codeFragmentButton--98bc0",m="styles-module--contentWrapper--2c2b6",d="styles-module--demoName--4057d",f="styles-module--divisor--4c75d",h="styles-module--fileNameWrapper--e0bd4",p="styles-module--footer--a0f96",v="styles-module--footerWrapper--5365d",g="styles-module--homeDemoNumber--755fe",y="styles-module--homeDemoNameLink--4b57a",E="styles-module--navWrapper--08cc9",b="styles-module--notes--e1c07",x="styles-module--rootLayout--03362",w="styles-module--sourceNumber--335c1",k="styles-module--pageHeader--06484",S="styles-module--titleWrapper--81a79",N="styles-module--rowWrapper--9f3a4",D="styles-module--tagCollection--c96c8",C="styles-module--tag--8c674",A="styles-module--demosLegend--16d25",P="styles-module--demosLists--52492",T="styles-module--highlightStorybook--b465e",L="styles-module--highlightTesting--b7d3f",G="styles-module--demoWip--18449",I="styles-module--demoTitle--7c73a",M="styles-module--mainSource--f7ebb",W="styles-module--dataList--54f77",B="styles-module--sourcesList--27e91",V="styles-module--ghButtons--1d466"},8634:function(e,t,n){"use strict";function r(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,l,"next",e)}function l(e){r(s,a,o,i,l,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-d-3-js-fish-eye-tsx-2d77c7976112949dcb7a.js.map