(self.webpackChunkdemos=self.webpackChunkdemos||[]).push([[542],{7440:function(t,e){"use strict";var n={colorsScale:function(t,e){var n=d3.scale.linear().domain(e).range([0,1]),r=d3.scale.linear().domain(d3.range(0,1,1/t.length)).range(t);return function(t){return r(n(t))}},filterBlackOpacity:function(t,e,n,r){var a=e.append("defs").append("filter").attr({height:"500%",id:"drop-shadow-"+t,width:"500%",x:"-200%",y:"-200%"});a.append("feGaussianBlur").attr({in:"SourceAlpha",stdDeviation:n}),a.append("feOffset").attr({dx:1,dy:1}),a.append("feComponentTransfer").append("feFuncA").attr({slope:r,type:"linear"});var o=a.append("feMerge");return o.append("feMergeNode"),o.append("feMergeNode").attr("in","SourceGraphic")},filterColor:function(t,e,n,r,a){null==a&&(a=!1);var o=e.append("defs").append("filter").attr({id:"drop-shadow-"+t});return a&&o.attr({height:"500%",width:"500%",x:"-200%",y:"-200%"}),o.append("feOffset").attr({dx:.5,dy:.5,in:"SourceGraphic",result:"offOut"}),o.append("feGaussianBlur").attr({in:"offOut",result:"blurOut",stdDeviation:n}),o.append("feBlend").attr({in:"SourceGraphic",in2:"blurOut",mode:"normal"}),o.append("feComponentTransfer").append("feFuncA").attr({slope:r,type:"linear"})},middleTitle:function(t,e,n,r){null==r&&(r=-15),t.append("text").attr({class:"chart-title","text-anchor":"middle",transform:"translate("+String(e/2)+","+r+")"}).text(n).style({"font-weight":"bold"})},svg:function(t,e,n,r){return d3.select(t).text("").append("svg").attr({height:n+r.top+r.bottom,width:e+r.left+r.right}).append("g").attr({transform:"translate("+r.left+","+r.top+")"})},tooltip:function(t,e){null==e&&(e={});var n=_.merge({elementSelector:"",followElement:!1,followMouse:!1,leftOffst:60,tOpts:{container:"body",viewport:{selector:"#chart svg"}},topOffst:40},e);$(t).tooltip(n.tOpts),n.followMouse?$(t).hover((function(t){return $(".tooltip").css({left:String(t.pageX-n.leftOffst)+"px",top:String(t.pageY-n.topOffst)+"px"})})):n.followElement&&$(t).hover((function(){return $(".tooltip").css({left:String($(n.elementSelector).position().left-n.leftOffst)+"px",top:String($(n.elementSelector).position().top-n.topOffst)+"px"})}))}};e.Z=n},8469:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(7294),a=n(7538),o=n(7440),i=function(){d3.csv("/demos/data/d3js/area/data.csv",(function(t,e){var n={bottom:50,left:70,right:50,top:50},r=$("#chart").innerWidth()-n.left-n.right,a=400-n.top-n.bottom,i=o.Z.svg("#chart",r,a,n);o.Z.middleTitle(i,r,"Share of top decile [aka top 10%] in national income"),o.Z.filterBlackOpacity("points",i,2,.5);var l=d3.max(e,(function(t){return t.year})),p=d3.min(e,(function(t){return t.year})),c=d3.max(e,(function(t){return t.percent/100})),s=d3.min(e,(function(t){return t.percent/100})),d=d3.scale.linear().range([0,r]).domain([p,l]),f=d3.scale.linear().range([0,a]).domain([c+.05,s-.05]),u=d3.svg.axis().scale(d).tickFormat(d3.format(".")).innerTickSize(-a),m=d3.svg.axis().scale(f).tickFormat(d3.format("%")).innerTickSize(-r).orient("left");i.append("g").attr("class","x axis").attr("transform","translate(0,"+String(a)+")").call(u).selectAll("text").attr({dy:"1.25em"}),i.append("g").attr("class","y axis").call(m).selectAll("text").attr({dx:"-.25em"});var h=d3.svg.area().interpolate("monotone").x((function(t){return d(t.year)})).y0(a).y1((function(t){return f(t.percent/100)})),g=d3.svg.line().x((function(t){return d(t.year)})).y((function(t){return f(t.percent/100)}));i.append("path").datum(e).attr({class:"line","clip-path":"url(#clip)",d:g}),i.append("clipPath").attr({id:"clip"}).append("rect").attr({height:a,width:r}),i.append("path").datum(e).attr({class:"area","clip-path":"url(#clip)",d:h});var v=d3.geom.voronoi().x((function(t){return d(t.year)})).y((function(t){return f(t.percent/100)})).clipExtent([[-n.left,-n.top],[r+n.right,a+n.bottom]]);i.selectAll("circle").data(e).enter().append("circle").attr("transform",(function(t){return"translate("+String(d(t.year))+","+f(t.percent/100)+")"})).attr("r","5px").attr("class",(function(t,e){return"point point-"+e})).style({filter:"url(#drop-shadow-points)"}),i.append("g").attr("class","voronoi").selectAll("path").data(v(e)).enter().append("path").attr("d",(function(t,e){return t.index=e,"M"+t.join("L")+"Z"})).on("mouseover",(function(t){return d3.select(".point-"+t.index).style("display","block")})).on("mouseleave",(function(t){return d3.select(".point-"+t.index).style("display","none")})).attr("class","voronoi-area").append("title").text((function(t){return"Year: "+t.point.year+": Percent: "+t.point.percent+"%"}))}))},l=function(t){var e=t.pageContext.demoInfo;return r.createElement(a.Z,{demoInfo:e,main:i,scripts:["/vendors/d3/d3.min.js","/js/d3js-utils.js"]},r.createElement("div",{className:"area-chart",id:"chart"}))}}}]);
//# sourceMappingURL=component---src-pages-d-3-js-area-js-fb8fa49201f40c82a4a1.js.map