{"version":3,"sources":["webpack://demos/./src/demos/bars-3dimensional/bars-3dimensional.js","webpack://demos/./src/pages/raphael/bars-3dimensional.js"],"names":["Raphael","window","require","ch","cb","$","ajax","ROOT_PATH","done","data","results","setData","keys","Object","seriesDisplayed","seriesLength","length","keysLength","forEach","item","dom","els","config","cg","_","extend","colorScheme","deep","easing","heightOffset","ratio","speed","width","paper","i","_i","path","String","attr","it","se","calcH5","calcH10","calcH0","index","inner","calcInnerPath","outer","calcOuterPath","el","push","transform","animate","fill","bind","e","preventDefault","animateCountries","drawAxis","set","bindClickEvent","createCountries","setCg","setDom","getData","render","ready","demoInfo","pageContext","main","style","marginBottom","textAalign","className","href","id"],"mappings":"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","file":"component---src-pages-raphael-bars-3-dimensional-js-9e954c9c2a2a059c7be7.js","sourcesContent":["const Raphael = typeof window === \"undefined\" ? null : require(\"raphael\")\n\nconst ch = {}\n\nch.getData = function (cb) {\n  return $.ajax(`${ROOT_PATH}data/raphael/bars-3dimensional/data.json`).done(\n    (data) => {\n      ch.data = data.results\n      ch.setData()\n\n      return cb()\n    }\n  )\n}\n\nch.setData = function () {\n  const { data } = ch\n\n  data.keys = Object.keys(data)\n  data.seriesDisplayed = 0\n  data.seriesLength = data[data.keys[0]].length\n  data.keysLength = data.keys.length\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item] = {}\n  })\n}\n\nch.setCg = function (config) {\n  if (config == null) {\n    config = {}\n  }\n\n  ch.cg = _.extend(\n    {\n      colorScheme: [\"#C1252D\", \"#5F3A5F\", \"#51A8D0\"],\n      deep: 5,\n      easing: \"bounce\",\n      heightOffset: 100,\n      ratio: 0.6,\n      speed: 800,\n      width: $(\"#chart\").width(),\n    },\n    config\n  )\n}\n\nch.setDom = function () {\n  ch.dom = {\n    els: {},\n    paper: Raphael(\"chart\", ch.cg.width, 245),\n  }\n}\n\nch.drawAxis = function () {\n  const { paper } = ch.dom\n  const { deep } = ch.cg\n\n  for (let i = 0, _i = 0; _i <= 3; i = ++_i) {\n    const path = `M5,${String(25 * i)} ${ch.cg.width},${String(\n      ch.cg.heightOffset + i * 25\n    )}`\n\n    paper.path(path).attr(\"stroke-dasharray\", \". \")\n  }\n\n  return paper\n    .path(\n      `M0,${deep + 100} ${deep},100 ${ch.cg.width},${\n        100 + ch.cg.heightOffset\n      } ${ch.cg.width - deep},${100 + ch.cg.heightOffset + deep}Z`\n    )\n    .attr(\"fill\", \"#999\")\n    .attr(\"stroke\", \"none\")\n}\n\nch.calcH0 = function (it, se) {\n  return 100 - ch.data[it][se]\n}\n\nch.calcH5 = function (it, se) {\n  return 100 - ch.data[it][se] + 5 * ch.cg.ratio\n}\n\nch.calcH10 = function (it, se) {\n  return 100 - ch.data[it][se] + 10 * ch.cg.ratio\n}\n\nch.calcInnerPath = function (it, se) {\n  return (\n    `M0,${ch.calcH5(it, se)} 15,${ch.calcH10(it, se)} ` +\n    `15,${100 + 10 * ch.cg.ratio} 0,${100 + 5 * ch.cg.ratio}Z`\n  )\n}\n\nch.calcOuterPath = function (it, se) {\n  return `M0,${ch.calcH5(it, se)} 5,${ch.calcH0(it, se)} 20,${ch.calcH5(\n    it,\n    se\n  )} 20,${100 + 5 * ch.cg.ratio} 15,${100 + 10 * ch.cg.ratio} 0,${\n    100 + 5 * ch.cg.ratio\n  }Z`\n}\n\nch.createCountries = function (i) {\n  const { data } = ch\n  const { paper } = ch.dom\n\n  return data.keys.forEach((item, index) => {\n    ch.dom.els[item].inner = paper.path(ch.calcInnerPath(item, i))\n    ch.dom.els[item].outer = paper\n      .path(ch.calcOuterPath(item, i))\n      .attr(\"opacity\", \".5\")\n    ch.dom.els[item].el.push(ch.dom.els[item].inner, ch.dom.els[item].outer)\n    ch.dom.els[item].el.transform(\n      `T ${String((ch.cg.width / data.keysLength) * index)},` +\n        `${String((ch.cg.heightOffset / data.keysLength) * index)}`\n    )\n\n    return ch.dom.els[item].el\n      .attr(\"fill\", \"#C1252D\")\n      .attr(\"stroke\", \"none\")\n      .attr(\"title\", `${item}: ${data[item][i]}`)\n  })\n}\n\nch.animateCountries = function (i) {\n  const { data } = ch\n\n  data.keys.forEach((item) => {\n    ch.dom.els[item].inner.animate(\n      {\n        path: ch.calcInnerPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n    ch.dom.els[item].outer.animate(\n      {\n        path: ch.calcOuterPath(item, i),\n      },\n      ch.cg.speed,\n      ch.cg.easing\n    )\n\n    return ch.dom.els[item].el.animate(\n      {\n        fill: ch.cg.colorScheme[i],\n      },\n      ch.cg.speed\n    )\n  })\n}\n\nch.bindClickEvent = function () {\n  const { data } = ch\n\n  return $(\".animate-bars\").bind(\"click\", (e) => {\n    e.preventDefault()\n\n    if (data.seriesDisplayed + 1 === data.seriesLength) {\n      data.seriesDisplayed = 0\n    } else {\n      data.seriesDisplayed = data.seriesDisplayed + 1\n    }\n\n    return ch.animateCountries(data.seriesDisplayed)\n  })\n}\n\nch.render = function () {\n  ch.drawAxis()\n  ch.data.keys.forEach((item) => {\n    ch.dom.els[item].el = ch.dom.paper.set()\n  })\n  ch.bindClickEvent()\n\n  return ch.createCountries(ch.data.seriesDisplayed)\n}\n\nch.ready = function () {\n  ch.setCg()\n  ch.setDom()\n\n  return ch.getData(ch.render)\n}\n\nexport default () => {\n  ch.ready()\n}\n","import React from \"react\"\n\nimport Demo from \"@/components/demo\"\n\nimport main from \"@/demos/bars-3dimensional/bars-3dimensional\"\nimport \"@/demos/bars-3dimensional/bars-3dimensional.styl\"\n\nconst Bars3Dimensional = ({ pageContext: { demoInfo } }) => (\n  <Demo demoInfo={demoInfo} main={main}>\n    <div\n      style={{\n        marginBottom: 20,\n        textAalign: \"center\",\n      }}\n    >\n      <a className=\"btn btn-info animate-bars\" href=\"\">\n        Change Series\n      </a>\n    </div>\n    <div className=\"bars-3dimensional-chart\" id=\"chart\" />\n  </Demo>\n)\n\nexport default Bars3Dimensional\n"],"sourceRoot":""}